!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=134)}({134:function(e,t,n){"use strict";var a=n(14),o=n(6),r=document.getElementById("box").getElementsByTagName("button");r[0].addEventListener("click",(function(){(0,o.validateRuntimeOnUserInteraction)(()=>{E()})})),r[1].addEventListener("click",(function(){(0,o.validateRuntimeOnUserInteraction)(()=>{chrome.runtime.sendMessage({method:"createTab",url:a.CONST_RAKUTEN_WEBSEARCH.defaultUrl+"/Web?qt="+encodeURIComponent(i.value)+"&ref=chext_tb&tool_id=1"})})})),r[2].addEventListener("click",(function(){(0,o.validateRuntimeOnUserInteraction)(()=>{chrome.runtime.sendMessage({method:"createTab",url:i.value.trim().length?`https://websearch.rakuten.co.jp/Shopping?query=${encodeURIComponent(i.value)}&ref=chexti&tool_id=1&col=OW`:a.CONST_RAKUTEN_WEBSEARCH.defaultUrl+"/dpr?btnType=ichiba&platform=unifiedext"})})})),r[3].addEventListener("click",(function(){(0,o.validateRuntimeOnUserInteraction)(()=>{chrome.runtime.sendMessage({method:"createTab",url:"/options.html"})})}));var i=document.getElementById("searchBox");function _(){window.parent.postMessage({method:"RTBcs.ToolbarManager.shrink"},"*")}function E(){window.parent.postMessage({method:"RTBcs.ToolbarManager.hide"},"*")}i.addEventListener("keydown",(function(e){switch((0,o.validateRuntimeOnUserInteraction)(),e.keyCode){case 13:e.preventDefault(),_();break;case 27:E();break;default:window.parent.postMessage({method:"RTBcs.ToolbarManager.expand"},"*")}})),i.addEventListener("focusout",(function(e){_()})),i.addEventListener("input",(function(e){i.value,window.parent.postMessage({method:"RTBcs.ToolbarManager.setBoxValue",value:i.value},"*")})),window.addEventListener("message",(function(e){var t=e.data;"setBoxValue"==t.method&&(i.value=t.value)})),window.addEventListener("load",(function(e){window.parent.postMessage({method:"RTBcs.ToolbarManager.onload"},"*")}))},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCHBAR_SETTING=t.EXTENSION_SETTING=t.CONST_SEARCHBAR_SETTING=t.CONST_RAKUTEN_WEBSEARCH=t.CONST_LOGIN_SETTING=t.CONST_EXTENSION_SETTING=t.BANNER_DISABLE_OPTION=t.BANNER_DISABLE_GOOGLE_ANALYTICS_OPTIONS=t.BANNER_DISABLED_TIMER=void 0;var a=n(3);t.CONST_EXTENSION_SETTING="ExtensionSetting";t.CONST_SEARCHBAR_SETTING="SearchBarSetting";t.CONST_LOGIN_SETTING="login";t.CONST_RAKUTEN_WEBSEARCH={defaultUrl:"https://websearch.rakuten.co.jp",host:"websearch.rakuten.co.jp",queryKey:"qt",path:"/Web",cookie_domain:".websearch.rakuten.co.jp",api:"https://app.websearch.rakuten.co.jp"};const o={BANNER_POPUP_USE:0,BANNER_DISABLE_SEARCH:1,BANNER_DISABLE_ALL:2,NO_USE:3};t.BANNER_DISABLE_OPTION=o;t.BANNER_DISABLED_TIMER={TIMER_24HOURS:0,TIMER_30DAYS:1,DISABLE_COMPLETELY:2};t.BANNER_DISABLE_GOOGLE_ANALYTICS_OPTIONS=["24h","30d","always"];t.EXTENSION_SETTING=class{constructor(){this.IsDefaultOpenRakutenWebsearch=!1,this.IsSearchHistoryStored=!0,this.BannerDisableOption=o.BANNER_POPUP_USE,this.AffiliateOption=a.AFFILIATE_SETTING_OPTION.DO_NOT_SHOW_BAR.RADIO_INDEX,this.PickupDisabledTimerSelectedOption=null,this.RakutenBtaEndpoint=null}};t.SEARCHBAR_SETTING=class{constructor(){this.SearchBarHighlight=!0,this.SearchBarDisplayAlways=!1}}},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PB_ID=t.ANCHOR_CONTROL_CONTENT_MODE=t.AFFILIATE_SETTING_OPTION=t.AFFILIATE_PREVIEW_CONTENT_MODE=t.AFFILIATE_DOMAINS=t.AFFILIATE_COPY_BUTTON_GOOGLE_ANALYTICS_CODES=t.AFFILIATE_BAR_GET_FREE_ITEM_INFO=t.AFFILIATE_BAR_FREE_ITEM_CHECK=t.AFFILIATE_BAR_AFFILIATE_LINK_URL=t.AFFILIATE_BAR_AFFILIATE_ID_CHECK=void 0;t.AFFILIATE_BAR_AFFILIATE_LINK_URL="https://partner.afl.rakuten.co.jp/api/76/5/AflLink";t.AFFILIATE_BAR_AFFILIATE_ID_CHECK="https://partner.afl.rakuten.co.jp/api/76/8/AfIdVerification";t.AFFILIATE_BAR_GET_FREE_ITEM_INFO="https://affiliate.rakuten.co.jp/freelink/data";t.AFFILIATE_BAR_FREE_ITEM_CHECK="https://affiliate.rakuten.co.jp/freelink/check";t.AFFILIATE_SETTING_OPTION={SHOW_BAR:{RADIO_INDEX:0,GOOGLE_ANALYTICS_VALUE:"Setting_affiliate_true_"},DO_NOT_SHOW_BAR:{RADIO_INDEX:1,GOOGLE_ANALYTICS_VALUE:"Setting_affiliate_false_"}};t.AFFILIATE_COPY_BUTTON_GOOGLE_ANALYTICS_CODES={BAR:"Pck_affiliate_copy1_button",POPUP:"Pck_affiliate_copy2_button"};t.AFFILIATE_PREVIEW_CONTENT_MODE={TEXT:"text",RENDER:"render"};t.ANCHOR_CONTROL_CONTENT_MODE={TEXT:"text",IMAGE:"image",CHILDREN:"children"};t.DEFAULT_PB_ID="_RTtool10000000";t.AFFILIATE_DOMAINS={ALL_AFFILIATES:{domain_code:1,domain_pattern:/^https?:\/\/(item|books|brandavenue|sm|biccamera)\.rakuten\.co\.jp\//,height:75}}},6:function(e,t,n){"use strict";function a(e){try{chrome.runtime.sendMessage({method:"checkBackgroundAlive"},t=>{const n=!chrome.runtime.lastError&&!0===t;e(n)})}catch(t){e(!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkRuntimeValid=a,t.validateRuntimeOnUserInteraction=function(e){a(t=>{t?e&&e():window.alert("Please enable RakutenToolbar extension.")})}}});
//# sourceMappingURL=content_searchbar.js.map