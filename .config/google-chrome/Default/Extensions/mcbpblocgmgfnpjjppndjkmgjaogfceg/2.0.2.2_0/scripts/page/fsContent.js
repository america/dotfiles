/**
* @license FireShot - Webpage Screenshots and Annotations
* Copyright (C) 2007-2024 Evgeny Vokilsus (contacts@getfireshot.com)
*/

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b6f11711-2d00-5e6a-bcea-26d72c57f50f")}catch(e){}}();
var ignoredAttributeFlagName="__fireshotIgnoredElement";(()=>{window.fsContentScriptId=`fsCSID # ${Math.ceil(Math.random()*45309714203)}${Number(new Date)}`;var d=window.fsContentScriptId,r=[],c=[],y=[],k=[],H=void 0,L=void 0,T=null,p=!1,A=void 0,f=void 0;const a=!0,w="__fireshotPosX",u="__fireshotPosY",b="__fireshotScrollX",R="__fireshotScrollY",D="__fireshotCheckedCntr",F="__fireshotSE",x=150;!a&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({message:"getPortName"},function(t){H=t.portName,getConsolePtr()("Obtained port name: "+H)});function J(t,o){return L[t]||o}var X=function(t){var o=document.head.appendChild(t).sheet;return function(g,Q){var N=typeof Q=="string"?Q:Object.keys(Q).map(function(B){return B+":"+(B==="content"?"'"+Q[B]+"'":Q[B])}).join(";"),O=o?o.insertRule(g+"{"+N+"}",o.cssRules.length):0;return{cancel:function(){o&&o.removeRule(O)}}}}(document.createElement("style"));function G(t){typeof t>"u"&&(t=!0);var o;if(window.location.href.match(/https?:\/\/mail\.google\.com/i)){for(var g=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),Q;Q=g.nextNode();)Q.nodeName=="TD"&&Q.getAttribute("class")&&Q.getAttribute("class").match(/Bu y3/i)&&Q.style.setProperty("display",t?"":"none","important");(o=document.getElementById(":ro"))&&o.style.setProperty("display",t?"":"none","important"),(o=document.getElementById(":5"))&&o.style.setProperty("display",t?"":"none","important")}}function s(t,o,g,Q){t.unshift({object:o,property:g,value:o.style.getPropertyValue(g),priority:o.style.getPropertyPriority(g)}),o.style.setProperty(g,Q,"important")}function Z(t){t.forEach(o=>{o.value?o.object.style.setProperty(o.property,o.value,o.priority):o.object.style[o.property]=null,getConsolePtr()("Restoring: "),getConsolePtr()(o.object),getConsolePtr()("Setting element.style['"+o.property+"'] = '"+o.value+"'")}),t.length=0}function j(t,o,g){function Q(I){for(var M=I;M&&M.parentNode&&M!=document;){var n=document.defaultView.getComputedStyle(M,"");if(n.visibility==="hidden"||n.display==="none"||n.opacity==="0")return!0;M=M.parentNode}return!1}let N=t.getBoundingClientRect(),O=N.width*N.height+1,B=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),E=t!==he(),C,Y=window.innerWidth*.9,W=window.innerHeight*.9,i=N.width*.33,h=N.height*.33,e=N.width*.9,m=N.height*.9;for(;(C=B.nextNode())!==null;){if(C===t||C[ignoredAttributeFlagName])continue;let I=typeof C[D]<"u"?C[D]:0;if(I>2)continue;C[D]=++I;const M=C.getBoundingClientRect();if(C.scrollWidth>Y&&C.scrollHeight>W&&C.clientWidth>i&&C.clientHeight>h||E&&C.clientWidth>e&&C.clientHeight>m){C[ignoredAttributeFlagName]=1;continue}if(M.width*M.height===0){C[ignoredAttributeFlagName]=1;continue}const v=typeof C[w]<"u"?C[w]:null,q=C[u],ee=C[b],l=C[R];if(C[w]=M.left,C[u]=M.top,C[b]=t.scrollLeft,C[R]=t.scrollTop,v===null||M.top<0||M.top>window.innerHeight)continue;const Se=Math.abs(t.scrollLeft-ee),Be=Math.abs(t.scrollTop-l),Ae=Math.abs(M.left-v),ye=Math.abs(M.top-q);if((!o&&ye<Be/2||o&&Ae<Se/2)&&!fe(C)){if(E&&isChildOf(C,t)||E&&isChildOf(t,C)&&M.width*M.height/O>.35||M.top>=window.innerHeight-g)continue;Q(C)?C[ignoredAttributeFlagName]=1:U(C)}}}function fe(t){for(var o=0;o<r.length;++o)if(r[o].elem===t)return!0;return!1}function U(t){getConsolePtr()("Hiding:"),getConsolePtr()(t),r.push({elem:t,opacity:t.style.getPropertyValue("opacity"),animation:t.style.getPropertyValue("animation"),transitionDuration:t.style.getPropertyValue("transition-duration")}),t.style.setProperty("opacity","0","important"),t.style.setProperty("animation","unset","important"),t.style.setProperty("transition-duration","0s","important"),t[ignoredAttributeFlagName]=1}function de(t){let o=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),g;for(;g=o.nextNode();){if(g===t)continue;const Q=document.defaultView.getComputedStyle(g,"");(Q&&Q.getPropertyValue("position"))==="sticky"&&!isChildOf(g,t)&&!isChildOf(t,g)&&U(g)}}function ce(t,o){const g="-3e+07px",Q=t?t.getBoundingClientRect():void 0,N=Q?Q.width:window.innerWidth,O=Q?Q.height:window.innerHeight;o=o||!1;for(var B=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),E;E=B.nextNode();)if(E!==t&&!(A&&E==A.holder)&&E.id!=="__FireShotAutomationBanner"){var C=document.defaultView.getComputedStyle(E,""),Y=C&&C.getPropertyValue("position");if((Y=="fixed"||Y=="sticky")&&!fe(E)&&C.getPropertyValue("display")!="none"){if(t&&isChildOf(E,t)||Y!="sticky"&&o&&E.scrollWidth>window.innerWidth||E.scrollWidth>window.innerWidth*.9&&E.scrollHeight>window.innerHeight*.9&&E.clientWidth>N*.33&&E.clientHeight>O*.33)continue;var W=!1;if(Y==="sticky"){var i=C.getPropertyValue("top"),h=C.getPropertyValue("bottom"),e=C.getPropertyValue("left"),m=C.getPropertyValue("right");i&&i!==g&&(f?s(y,E,"top",g):W=!0),h&&h!==g&&(f?s(y,E,"bottom",g):W=!0),e&&e!==g&&(f?s(y,E,"left",g):W=!0),m&&m!==g&&(f?s(y,E,"right",g):W=!0)}p=p||W,(W||Y!=="sticky")&&(getConsolePtr()("Found stubborn element "+E.id),U(E))}}for(var I=0;I<r.length;++I)r[I].elem.style.setProperty("opacity","0")}function _(){for(var t=0;t<r.length;++t)r[t].elem.style.setProperty("opacity",r[t].opacity),r[t].elem.style.setProperty("animation",r[t].animation),r[t].elem.style.setProperty("transition-duration",r[t].transitionDuration)}function $(){for(var t=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),o;o=t.nextNode();)[ignoredAttributeFlagName,D,w,u,b,R].forEach(g=>{typeof o[g]<"u"&&delete o[g]})}function pe(){for(var t=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),o;(o=t.nextNode())!==null;)document.defaultView.getComputedStyle(o,"").backgroundAttachment=="fixed"&&s(c,o,"background-attachment","scroll")}function ae(){var t=[];function o(){t=Array.prototype.slice.call(document.querySelectorAll("DIV")).map(function(g){return{element:g,top:g.style.top}}).filter(function(g){return g.element.style.position=="absolute"})}return o(),{undoSwitchingToFixedPositions:function(){t.forEach(function(g){g.element.style.position=="fixed"&&(g.element.style.position="absolute",g.element.style.top=g.top)})}}}function Le(){var t=window.document,o=t.documentElement,g=o.clientWidth?o.clientWidth:window.innerWidth,Q=-1;if(Q<0&&(Q=window.innerHeight-getSBHeight(window)),t.body){var N=t.compatMode=="CSS1Compat"?t.documentElement.scrollWidth:t.body.scrollWidth,O=t.documentElement.scrollHeight,B=t.compatMode=="CSS1Compat"?t.documentElement.clientWidth:t.body.clientWidth,E=t.compatMode=="CSS1Compat"?t.documentElement.clientHeight:t.body.clientHeight;N<B&&(N=B),O<E&&(O=E),g<N&&(g=N),Q<O&&(Q=O)}return{Width:g,Height:Q}}function Ee(t,o,g){let Q,N=location.href,O=createNodeIteratorAdvanced(document.documentElement,NodeFilter.SHOW_ELEMENT),B;g.forEach(h=>{h.tagName="IFRAME_MOCKUP",h.getClientRects=function(){return[{left:h.x,top:h.y,width:h.width,height:h.height}]},h.scaleX=h.scales[0],h.scaleY=h.scales[1]});let E=g.values();const C=document.documentElement.clientWidth===document.documentElement.scrollWidth&&document.documentElement.clientHeight===document.documentElement.scrollHeight,Y=N.match(/https?:\/\/www\.(facebook|fb)\.com/i),W=N.match(/https?:\/\/www\.(facebook|fb)\.com\/messages/i),i=N.match(/https?:\/\/www\.bing\.com/i);if(!(Y&&!W)){for(;(B=O.nextNode())||(B=E.next().value);){const h=B.scaleX||1,e=B.scaleY||1;if(B.clientWidth<=window.innerWidth+20&&B.clientHeight<=window.innerHeight+20&&B.scrollWidth>0&&B.scrollHeight>0&&(B.scrollWidth>B.clientWidth||B.scrollHeight>B.clientHeight)&&(i&&B.getClientRects().length>0&&B.getClientRects()[0].top===0&&B.clientWidth>window.innerWidth-100&&B.clientHeight>window.innerHeight-100||C&&B.clientWidth>document.documentElement.clientWidth*.5&&B.clientHeight>document.documentElement.clientHeight*.8||B.scrollWidth*h>t&&B.scrollHeight*e>o*.5||B.scrollHeight*e>o*1.5&&B.scrollWidth*h>t*.3||B.clientWidth>t*.7&&B.clientHeight>o*.7)&&(!Q||Q.clientWidth*Q.clientHeight<B.clientWidth*B.clientHeight)&&(B.tagName==="IFRAME_MOCKUP"||isScrollableStyle(document.defaultView.getComputedStyle(B,"")))){const I=Ce(B);I.absoluteX+I.w<=window.innerWidth+2&&(I.absoluteY+I.h<=window.innerHeight+2||window.innerHeight*1.5<B.scrollHeight&&B.clientHeight<=window.innerHeight+50)&&(Q=B)}}return Q&&(getConsolePtr()("Found scrolled element:"),getConsolePtr()(Q)),Q}}function Ce(t){var o=t.getClientRects(),g={absoluteX:0,absoluteY:0,w:0,h:0};return o.length>0&&(g.absoluteX=t.clientLeft+o[0].left,g.absoluteY=t.clientTop+o[0].top,g.w=o[0].width,g.h=o[0].height),g}function Re(t){k=[];for(var o=document,g=Ce(t),Q=window.innerWidth*window.innerHeight+1,N=createNodeIteratorAdvanced(o.documentElement,NodeFilter.SHOW_ELEMENT),O;(O=N.nextNode())!==null;){var B=o.defaultView.getComputedStyle(O,"");if(B&&B.getPropertyValue("opacity")!=="0"&&(B.getPropertyValue("position")=="absolute"||B.getPropertyValue("position")=="relative")){var E=Ce(O);if(E.w*E.h===0||E.w*E.h/Q>.35)continue;O!=t&&getIntersection(g.absoluteX,g.absoluteY,g.w,g.h,E.absoluteX,E.absoluteY,E.w,E.h)&&!isChildOf(t,O)&&!isChildOf(O,t)&&(getConsolePtr()("Hiding:"),getConsolePtr()(O),s(k,O,"opacity","0"))}}}function ge(){T=function(t){t.stopImmediatePropagation()},window.addEventListener("scroll",T,!0)}function me(){window.removeEventListener("scroll",T,!0)}function Ie(t,o,g){var Q={x:0,y:0};return o===Consts.i?(Q.x=he().scrollLeft,Q.y=he().scrollTop):o===Consts.n?(Q.x=g.left,Q.y=g.top):t.div&&(Q.x=t.left,Q.y=t.top),Q}function he(){return document.scrollingElement||document.body}function we(){const t=document.documentElement,o=t.style.getPropertyValue("scroll-behavior");o!==""&&o!=="unset"&&t.style.setProperty("scroll-behavior","unset","important")}chrome.runtime.onConnect.addListener(function t(o){if(chrome.runtime.onConnect.removeListener(t),d!==window.fsContentScriptId)return;var g=!0,Q=!0,N=window.navigator.plugins.length===0&&isConsoleOpened(),O=1,B=1,E=0,C=0,Y=1,W=1,i=!0,h=!0,e=0,m=0,I={left:0,top:0},M={left:0,top:0},n={left:0,top:0,right:0,bottom:0},v,q,ee,l,Se,Be,Ae,ye,xe,oe,z,Oe,se,Fe=window.location.href.match(/https?:\/\/www\.(facebook|fb)\.com/i)!=null,Me=window.location.href.match(/https?:\/\/web.whatsapp.com/i)!=null,Ke=window.location.href.match(/https?:\/\/web.telegram.org/i)!=null,_e=window.location.href.match(/https?:\/\/getfireshot.com\/?$/i),Ye,Qe,Te,De,Ne,We;function je(P,ie){L[P]=ie,o&&o.postMessage({topic:"setOption",optionName:P,optionValue:ie})}function Ve(){const P=document.createElement("div");P.style="position:absolute",document.body.appendChild(P),setTimeout(()=>document.body.removeChild(P),50)}function Ge(P,ie){if(v=ie,E=P,_e){let V;(V=document.getElementById("main-content"))&&(s(c,V,"margin-bottom","0"),s(c,V,"position","static")),(V=document.getElementById("footer"))&&(s(c,V,"height","auto"),s(c,V,"width","auto"),s(c,V,"position","static"))}if(l=he(),p=p||Me,E==Consts.c&&!v&&(v=Ee(l.scrollWidth,l.scrollHeight,We),!f&&v&&v.tagName==="IFRAME_MOCKUP"&&(p=!0,v=Ee(l.scrollWidth,l.scrollHeight,[]))),!(v&&v.tagName==="IFRAME_MOCKUP")){if(ee=v||q.body,Te=void 0,v&&(s(c,v,"scroll-behavior","unset"),l=v,de(v),v.scrollIntoView(),Re(v),Oe=v.style.zIndex,v.style.zIndex=2147483647,v.id||(v.id=F),Te=X(`#${F}::-webkit-scrollbar`,{display:"none"}),s(c,v,"scrollbar-width","none"),Ke&&s(c,v,"background","#ddd")),Se=l.scrollTop,Be=l.scrollLeft,oe=l.scrollWidth,z=l.scrollHeight,xe=ye=void 0,Ae=void 0,Qe=void 0,!v){if(document.defaultView.getComputedStyle(document.body,"").overflowX==="hidden"){Ae=ee.style.overflowX;var S=l.scrollHeight;ee.style.overflowX="visible",S>=l.scrollHeight&&(ee.style.overflowX=Ae,Ae=void 0)}if(oe=Math.max(q.documentElement.scrollWidth,ee.scrollWidth,document.documentElement.clientWidth,ee.offsetWidth,document.documentElement.offsetWidth),z=Math.max(q.documentElement.scrollHeight,ee.scrollHeight,document.documentElement.clientHeight,ee.offsetHeight,document.documentElement.offsetHeight),oe<=0||z<=0){var K=Le();oe=K.Width,z=K.Height}oe<=0&&(oe=1024),z<=0&&(z=768)}E===Consts.c&&(N?(l.scrollTop=1,l.scrollLeft=1,setTimeout(function(){l.scrollTop=0,l.scrollLeft=0},10)):(Me&&l.getClientRects()[0]?.x>32&&(ge(),setTimeout(me,10)),l.scrollTop=0,l.scrollLeft=0)),Fe&&(Ye=ae()),E!==Consts.i&&E!==Consts.s&&G(!1),v?(e=v.clientWidth,m=v.clientHeight):(e=window.innerWidth,m=window.innerHeight,oe<window.innerWidth&&(oe=window.innerWidth))}}var ue;let Je,Ue,He,Pe=0;const ke=(P=1,ie=1)=>{let S={left:0,top:0,cw:e,ch:m,crop:!1,div:0,cropLeft:0,cropRight:0,cropTop:0,cropBottom:0,stickyHdrHeight:Math.floor(x*W)};if(v){const K=v.getClientRects();S.div=1,K.length>0&&(S.left=Math.max(0,v.clientLeft+K[0].left),S.top=Math.max(0,v.clientTop+K[0].top),S.cw=v.clientWidth,S.ch=v.clientHeight)}return E===Consts.n&&(S.crop=!0,S.cropLeft=n.left-I.left,S.cropTop=n.top-I.top,S.cropRight=S.cropLeft+(n.right-n.left),S.cropBottom=S.cropTop+(n.bottom-n.top)),S.left*=P,S.top*=ie,S.cw*=P,S.ch*=ie,S.cropLeft*=P,S.cropTop*=ie,S.cropRight*=P,S.cropBottom*=ie,S};o.onMessage.addListener(function(P){switch((P.topic==="preStep1"||P.topic==="init")&&(window.isDebug=P.debug),getConsolePtr()("CS:"+P.topic),P.topic){case"preStep1":document.body?(c=[],Je=he().scrollLeft,Ue=he().scrollTop,isSafari()||(s(c,document.body,"overflow-x","hidden"),s(c,document.body,"overflow-y","hidden")),o.postMessage({topic:"preStep1Done",windowW:window.innerWidth,windowH:window.innerHeight})):o.postMessage({topic:"initAborted"});break;case"preStep2":Z(c),he().scrollTo(Je,Ue),setTimeout(()=>o.postMessage({topic:"preStep2Done",windowW:window.innerWidth,windowH:window.innerHeight}));break;case"init":f=P.adv,C=f?150:200,q=window.document,L=JSON.parse(P.options),We=P.frames,Y=P.ratioW,W=P.ratioH,getConsolePtr()("Ratios: "+Y+", "+W),r=[],c=[],y=[],De=C/((parseInt(J(Consts.f,100))||100)/100),Ne=f&&J(Consts.A,"true")==="true",p=!1;try{if(Ge(P.mode),v&&v.tagName==="IFRAME_MOCKUP"){const S=v.getClientRects(),K=l.scrollLeft,V=l.scrollTop,te=S[0].left+K,ne=S[0].top+V;l.scrollTo(te,ne),o.postMessage({topic:"switchToFrame",id:v.frameId,restorePosition:{left:K,top:V},capturePosition:{left:te-l.scrollLeft,top:ne-l.scrollTop}});return}}catch(S){getConsolePtr()(S.stack),o.postMessage({topic:"initAborted"});return}pe(),s(c,window.document.documentElement,"scroll-behavior","unset"),(E!==Consts.n&&!v||N)&&(Qe=X("body::-webkit-scrollbar",{display:"none"}),isFirefox()&&(s(c,window.document.documentElement,"scrollbar-width","none"),Ve()),document.scrollingElement?z=Math.max(z,document.scrollingElement.scrollHeight):(xe=document.defaultView.getComputedStyle(document.documentElement,"").overflowY,document.documentElement.style.overflowY="initial",ye=document.defaultView.getComputedStyle(document.documentElement,"").overflowX,document.documentElement.style.overflowX="initial"));var ie={topic:"initDone",url:document.location.toString(),title:document.title.replace(/\u200B/g,"").replace(/\u00a0/g," "),emulation:N};Fe&&E===Consts.c?setTimeout(function(){l.scrollTop=z,setTimeout(function(){l.scrollTop=0,setTimeout(function(){o.postMessage(ie)},C)},C)},C):setTimeout(()=>o.postMessage(ie),C);break;case"cancelSelection":ue&&ue.cancel();break;case"selectArea":{const K=()=>{try{o.postMessage({topic:"ping"})}catch{o=null,ue&&ue.cancel()}ue&&o&&setTimeout(K,1e3)};setTimeout(K,1e3)}if(!document.body){alert("Apologies, this page does not support capturing selections."),o.postMessage({topic:"areaSelectionCanceled"}),me();break}A=FireShotAddon.FSSelectionHint(document),f&&J(Consts.d,"true")!=="false"&&A.show(),ue=FireShotAddon.FSSelector({browser:"chrome",extendedMode:f,doc:document,ignoredAttributeFlagName,frames:f?We:[],onScroll:()=>{}}),ue.makeSelection(function(S){function K(){_(),f&&Z(y),$(),me()}if(f&&(A.isShown()?A.hide():je(Consts.d,"false")),S.left==S.right||S.top==S.bottom)o&&o.postMessage({topic:"areaSelectionCanceled"}),K();else{if(p=p||l.scrollHeight-l.scrollHeight>200,f&&(z=Math.max(z,l.scrollHeight),_(),Z(y)),S.isScrollable)if(S.selectedElement.tagName==="IFRAME_MOCKUP"){const te=l.scrollLeft,ne=l.scrollTop,le=S.selectedElement.rect.left,re=S.selectedElement.rect.top;l.scrollTo(le,re);const be=document.querySelector(`iframe[fsFrameId='${S.selectedElement.selectorId}'], frame[fsFrameId='${S.selectedElement.selectorId}']`)?.getBoundingClientRect();o.postMessage({topic:"switchToFrame",id:S.selectedElement.frameId,restorePosition:{left:te,top:ne},capturePosition:{left:be?.left||le-l.scrollLeft,top:be?.top||re-l.scrollTop}}),K();return}else getConsolePtr()("Capturing element:"),getConsolePtr()(S.selectedElement),Ge(Consts.c,S.selectedElement);else l.scrollLeft=S.left,(S.top-x<l.scrollTop||S.bottom+x>l.scrollTop+innerHeight||S.bottom-S.top+x>innerHeight)&&(l.scrollTop=Math.max(0,S.top-x)),I.left=l.scrollLeft,I.top=l.scrollTop,n.left=S.left,n.top=S.top,n.right=S.right,n.bottom=S.bottom;setTimeout(()=>o.postMessage({topic:"areaSelected"}),C)}ue=void 0});break;case"scrollNext":{const S=()=>Math.ceil(z-He>0?(l.scrollTop-He)*100/(z-He):100),K=E===Consts.n&&n.bottom-n.top+x<innerHeight;if(g){se=new LinksGrabber(v||document),se.clearAttributes(),se.markHiddenLinks(),se.createLinksSnapshot(),f&&!K&&j(l,!1,0),l.scrollLeft===0&&l.scrollTop===0&&se.checkClickableLinks(),He=l.scrollTop,g=!1,setTimeout(()=>{try{o.postMessage({topic:"scrollDone",x:l.scrollLeft*Y,y:l.scrollTop*W,progress:0,metrics:ke(Y,W)})}catch(le){console.error(le)}},C);return}if(!K){let le,re;if(!P.cancel&&i&&E!=Consts.i&&E!=Consts.s){const ve=E==Consts.n?n.right:oe;if(re=Math.max(e-30,0),we(),le=l.scrollLeft,l.scrollLeft+=Math.max(0,Math.min(re,ve-(l.scrollLeft+re)+20)),i=l.scrollLeft!=le&&l.scrollLeft<oe,i){O==1&&B++,getConsolePtr()("scrollLeft:"+l.scrollLeft),setTimeout(()=>{K||(ce(v,!0),f&&j(l,!0,0)),se.createLinksSnapshot(),setTimeout(()=>{o.postMessage({topic:"scrollDone",x:l.scrollLeft*Y,y:l.scrollTop*W,progress:S(),metrics:ke(Y,W)})},C+De)},0);return}else E==Consts.n&&(M.left=l.scrollLeft)}if(!P.cancel&&h&&E!=Consts.i&&E!=Consts.s){const ve=Q?x:40;Q=!1,re=m-ve,re<=0&&(re=m);const be=x;re-be>0&&(re-=be),we(),le=l.scrollTop,l.scrollTop+=re;const ze=l.scrollTop,Xe=l.scrollHeight;if(h=le!=l.scrollTop&&(Ne||l.scrollTop<z),E==Consts.n&&(h=h&&l.scrollTop<n.bottom,h||(M.top=le)),h){O++,we(),l.scrollLeft=E==Consts.c?0:I.left,getConsolePtr()("scrollTop:"+l.scrollTop),i=!0,setTimeout(()=>{Fe&&Ye.undoSwitchingToFixedPositions(),K||(ce(v),f&&j(l,!1,ve)),se.createLinksSnapshot(),setTimeout(()=>{Pe===0&&l.scrollHeight<Xe&&(l.scrollTop<ze||isFirefox()||isSafari())&&(Pe=Xe-l.scrollHeight),o.postMessage({topic:"scrollDone",x:l.scrollLeft*Y,y:(l.scrollTop+Pe)*W,progress:S(),metrics:ke(Y,W)})},C+De)},10);return}}}P.cancel&&getConsolePtr()("Capturing canceled"),(P.cancel||Ne)&&(z=Math.max(l.scrollTop+m,z));let V={topic:"scrollFinished",...ke(1,1),rows:O,cols:B,hScrollbar:window.innerHeight>m,vScrollBar:window.innerWidth>e,canBeBetter:p&&E!==Consts.i};Z(k),getConsolePtr()(JSON.stringify(V));const te=Ie(V,E,n);se.getLinks(V,te,Y,W),se.clearAttributes(),se=void 0;let ne;E===Consts.n?(ne=new fsRect(n.left,n.top,n.right-n.left,n.bottom-n.top),K&&(ne.left-=l.scrollLeft,ne.top-=l.scrollTop,te.x=n.left-l.scrollLeft,te.y=n.top-l.scrollTop)):E===Consts.i?(ne=new fsRect(0,0,e,m),te.x=te.y=0):v?ne=new fsRect(te.x,te.y,oe,l.scrollTop+V.ch):ne=new fsRect(0,0,oe,l.scrollTop+V.ch),E!==Consts.i&&!K&&(Me&&ge(),l.scrollTop=0,l.scrollLeft=0,Me&&setTimeout(me,10)),_(),setTimeout(()=>{const le=new TextGrabber(l);V.words=le.getElements(te,Y,W,ne),V.left*=Y,V.top*=W,V.cw*=Y,V.ch*=W,V.cropLeft*=Y,V.cropTop*=W,V.cropRight*=Y,V.cropBottom*=W,l.scrollLeft=Be,l.scrollTop=Se,Z(c),Z(y),Ae!==void 0&&(document.body.style.overflowX=Ae),xe!==void 0&&(document.documentElement.style.overflowY=xe),ye!==void 0&&(document.documentElement.style.overflowX=ye),v&&(v.style.zIndex=Oe,v.id===F&&(v.id="")),E!=Consts.i&&E!=Consts.s&&G(!0),$(),Qe&&Qe.cancel(),Te&&Te.cancel(),isFirefox()&&Ve(),setTimeout(function(){o.postMessage(V)},C)},10)}break}})})})();var FireShotAddon={FSSelector:function(d){var r,c,y,k,H,L,T=[],p=[],A=[],f=d.frames||[],a=0,w=0,u=0,b=0,R=0,D=0,F=void 0,x=!1,J=!1,X=!1,G=d.extendedMode||!1,s=d.doc,Z=d.browser||"chrome",j,fe,U=s.scrollingElement||s.body,de,ce=d.onScroll,_=d.ignoredAttributeFlagName,$="data:image/gif;base64,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";function pe(){fe=s.body,typeof window<"u"&&(j=window),Z==="ie"&&(fe=s.compatMode=="CSS1Compat"?s.documentElement:s.body),s.activeElement&&s.activeElement.tagName==="IFRAME"&&s.activeElement.blur()}function ae(i){if(i.tagName==="IFRAME_MOCKUP")return i.rect;const h=i.getBoundingClientRect(),e=j.pageYOffset||U.scrollTop,m=j.pageXOffset||U.scrollLeft;return{top:Math.round(h.top+e),left:Math.round(h.left+m),width:h.width,height:h.height}}function Le(i){try{let e=i;for(;e&&e!=s;){var h=s.defaultView.getComputedStyle(e,"");if(h.visibility==="hidden"||h.display==="none"||h.opacity==="0")return!0;e=e.parentNode}}catch{}return!1}function Ee(i){return i.scrollHeight>i.clientHeight&&Math.abs(i.clientWidth-innerWidth)<10&&i.clientHeight/innerHeight>.85}function Ce(){let h=createNodeIteratorAdvanced(s.documentElement,NodeFilter.SHOW_ELEMENT),e;for(A=[];(e=h.nextNode())!==null;)if(e.tagName!=="BODY"&&e.scrollWidth>0&&e.scrollHeight>0){const m=e.scrollWidth>e.clientWidth&&e.clientWidth>10,I=e.scrollHeight>e.clientHeight&&e.clientHeight>10;if((m||I)&&!Le(e)){const M=e.getBoundingClientRect();if(M&&(M.top+M.height<0||M.left+M.width<0||M.top>window.innerHeight||M.left>window.innerWidth))continue;(!location.href.match(/https?:\/\/www\.bing\.com/i)&&Ee(e)||isScrollableStyle(s.defaultView.getComputedStyle(e,""),m,I))&&A.push({e,rect:ae(e)})}}f.forEach(m=>{let I=j.pageYOffset||U.scrollTop,M=j.pageXOffset||U.scrollLeft;if(m.scrollable){let n={left:m.x+M,top:m.y+I,width:m.width,height:m.height};A.push({e:{tagName:"IFRAME_MOCKUP",selectorId:m.selectorId,frameId:m.frameId,rect:n,scrollWidth:m.scrollWidth,scrollHeight:m.scrollHeight},rect:n})}}),A.sort((m,I)=>{let M=m.rect.width*m.rect.height,n=I.rect.width*I.rect.height;return M>n?1:M<n?-1:(M=m.e.scrollHeight*m.e.scrollWidth,n=I.e.scrollHeight*I.e.scrollWidth,M>n?-1:M<n?1:0)})}function Re(){A.forEach(h=>{const e=h.divElement,m=Math.max(0,h.rect.left),I=Math.max(0,h.rect.top),M=h.rect.left+h.rect.width,n=h.rect.top+h.rect.height;e.style.left=`${m-0}px`,e.style.top=`${I-0}px`,e.style.width=`${M-m+0*2}px`,e.style.height=`${n-I+0*2}px`})}function ge(i){if(G){var h=0,e;A.forEach(m=>{const I="divFireShotHightlightElement-"+h++;if(i){e=s.createElement("div"),m.divElement=e,e[_]=1,e.id=I,e.style.cssText="position: absolute; z-index: 2147483640; border:#fd0 solid 3px; display:block !important; box-sizing: border-box !important";const M=s.createElement("div");M[_]=1,M.style.cssText="font-family: Tahoma, Helvetica, Arial; font-size:10px; line-height:1.3em; color: #fff; margin:5px; width:auto; height:auto; padding: 2px 4px; background: #000; opacity: 0.9; position:absolute; border:#333 solid 1px;";let n=s.createElement("img");n[_]=1,n.src=$,n.width=16,n.height=16,n.style.cssText="vertical-align: bottom",M.appendChild(n),n=s.createElement("span"),n[_]=1,n.textContent="\xA0 "+chrome.i18n.getMessage("scrolling_content_hint_div"),M.appendChild(n),e.appendChild(M),s.body.appendChild(e)}else e=s.getElementById(I),e&&s.body.removeChild(e)}),i&&Re()}}function me(i,h){for(var e=0;e<A.length;++e){const m=A[e];if(i>=m.rect.left&&i<m.rect.left+m.rect.width&&h>=m.rect.top&&h<=m.rect.top+m.rect.height)return m.e}}function Ie(i){for(var h=0;h<A.length;++h)if(A[h].e===i)return!0;return!1}function he(){r=s.createElement("div"),r[_]=1,r.style.cssText="display:block !important; position: absolute; left: 0px; top: 0px; width: 0px; height: 0px; z-index: 2147483640; cursor: crosshair;",y=s.createElement("div"),y[_]=1,y.style.cssText="display:block !important; font-family: Tahoma, Helvetica, Arial; font-size:14px; color: #fff; bottom: 10px; right: 10px; width:auto; height:auto; padding: 3px; background: #000; opacity: 0.9; position:absolute; border:#333 solid 1px; cursor: crosshair;",c=s.createElement("div"),c[_]=1,c.style.cssText="display:block !important; position: absolute; left: 0px; top: 0px; opacity: 0; cursor: crosshair; z-index: 2147483641;",s.body.appendChild(c);for(var i=0;i<4;i++){T.push(s.createElement("div"));var h;switch(i){case 0:h="display:block !important;  background: url('data:image/gif;base64,R0lGODlhAQAGAKEAAP///wAAADY2Nv///yH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQACgD/ACwAAAAAAQAGAAACAxQuUgAh+QQBCgADACwAAAAAAQAGAAACA5SAUgAh+QQBCgADACwAAAAAAQAGAAACA5SBBQAh+QQBCgADACwAAAAAAQAGAAACA4QOUAAh+QQBCgADACwAAAAAAQAGAAACAwSEUAAh+QQBCgADACwAAAAAAQAGAAACA4SFBQA7') repeat-y left top;";break;case 1:h="display:block !important;  background: url('data:image/gif;base64,R0lGODlhBgABAKEAAP///wAAADY2Nv///yH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQACgD/ACwAAAAABgABAAACAxQuUgAh+QQBCgADACwAAAAABgABAAACA5SAUgAh+QQBCgADACwAAAAABgABAAACA5SBBQAh+QQBCgADACwAAAAABgABAAACA4QOUAAh+QQBCgADACwAAAAABgABAAACAwSEUAAh+QQBCgADACwAAAAABgABAAACA4SFBQA7') repeat-x left top;";break;case 2:h="display:block !important;  background: url('data:image/gif;base64,R0lGODlhAQAGAKEAAP///wAAADY2Nv///yH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQACgD/ACwAAAAAAQAGAAACAxQuUgAh+QQBCgADACwAAAAAAQAGAAACA5SAUgAh+QQBCgADACwAAAAAAQAGAAACA5SBBQAh+QQBCgADACwAAAAAAQAGAAACA4QOUAAh+QQBCgADACwAAAAAAQAGAAACAwSEUAAh+QQBCgADACwAAAAAAQAGAAACA4SFBQA7') repeat-y right top;";break;case 3:h="display:block !important;  background: url('data:image/gif;base64,R0lGODlhBgABAKEAAP///wAAADY2Nv///yH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQACgD/ACwAAAAABgABAAACAxQuUgAh+QQBCgADACwAAAAABgABAAACA5SAUgAh+QQBCgADACwAAAAABgABAAACA5SBBQAh+QQBCgADACwAAAAABgABAAACA4QOUAAh+QQBCgADACwAAAAABgABAAACAwSEUAAh+QQBCgADACwAAAAABgABAAACA4SFBQA7') repeat-x left bottom;";break}T[i].style.cssText=h+" opacity: 0.5; position: absolute; cursor: crosshair;",T[i][_]=1,r.appendChild(T[i]),p.push(s.createElement("div")),p[i][_]=1,p[i].style.cssText="display:block !important;  position: absolute; background: #000; opacity: 0.3; z-index: 2147483640; cursor: crosshair;",s.body.appendChild(p[i])}r.appendChild(y),s.body.appendChild(r)}function we(){setTimeout(C,100),ce&&ce()}function t(i){J||!i.type||X||R===i.pageX&&D===i.pageY||(R=i.pageX,D=i.pageY,F&&clearTimeout(F),F=setTimeout(function(){if(!(X&&!i.touchEvent)){var h=[r,c,p[0],p[1],p[2],p[3]];if(h.forEach(function(m){m.style.setProperty("display","none","important")}),L=me(i.pageX,i.pageY)||s.elementFromPoint(i.pageX-U.scrollLeft,i.pageY-U.scrollTop),h.forEach(function(m){m.style.setProperty("display","block","important")}),L){var e=ae(L);a=e.left,u=e.top,w=e.left+e.width,b=e.top+e.height,C()}else a=w=u=b=0}},15))}function o(){de&&(clearTimeout(de),de=void 0)}function g(i){function h(n){var v=2,q={dx:U.scrollLeft,dy:U.scrollTop};o(),n.clientX<100&&R>n.pageX&&(U.scrollLeft-=(100-n.clientX)/v),n.clientY<100&&D>n.pageY&&(U.scrollTop-=(100-n.clientY)/v);var ee=j.innerWidth-n.clientX;ee<100&&R<n.pageX&&(U.scrollLeft+=(100-ee)/v);var l=j.innerHeight-n.clientY;return l<100&&D<n.pageY&&(U.scrollTop+=(100-l)/v),R=n.pageX,D=n.pageY,q.dx=U.scrollLeft-q.dx,q.dy=U.scrollTop-q.dy,q}function e(n){if(!(J||!n.type)){if(n.constructor.name==="TouchEvent"&&n.touches.length===1&&(n=n.touches[0],n.pageX===n.clientX&&U.scrollLeft>0&&(n={pageX:n.pageX,pageY:n.pageY,clientX:n.pageX-U.scrollLeft,clientY:n.pageY-U.scrollTop})),L)if(Math.abs(R-n.pageX)>3&&Math.abs(D-n.pageY)>3)L=void 0;else return;var v=h(n);w=v.dx+n.pageX,b=v.dy+n.pageY,C(),de=setTimeout(function(){if(!x){var q={type:"autoscroll",clientX:n.clientX,clientY:n.clientY,pageX:n.pageX+v.dx,pageY:n.pageY+v.dy};e(q)}},25)}}function m(){if(c.removeEventListener("mousemove",e,!1),c.removeEventListener("touchmove",e,!1),s.removeEventListener("mouseup",m,!1),s.removeEventListener("touchend",m,!1),s.removeEventListener("touchcancel",m,!1),!x&&Math.abs(Date.now()-I)<150){clearTimeout(M);return}o(),L&&(!G||!x)&&(L=void 0,a=w=u=b=0),C(),W()}let I=Date.now();if(i.constructor.name==="TouchEvent"&&i.touches.length===1&&(i.pageX=i.touches[0].pageX,i.pageY=i.touches[0].pageY,i.touchEvent=!0,i.button=0,x&&t(i)),i.button===0||i.button===2&&isFirefox()&&!isWindows()){var M=setTimeout(()=>{X=!0,c.removeEventListener("mousedown",g,!0),c.removeEventListener("touchstart",g,!0),c.removeEventListener("mousemove",t,!0),a=w=i.pageX,u=b=i.pageY,R=i.pageX,D=i.pageY,ge(!1)},200);c.addEventListener("mousemove",e,!1),c.addEventListener("touchmove",e,{passive:!0}),s.addEventListener("mouseup",m,!1),s.addEventListener("touchend",m,{passive:!0}),s.addEventListener("touchcancel",m,{passive:!0})}return i.constructor.name!=="TouchEvent"&&i.preventDefault(),!0}function Q(i){i.keyCode==27&&Y(),!x&&i.ctrlKey&&(x=!0,C())}function N(i){x=i.ctrlKey,C()}function O(i){return i.preventDefault(),!1}function B(){var i=Math.min(a,w),h=Math.min(u,b),e=Math.abs(w-a),m=Math.abs(b-u);return!L&&x&&(m=e,b<u&&(h=u-m)),{left:i,top:h,width:e,height:m}}function E(){var i="10px";y.style.top=b<=u?i:"",y.style.bottom=b>u?i:"",y.style.left=w<=a?i:"",y.style.right=w>a?i:""}function C(){if(!J){var i=Math.max(s.documentElement.scrollWidth,s.body.scrollWidth),h=Math.max(s.documentElement.scrollHeight,s.body.scrollHeight),e=B();e.left=Math.floor(e.left),e.top=Math.floor(e.top),e.width=Math.floor(e.width),e.height=Math.floor(e.height),L&&(!G||!x)&&(e.left=e.top=e.width=e.height=0),r.style.left=e.left+"px",r.style.top=e.top+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",c.style.width=i+"px",c.style.height=h+"px",p[0].style.left="0px",p[0].style.top="0px",p[0].style.width=i+"px",p[0].style.height=r.style.top,p[1].style.left="0px",p[1].style.top=Math.min(h,e.top+e.height)+"px",p[1].style.width=i+"px",p[1].style.height=h-(e.top+e.height)+"px",p[2].style.left="0px",p[2].style.top=e.top+"px",p[2].style.width=e.left+"px",p[2].style.height=e.height+"px",p[3].style.left=Math.min(i,e.left+e.width)+"px",p[3].style.top=e.top+"px",p[3].style.width=i-(e.left+e.width)+"px",p[3].style.height=e.height+"px";for(var m=0;m<4;m++)T[m].style.left="0px",T[m].style.top="0px",T[m].style.right="0px",T[m].style.bottom="0px";if(E(),y.textContent="",L&&Ie(L)){var I=Math.round(L.scrollWidth)+" x "+Math.round(L.scrollHeight),M=s.createElement("img");M[_]=1,M.src=$,M.width=16,M.height=16,y.appendChild(M);var n=s.createElement("span");n[_]=1,n.textContent=" Scroll and capture: "+I,y.appendChild(n),(y.scrollWidth+11>e.width||y.scrollHeight+11>e.height)&&(y.textContent="",y.appendChild(M))}else y.textContent=Math.round(e.width)+" x "+Math.round(e.height);y.style.visibility=y.scrollWidth+11<e.width&&y.scrollHeight+11<e.height?"visible":"hidden"}}function Y(){a=0,u=0,w=0,b=0,L=void 0,o(),W()}function W(){if(!J){J=!0,c.removeEventListener("mousedown",g,!0),s.removeEventListener("keydown",Q,!1),s.removeEventListener("keyup",N,!1),s.removeEventListener("contextmenu",O,!0),ce&&s.removeEventListener("scroll",we),s.body.removeChild(r),s.body.removeChild(c),k.disconnect(),ge(!1);for(var i=0;i<4;i++)s.body.removeChild(p[i]);if(L){var h=ae(L);a=h.left,u=h.top,w=h.left+h.width,b=h.top+h.height}var e=B();H&&H({selectedElement:L,isScrollable:L&&L.tagName==="IFRAME_MOCKUP"||(L?isScrollableStyle(s.defaultView.getComputedStyle(L,""))||Ee(L):!1),left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height})}}return{makeSelection:function(i){H=i,pe(),Ce(),ge(!0),he(),C(),c.addEventListener("mousedown",g,!0),c.addEventListener("mousemove",t,!0),c.addEventListener("touchstart",g,{passive:!0}),s.addEventListener("keydown",Q,!1),s.addEventListener("keyup",N,!1),s.addEventListener("scroll",we),s.addEventListener("contextmenu",O,!0),k=new ResizeObserver(C),k.observe(s.scrollingElement||s.body),fe.tagName==="FRAMESET"&&(alert("Apologies, the browser does not allow object selection for this type of document (based on <FRAMESET>)."),Y())},cancel:function(){Y()}}},FSSelectionHint:function(d){var r="FireShot.topMessageHolder",c=d;return{holder:void 0,show:function(){function y(){L+=.1,k.style.opacity=L,L<1&&setTimeout(y,30)}var k=c.createElement("div");k.setAttribute(ignoredAttributeFlagName,"1"),k.id=r,k.style.cssText="display:block; opacity:0; border:1px solid #666; background:#fff; z-index:2147483647; font-family: Tahoma, Helvetica, Arial; text-align: left; font-size:20px; color: #000; margin:0; padding:10px; width:100%;  left:0px; right:0px; top:0px; position:fixed",this.holder=k;var H=c.createElement("strong");H.setAttribute(ignoredAttributeFlagName,"1"),H.textContent="HINT: ",k.appendChild(H),H=c.createElement("span"),H.setAttribute(ignoredAttributeFlagName,"1"),H.textContent=chrome.i18n.getMessage("scrolling_content_hint_banner")+" \xA0",k.appendChild(H),H=c.createElement("a"),H.setAttribute(ignoredAttributeFlagName,"1"),H.textContent=chrome.i18n.getMessage("action_view_demo"),H.target="_blank",H.style.cssText="color:#08c",H.href="https://getfireshot.com/demos/selection.php",k.appendChild(H),H=c.createElement("span"),H.setAttribute(ignoredAttributeFlagName,"1"),H.textContent=" | ",k.appendChild(H),H=c.createElement("a"),H.setAttribute(ignoredAttributeFlagName,"1"),H.id="fsSelectionLnkClose",H.style.cssText="color:#08c; cursor:pointer",H.textContent=chrome.i18n.getMessage("button_dismiss"),k.appendChild(H),c.body.appendChild(k),document.getElementById("fsSelectionLnkClose").addEventListener("click",function(){return document.body.removeChild(document.getElementById(r)),!1},!1);var L=0;setTimeout(y,300)},hide:function(){var y=c.getElementById(r);y&&c.body.removeChild(y)},isShown:function(){return c.getElementById(r)!==null}}}};var Consts={f:"pageScrollSpeedValue",A:"allowInfiniteScrolling",d:"showSelectionHint.1",i:0,c:1,n:2,s:3,u:4},extensionId=chrome.runtime.id,isDebug=!0;function getConsolePtr(){return isDebug?console.log:function(){}}function createNodeIteratorAdvanced(d,r){var c=[document.createTreeWalker(d,r)];return{nextNode:function(){for(;c.length>0;){const k=c.at(-1).nextNode();if(k)return k.shadowRoot?(c.push(document.createTreeWalker(k.shadowRoot,r)),this.nextNode()):k;c.pop()}return null}}}function querySelectorAll(d,r){const c=[...d.querySelectorAll(r)],y=document.createNodeIterator(d,Node.ELEMENT_NODE);let k;for(;k=y.nextNode();)k.shadowRoot&&c.push(...querySelectorAll(k.shadowRoot,r));return c}function isScrollableStyle(d,r=!0,c=!0){const y=["scroll","auto","overlay"];return d&&(y.includes(d.getPropertyValue("overflow"))||r&&y.includes(d.getPropertyValue("overflow-x"))||c&&y.includes(d.getPropertyValue("overflow-y")))&&d.getPropertyValue("display")!="none"&&d.getPropertyValue("visibility")!="hidden"}function getIntersection(d,r,c,y,k,H,L,T){return!(d+c<=k||k+L<=d||r+y<=H||H+T<=r)}function rectsIntersected(d,r){return d.left<r.left+r.width&&r.left<d.left+d.width&&d.top<r.top+r.height&&r.top<d.top+d.height}function isChildOf(d,r){const c=k=>k.nodeName==="#document-fragment"?k.getRootNode().host:k.parentNode;for(var y=c(r);y;){if(y==d)return!0;y=c(y)}return!1}function difference(d,r){var c=[];if(!rectsIntersected(d,r))return[d];var y=d.top,k=d.height,H=d.left+d.width,L=d.top+d.height,T=r.left+r.width,p=r.top+r.height;return r.top>d.top&&(c.push({left:d.left,top:d.top,width:d.width,height:r.top-d.top}),y=r.top,k-=r.top-d.top),p<L&&(c.push({left:d.left,top:p,width:d.width,height:L-p}),k=p-y),r.left>d.left&&c.push({left:d.left,top:y,width:r.left-d.left,height:k}),T<H&&c.push({left:T,top:y,width:H-T,height:k}),c}function isConsoleOpened(){let d=new Image,r=!1;return Object.defineProperty(d,"id",{get:()=>(r=!0,0)}),console.log("%cFireShot console check.",d),r}function getSBHeight(d){if(d.scrollbars.visible){var r=d.document.createElement("div");r.setAttribute("style","position: fixed; margin: 0px; padding: 0px; border: none; visibility: hidden;  top: 0px; left: 0px; width: 1px; height: 100%; z-index: -1;"),d.document.body.appendChild(r);var c=d.innerHeight-r.offsetHeight;return d.document.body.removeChild(r),c>0&&c<40?c:0}else return 0}function isWindows(){return/^win/i.test(navigator.platform)}function isMac(){return/^mac/i.test(navigator.platform)}function isOpera(){return/opr\/\d+\./i.test(navigator.appVersion)||chrome.runtime.id==="pbjmgmedeliohhbaefhlplndokcbmjio"}function isEdge(){return/edg\/\d+\./i.test(navigator.appVersion)||chrome.runtime.id==="fcbmiimfkmkkkffjlopcpdlgclncnknm"}function isSafari(){return/apple/i.test(navigator.vendor)}function isFirefox(){return detectBrowser()==="firefox"}function detectBrowser(){var d=chrome.runtime.id;if(d==="legfpnnmhhnhjgekmmbkilmijnjoehne")return isOpera()?"opera":isEdge()?"edge":"chrome";const r=["pbjmgmedeliohhbaefhlplndokcbmjio"],c=["fireshot@getfireshot.com","fireshot-pro@getfireshot.com","fireshot-beta@getfireshot.com","{0b457cAA-602d-484a-8fe7-c1d894a011ba}","{5e11ab1e-083c-11e5-a6c0-1697f925ec7b}"],y=["fcbmiimfkmkkkffjlopcpdlgclncnknm"];return r.indexOf(d)>-1?"opera":c.indexOf(d)>-1?"firefox":y.indexOf(d)>-1?"edge":"chrome"}function fsRect(d,r,c,y){return{left:d,top:r,width:c,height:y,fromCSSClip:function(k){var H=k.match(/\d+/g);return H.length===4&&(this.left=H[3],this.top=H[0],this.width=H[1]-H[3],this.height=H[2]-H[0]),this}}}function LinksGrabber(d){const r=document,c=d==document?document.scrollingElement||document.body:d,y="__fireshotHiddenLink",k="__fireshotLinkId",H=function(T){const p=r.defaultView.getComputedStyle(T,"");if(!(p&&(p.getPropertyValue("overflow")==="hidden"||p.getPropertyValue("overflow-y")==="hidden"||p.getPropertyValue("overflow-y")==="auto"||p.getPropertyValue("overflow-y")=="scroll"||p.getPropertyValue("overflow-x")==="hidden"||p.getPropertyValue("overflow-x")==="auto"||p.getPropertyValue("overflow-x")=="scroll")))return L(T.children[0])},L=function(T){const p=T.getBoundingClientRect(),A=window.pageYOffset||c.scrollTop,f=window.pageXOffset||c.scrollLeft,a=p.top+A,w=p.left+f;return{top:Math.round(a),left:Math.round(w),width:p.width,height:p.height}};return{collectedLinks:[],markHiddenLinks:function(){const T=createNodeIteratorAdvanced(d==document?d.body:d,NodeFilter.SHOW_ELEMENT),p=[];let A;for(;A=T.nextNode();)if(!(!A.childElementCount||A.tagName==="HTML"||A.tagName==="BODY"||A===d)&&(A.offsetHeight<A.scrollHeight||A.offsetWidth<A.scrollWidth)){const f=r.defaultView.getComputedStyle(A,"");f&&f.getPropertyValue("display")!=="none"&&(f.getPropertyValue("overflow")==="hidden"||f.getPropertyValue("overflow-y")==="hidden"||f.getPropertyValue("overflow-y")==="auto"||f.getPropertyValue("overflow-y")=="scroll"||f.getPropertyValue("overflow-x")==="hidden"||f.getPropertyValue("overflow-x")==="auto"||f.getPropertyValue("overflow-x")=="scroll")&&p.push(A)}p.forEach(function(f){const a=L(f);querySelectorAll(f,"a").forEach(w=>{rectsIntersected(a,L(w))||w.setAttribute(y,1)})})},createLinksSnapshot:function(){function T(a){let w=a;for(;w&&w.parentNode&&w!=r;){const u=r.defaultView.getComputedStyle(w,"");if(u.visibility==="hidden"||u.display==="none"||u.opacity==="0")return!0;w=w.parentNode}return!1}function p(a){return a.getAttribute(y)?!1:a.href&&a.href!==""&&!/javascript:.*/.test(a.href)&&a.href.slice&&a.href.slice(-1)!=="#"&&!T(a)}function A(a,w){let u=L(a),b=Array.from(a.getClientRects()),R;if(b.length===1){let D;a.children&&a.children.length>0&&a.children[0].tagName==="IMG"&&(D=H(a))&&D.width>0&&D.height>0?w.push(D):w.push(u)}else if(a.children&&a.children.length>0){b=[];for(let D=0;D<a.children.length;D++){const F=L(a.children[D]);F.width>0&&F.height>0&&w.push(F)}}else{b=b.filter(x=>x.width>0&&x.height>0);for(let x=0;x<b.length;++x)x===0?R={left:b[x].left,top:b[x].top}:(b[x].left<R.left&&(R.left=b[x].left),b[x].top<R.top&&(R.top=b[x].top));if(!R)return;const D=u.left-R.left,F=u.top-R.top;for(let x=0;x<b.length;++x)w.push({left:b[x].left+D,top:b[x].top+F,width:b[x].width,height:b[x].height})}}const f={left:0,top:0,width:window.innerWidth,height:window.innerHeight};querySelectorAll(d,"a").forEach(a=>{if(rectsIntersected(a.getBoundingClientRect(),f)&&p(a)){let u=[];if(A(a,u),u.length!==0){var w=a.getAttribute(k);w?w=parseInt(w):(w=this.collectedLinks.length,a.setAttribute(k,w)),this.collectedLinks[w]={e:a,r:u}}}})},getLinks:function(T,p,A,f){var a=T.crop?T.cropRight-T.cropLeft:T.width,w=T.crop?T.cropBottom-T.cropTop:T.height;T.links=[],this.collectedLinks.forEach(u=>{const b=u.e;if(!b.getAttribute(y)){var R=[];u.r.forEach(D=>{let F=D.left-p.x,x=D.top-p.y,J=D.width,X=D.height;F>=a||x>=w||(F<0&&(J+=F,F=0),x<0&&(X+=x,x=0),F+J>a&&(J=a-F),x+X>w&&(X=w-x),J>0&&X>0&&R.push([Math.round(F*A),Math.round(x*f),Math.round(J*A),Math.round(X*f)]))}),R.length>0&&T.links.push({a:b.href,r:R})}}),getConsolePtr()("links filtered: "+(this.collectedLinks.length-T.links.length)),getConsolePtr()("links added: "+T.links.length)},checkClickableLinks:function(){for(var T,p,A=c.scrollLeft,f=c.scrollTop,a=0;a<this.collectedLinks.length;++a)if(!this.collectedLinks[a].p){T=this.collectedLinks[a].r[0].left-A,p=this.collectedLinks[a].r[0].top-f,T<0&&(T+=this.collectedLinks[a].r[0].width),p<0&&(p+=this.collectedLinks[a].r[0].height);var w;p>=0&&p<=window.innerHeight&&T>=0&&T<=window.innerWidth&&((w=document.elementFromPoint(Math.round(T+.5),Math.round(p+.5)))===this.collectedLinks[a].e||w&&this.collectedLinks[a].e.contains(w)||this.collectedLinks[a].e.setAttribute(y,1))}},clearAttributes:function(){querySelectorAll(d,"a").forEach(T=>{T.removeAttribute(y),T.removeAttribute(k)})}}}function TextGrabber(d){function r(A){const f=[],a=document.createNodeIterator(A,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let w;for(;w=a.nextNode();)w.nodeType===Node.TEXT_NODE&&w.parentNode&&w.parentNode.tagName!="SCRIPT"&&w.parentNode.tagName!="STYLE"?f.push(w):w.shadowRoot&&f.push(...r(w.shadowRoot));return f}function c(A){return A.visibility==="hidden"||A.display==="none"||A.opacity==="0"}function y(A,f){var a=[];function w(u){function b(){var F=new Range,x=[],J=u.textContent.length;F.setStart(u,0),F.setEnd(u,J);var X=F.getClientRects();if(X.length===1)return[{o:0,l:J}];var G=0,s=1,Z=X.length;for(F=new Range,F.setStart(u,G);Z>1&&s<J;){F.setEnd(u,s+1);var j=F.getClientRects();j.length>1&&j[0].y!=j[j.length-1].y&&(x.push({o:G,l:s-G}),G=s,F.setStart(u,G),--Z),++s}return x.push({o:G,l:J-G}),x}function R(F,x){function J(j,fe,U,de){const ce=new Range;ce.setStart(u,j),ce.setEnd(u,fe);let _=ce.getClientRects(),$=[];if(de)for(let pe=0;pe<_.length;++pe){const ae=L(_[pe],de);if(ae.width>0&&ae.height>0){$.push(ae);break}}else $=[..._];$.length>0&&a.push({t:U,r:[Math.floor($[0].left),Math.floor($[0].top),Math.ceil($[0].width),Math.ceil($[0].height)]})}let X=F,G,s,Z=u.textContent;for(typeof u.fsOverflowRect<"u"&&(s=u.fsOverflowRect);X<F+x;)Z[X].trim()===""?G!==void 0&&(J(G,X,Z.substr(G,X-G),s),G=void 0):G===void 0&&(G=X),++X;G!==void 0&&J(G,F+x,Z.substr(G,x-(G-F)),s)}var D=b();D.forEach(F=>R(F.o,F.l))}return r(A).forEach(u=>{if(!u.parentNode||!u.parentNode.getBoundingClientRect)return;const b=u.parentNode.getBoundingClientRect();if(b&&b.width>2&&b.height>2&&u.textContent.trim()!==""){if(f&&!H(f,b))return;const R=document.defaultView.getComputedStyle(u.parentNode,"");if(R.clip.substr(0,4)==="rect"&&R.position==="absolute"){const D=fsRect().fromCSSClip(R.clip);if(D.width<4||D.height<4)return}c(R)||w(u)}}),a}function k(A){function f(b){const R=document.defaultView.getComputedStyle(b,"");return R&&R.getPropertyValue("display")!=="none"&&(R.getPropertyValue("overflow")==="hidden"||R.getPropertyValue("overflow-y")==="hidden"||R.getPropertyValue("overflow-y")==="auto"||R.getPropertyValue("overflow-y")=="scroll"||R.getPropertyValue("overflow-x")==="hidden"||R.getPropertyValue("overflow-x")==="auto"||R.getPropertyValue("overflow-x")=="scroll")}const a=[],w=createNodeIteratorAdvanced(A,NodeFilter.SHOW_ELEMENT);let u;for(;u=w.nextNode();)u.getBoundingClientRect&&(u.childElementCount>0||u.tagName==="SPAN")&&u.tagName!=="HTML"&&u.tagName!=="BODY"&&f(u)&&a.push(u);return a}function H(A,f){return A.left<f.left+f.width&&f.left<A.left+A.width&&A.top<f.top+f.height&&f.top<A.top+A.height}function L(A,f){if(H(A,f)){var a=Math.max(A.left,f.left),w=Math.max(A.top,f.top),u=Math.min(A.left+A.width,f.left+f.width),b=Math.min(A.top+A.height,f.top+f.height);return new fsRect(a,w,u-a,b-w)}else return new fsRect(0,0,0,0)}function T(A){A.forEach(f=>{const a=f.getBoundingClientRect();document.defaultView.getComputedStyle(f,"").display!=="inline"&&(a.width=Math.min(a.width,f.clientWidth),a.height=Math.min(a.height,f.clientHeight)),r(f).forEach(u=>{u.parentNode&&u.parentNode.getClientRects&&u.textContent.trim()!==""&&(typeof u.fsOverflowRect<"u"?u.fsOverflowRect=L(u.fsOverflowRect,a):u.fsOverflowRect=a)})})}function p(){r(d).forEach(A=>{delete A.fsOverflowRect})}return{getElements:function(A,f,a,w){T(k(d));const u=y(d,w);return(A.x!=0||A.y!=0||f!=1||a!=1)&&u.forEach(b=>{b.r[0]=Math.round((b.r[0]-A.x)*f),b.r[1]=Math.round((b.r[1]-A.y)*a),b.r[2]=Math.round(b.r[2]*f),b.r[3]=Math.round(b.r[3]*a)}),p(),u}}}
//# sourceMappingURL=fsContent.js.map

//# debugId=b6f11711-2d00-5e6a-bcea-26d72c57f50f
