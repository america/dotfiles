var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,n,r,o,l){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof i[o]&&i[o],a=u.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,n){if(!a[e]){if(!t[e]){var r="function"==typeof i[o]&&i[o];if(!n&&r)return r(e,!0);if(u)return u(e,!0);if(f&&"string"==typeof e)return f(e);var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}d.resolve=function(n){var r=t[e][1][n];return null!=r?r:n},d.cache={};var s=a[e]=new c.Module(e);t[e][0].call(s.exports,d,s,s.exports,this)}return a[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=a,c.parent=u,c.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return i[o]}}),i[o]=c;for(var s=0;s<n.length;s++)c(n[s]);if(r){var d=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):l&&(this[l]=d)}}({"5228d":[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"config",()=>o),r.export(n,"fetchFullChat",()=>l);let o={matches:["https://chat.openai.com/*","https://chatgpt.com/*"]};chrome.runtime.onMessage.addListener((e,t,n)=>("chatgpt-to-notion_fetchFullChat"===e.type&&l().then(e=>n(e)),!0));let l=async()=>{await u();let e=document.querySelectorAll(".w-full.text-token-text-primary"),t=Array.from(e).filter(e=>e.dataset.testid?.includes("conversation-turn")),n=t.filter((e,t)=>t%2==0),r=t.filter((e,t)=>t%2==1),o=n.map(e=>e.querySelector('[data-message-author-role="user"]')?.textContent),l=r.map(e=>({images:Array.from(e.querySelectorAll("img")||[]),text:Array.from(e.querySelectorAll(".markdown")).map(e=>e.parentElement?.classList.contains("mt-3")?"%%CHATGPT_TO_NOTION_WORK1%%"+e.innerHTML:e.innerHTML)})),a=l.map(e=>{let{text:t,images:n}=e;if(0==n.length)return i(t);let r=n.map(e=>e.parentElement?.innerHTML).join("");return`%%CHATGPT_TO_NOTION_IMAGE${n.length}%%`+r+"\n"+i(t)}),f=window.location.href,c=document.title;return{prompts:o,answers:a,url:f,title:c}},i=e=>1==e.length?e[0]:e.some(e=>e.includes("%%CHATGPT_TO_NOTION_WORK2%%"))?e.join(""):e.join("%%CHATGPT_TO_NOTION_SPLIT%%"),u=async()=>{let e=document.querySelectorAll(".gap-2 > .text-xs"),t=Array.from(e),n=!1;for(let e=0;e<t.length;e++){let r=t[e];r.parentElement?.parentElement?.nextElementSibling?.querySelector(".markdown")||(n=!0,r.parentElement?.click())}n&&await new Promise(e=>setTimeout(e,1e3))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach(function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}]},["5228d"],"5228d","parcelRequire5fe8"),globalThis.define=t;