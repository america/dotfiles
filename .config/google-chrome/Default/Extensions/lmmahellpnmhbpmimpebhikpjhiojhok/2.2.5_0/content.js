(()=>{var e={2777:e=>{const t="[同時字幕]",s={log:(...e)=>window.console.log(t,...e),warn:(...e)=>window.console.warn(t,...e),error:(...e)=>window.console.error(t,...e)};e.exports={console:s}},2963:(e,t,s)=>{const{console:i}=s(2777),n="HuluDualSubtitle",r=`${n}-bcc-settings-option`,a=`${n}EnglishWord`;class o{constructor(){this._STORAGE_KEY=`${n}Settings`,this._DEFAULT_SETTINGS={rewindSeconds:3,fontSize:2.5,isAutoDualSubtitle:!0,isEnglishSubtitleTop:!0,isLowerCaseOfEnglish:!1,isEnabledDualSubtitle:!0,isFixedEnglishSubtitleTop:!1,popupDictionaryMode:o.POPUP_DICTIONARY_MODE_alc,openPaymentPageEpochTime:0,isPhraseListViewer:!1,isEnabledDisplayOnlyFavoritePhrases:!1,displayOnlyFavoriteOption:o.DISPLAY_ONLY_FAVORITE_OPTION_IN_CURRENT_MOVIE,isEnabledStartSearchOrderByTimeOnCurrentMovie:!1,isEnabledHideLearningPhraseOnFavoritePhrases:!1,isEnabledHideNativePhraseOnFavoritePhrases:!1}}static get DISPLAY_ONLY_FAVORITE_OPTION_IN_CURRENT_MOVIE(){return"displayOnlyFavoriteOptionInCurrentMovie"}static get DISPLAY_ONLY_FAVORITE_OPTION_IN_OTHER_MOVIE(){return"displayOnlyFavoriteOptionInOtherMovie"}static get DISPLAY_ONLY_FAVORITE_OPTION_ALL(){return"displayOnlyFavoriteOptionALL"}static get POPUP_DICTIONARY_MODE_alc(){return"alc"}static get POPUP_DICTIONARY_MODE_alcprolite(){return"alcprolite"}static get POPUP_DICTIONARY_MODE_alcpro(){return"alcpro"}static get POPUP_DICTIONARY_MODE_weblio(){return"weblio"}static get POPUP_DICTIONARY_MODE_longman(){return"longman"}static get POPUP_DICTIONARY_MODE_oxford(){return"oxford"}static get POPUP_DICTIONARY_MODE_googleimage(){return"googleimage"}static get POPUP_DICTIONARY_MODE_googleimageenus(){return"googleimageenus"}static get POPUP_DICTIONARY_MODE_googletextenus(){return"googletextenus"}static get POPUP_DICTIONARY_MODE_googletextjajp(){return"googletextjajp"}static get POPUP_DICTIONARY_MODE_cambridge(){return"cambridge"}static get POPUP_DICTIONARY_MODE_flickr(){return"flickr"}static get POPUP_DICTIONARY_MODE_none(){return"none"}set rewindSeconds(e){this._setKeyValue("rewindSeconds",e)}get rewindSeconds(){let e=this._userSettings.rewindSeconds;return null===e&&(this.rewindSeconds=this._DEFAULT_SETTINGS.rewindSeconds,e=this._DEFAULT_SETTINGS.rewindSeconds),e}set fontSize(e){this._setKeyValue("fontSize",e)}get fontSize(){let e=this._userSettings.fontSize;return null===e&&(this.fontSize=this._DEFAULT_SETTINGS.fontSize,e=this._DEFAULT_SETTINGS.fontSize),e}set isAutoDualSubtitle(e){this._setKeyValue("isAutoDualSubtitle",e)}get isAutoDualSubtitle(){return this._userSettings.isAutoDualSubtitle}set isEnglishSubtitleTop(e){this._setKeyValue("isEnglishSubtitleTop",e)}get isEnglishSubtitleTop(){return this._userSettings.isEnglishSubtitleTop}set isFixedEnglishSubtitleTop(e){this._setKeyValue("isFixedEnglishSubtitleTop",e)}get isFixedEnglishSubtitleTop(){return this._userSettings.isFixedEnglishSubtitleTop}set isLowerCaseOfEnglish(e){this._setKeyValue("isLowerCaseOfEnglish",e)}get isLowerCaseOfEnglish(){return this._userSettings.isLowerCaseOfEnglish}set isEnabledDualSubtitle(e){this._setKeyValue("isEnabledDualSubtitle",e)}get isEnabledDualSubtitle(){return this._userSettings.isEnabledDualSubtitle}set popupDictionaryMode(e){this._setKeyValue("popupDictionaryMode",e)}get popupDictionaryMode(){return this._userSettings.popupDictionaryMode}set openPaymentPageEpochTime(e){this._setKeyValue("openPaymentPageEpochTime",e)}get openPaymentPageEpochTime(){return this._userSettings.openPaymentPageEpochTime}set isPhraseListViewer(e){this._setKeyValue("isPhraseListViewer",e)}get isPhraseListViewer(){return this._userSettings.isPhraseListViewer}set displayOnlyFavoriteOption(e){this._setKeyValue("displayOnlyFavoriteOption",e)}get displayOnlyFavoriteOption(){return this._userSettings.displayOnlyFavoriteOption}set isEnabledDisplayOnlyFavoritePhrases(e){this._setKeyValue("isEnabledDisplayOnlyFavoritePhrases",e)}get isEnabledDisplayOnlyFavoritePhrases(){return this._userSettings.isEnabledDisplayOnlyFavoritePhrases}set isEnabledStartSearchOrderByTimeOnCurrentMovie(e){this._setKeyValue("isEnabledStartSearchOrderByTimeOnCurrentMovie",e)}get isEnabledStartSearchOrderByTimeOnCurrentMovie(){return this._userSettings.isEnabledStartSearchOrderByTimeOnCurrentMovie}set isEnabledHideLearningPhraseOnFavoritePhrases(e){this._setKeyValue("isEnabledHideLearningPhraseOnFavoritePhrases",e)}get isEnabledHideLearningPhraseOnFavoritePhrases(){return this._userSettings.isEnabledHideLearningPhraseOnFavoritePhrases}set isEnabledHideNativePhraseOnFavoritePhrases(e){this._setKeyValue("isEnabledHideNativePhraseOnFavoritePhrases",e)}get isEnabledHideNativePhraseOnFavoritePhrases(){return this._userSettings.isEnabledHideNativePhraseOnFavoritePhrases}static set settings(e){this._settings=e}static get settings(){return void 0===this._settings?null:this._settings}set _userSettings(e){o.settings=e;let t=this._getStorage();null!==t?t[this._STORAGE_KEY]=JSON.stringify(e):i.warn("Couldn't save user settings")}get _userSettings(){if(null!==o.settings)return o.settings;let e,t=this._getStorage();if(null===t)return i.warn("Use default settings"),o.settings=this._resetSettings(),o.settings;const s=t.getItem(this._STORAGE_KEY);if(null===s)return o.settings=this._resetSettings(),o.settings;try{e=JSON.parse(s)}catch(e){return i.warn("JSON file of the user settings is broken. Reset user settings"),o.settings=this._resetSettings(),o.settings}if(!this._validateSettings(e)){i.warn("Failed to validate settings. Reset user settings");let t=Object.assign({},this._DEFAULT_SETTINGS);return e=Object.assign(t,e),o.settings=this._resetSettings(e),o.settings}return o.settings=e,o.settings}_getStorage(){return void 0===window.localStorage?null:window.localStorage}_setKeyValue(e,t){let s=this._userSettings;s[e]=t,this._userSettings=s}_resetSettings(e=this._DEFAULT_SETTINGS){let t=this._getStorage();return null!==t&&(t[this._STORAGE_KEY]=JSON.stringify(e)),e}_validateSettings(e){return Object.keys(this._DEFAULT_SETTINGS).every((t=>t in e))}}e.exports={Settings:o,APP_NAME:n,SUBTITLE_TEXT_PRIMARY_CONTAINER_ID:"extension-subtitle-text-primary-container",SUBTITLE_TEXT_SECONDARY_CONTAINER_ID:"extension-subtitle-text-secondary-container",SUBTITLE_HORIZON_IMAGE_CONTAINER_ID:"extension-subtitle-horizon-image-container",SUBTITLE_VERTICAL_IMAGE_CONTAINER_ID:"extension-subtitle-vertical-image-container",SUBTITLE_IMAGE_CLASS_NAME:"extension-image-subtitle",SUBTITLE_TEXT_CLASS_NAME:"extension-text-subtitle",DUAL_SUBTITLE_BUTTON_ID:r,ENGLISH_WORD_CLASS_NAME:a,CHROME_EXTENSION_ID:"lmmahellpnmhbpmimpebhikpjhiojhok"}}},t={};const{APP_NAME:s}=function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}(2963);try{const e=()=>{if(!document.querySelector("head"))return!1;let e=`${s}InsertJSToHead`;if(document.getElementById(e))return!1;const t="insert_to_head.js",i=document.createElement("script");return i.onload=()=>{console.log(`Injected: ${t}  Epoch time: ${Date.now()}`)},i.async=!1,i.setAttribute("id",e),i.setAttribute("type","text/javascript"),i.setAttribute("src",chrome.runtime.getURL(t)),document.head.appendChild(i),!0},t=new MutationObserver((s=>{s.forEach((s=>{s.addedNodes.forEach((s=>{"head"!==s.nodeName.toLowerCase()&&"body"!==s.nodeName.toLowerCase()||e()&&t.disconnect()}))}))}));t.observe(document,{childList:!0,subtree:!0}),e()&&t.disconnect()}catch(e){console.error(e)}window.addEventListener("DOMContentLoaded",(()=>{let e=document.createElement("script");e.src=chrome.runtime.getURL("content_inserted.js"),e.onload=function(){this.remove()},(document.head||document.documentElement).appendChild(e)}))})();