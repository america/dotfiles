/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={6480:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",d="name",p="type",f="vendor",v="version",h="architecture",g="console",y="mobile",b="tablet",m="smarttv",w="wearable",_="embedded",x="Amazon",k="Apple",I="ASUS",S="BlackBerry",E="Browser",O="Chrome",T="Firefox",P="Google",j="Huawei",R="LG",N="Microsoft",A="Motorola",U="Opera",L="Samsung",q="Sharp",C="Sony",D="Xiaomi",M="Zebra",V="Facebook",z=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===c&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},$=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},Q=function(e,t){for(var n,r,i,a,c,l,d=0;d<t.length&&!c;){var p=t[d],f=t[d+1];for(n=r=0;n<p.length&&!c;)if(c=p[n++].exec(e))for(i=0;i<f.length;i++)l=c[++r],typeof(a=f[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;d+=2}},K=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(F(t[n][r],e))return"?"===n?o:n}else if(F(t[n],e))return"?"===n?o:n;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,v],[/opios[\/ ]+([\w\.]+)/i],[v,[d,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[d,U]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[d,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[v,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+E],v],[/\bfocus\/([\w\.]+)/i],[v,[d,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[d,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[d,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[d,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[v,[d,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+E],v],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,V],v],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[d,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,O+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[d,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[v,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[d,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,v],[/(cobalt)\/([\w\.]+)/i],[d,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,B]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[f,L],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[f,L],[p,y]],[/((ipod|iphone)\d+,\d+)/i],[l,[f,k],[p,y]],[/(ipad\d+,\d+)/i],[l,[f,k],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[f,k],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[f,k],[p,b]],[/(macintosh);/i],[l,[f,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[f,j],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[f,j],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[f,D],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[f,D],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[f,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[f,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[f,A],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[f,A],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[f,R],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[f,R],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[l,[f,P],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[f,P],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[f,C],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[f,C],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[f,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[f,x],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[f,S],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[f,I],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[f,I],[p,y]],[/(nexus 9)/i],[l,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[l,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[f,"Meizu"],[p,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[f,q],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,l,[p,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,l,[p,b]],[/(surface duo)/i],[l,[f,N],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[l,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[l,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[l,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[l,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[l,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[l,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[l,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[l,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[l,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[l,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[l,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],l,[p,b]],[/\b(ns-?\w{0,9}) b/i],[l,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],l,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],l,[p,y]],[/\b(ph-1) /i],[l,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[l,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[l,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[l,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,l,[p,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[f,N],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[f,M],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[f,M],[p,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,l,[p,g]],[/droid.+; (shield) bui/i],[l,[f,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[l,[f,C],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[f,N],[p,g]],[/smart-tv.+(samsung)/i],[f,[p,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[f,L],[p,m]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,R],[p,m]],[/(apple) ?tv/i],[f,[l,k+" TV"],[p,m]],[/crkey/i],[[l,O+"cast"],[f,P],[p,m]],[/droid.+aft(\w)( bui|\))/i],[l,[f,x],[p,m]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[f,q],[p,m]],[/(bravia[\w ]+)( bui|\))/i],[l,[f,C],[p,m]],[/(mitv-\w{5}) bui/i],[l,[f,D],[p,m]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,$],[l,$],[p,m]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,m]],[/((pebble))app/i],[f,l,[p,w]],[/droid.+; (glass) \d/i],[l,[f,P],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[f,M],[p,w]],[/(quest( 2)?)/i],[l,[f,V],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[v,K,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[v,K,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,v],[/\(bb(10);/i],[v,[d,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[d,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[v,[d,O+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],v],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,v],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,v]]},H=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof H))return new H(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(W,t):W;return this.getBrowser=function(){var e,t={};return t[d]=o,t[v]=o,Q.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[h]=o,Q.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[l]=o,e[p]=o,Q.call(e,n,r.device),e},this.getEngine=function(){var e={};return e[d]=o,e[v]=o,Q.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[d]=o,e[v]=o,Q.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>350?$(e,350):e,this},this.setUA(n),this};H.VERSION="0.7.33",H.BROWSER=z([d,v,"major"]),H.CPU=z([h]),H.DEVICE=z([l,f,p,g,y,m,b,w,_]),H.ENGINE=H.OS=z([d,v]),typeof t!==a?(e.exports&&(t=e.exports=H),t.UAParser=H):n.amdO?(r=function(){return H}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=H);var Y=typeof i!==a&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var Z=new H;Y.ua=Z.getResult(),Y.ua.get=function(){return Z.getUA()},Y.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)},1940:e=>{var t;t={name:"production",backend:"https://api.chatgpt-exporter.com/api",web:"https://www.chatgpt-exporter.com",ga_ua_id:"UA-00000000-3",amp_key:"28de2aa0ae26524dc00a99ead93944dc"},e.exports={env:t}},8057:function(e){!function(t,n){e.exports=function(e){"use strict";var t=Array.prototype.slice,n=Object.prototype.hasOwnProperty;return r.default=r,r;function r(i){var o=(i=i||{}).chrome||e.chrome,s=i.Promise||e.Promise,a=o.runtime,u=this;if(!u)throw new Error("ChromePromise must be called with new keyword");function c(e,n){return function(){var r=t.call(arguments);return new s((function(i,o){r.push((function(){var e=a.lastError,n=t.call(arguments);if(e)o(e);else switch(n.length){case 0:i();break;case 1:i(n[0]);break;default:i(n)}})),e.apply(n,r)}))}}function l(e,t){for(var i in e)if(n.call(e,i)){var o;try{o=e[i]}catch(e){continue}var s=typeof o;"object"!==s||o instanceof r?t[i]="function"===s?c(o,e):o:(t[i]={},l(o,t[i]))}}l(o,u),o.permissions&&o.permissions.onAdded.addListener((function(e){if(e.permissions&&e.permissions.length){var t={};e.permissions.forEach((function(e){var n=/^[^.]+/.exec(e);n in o&&(t[n]=o[n])})),l(t,u)}}))}}(this||t)}("undefined"!=typeof self?self:this)},3927:(e,t,n)=>{var r=new(n(8057));r.default=r,e.exports=r},1549:(e,t,n)=>{var r=n(2032),i=n(3862),o=n(6721),s=n(2749),a=n(5749);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},79:(e,t,n)=>{var r=n(3702),i=n(80),o=n(4739),s=n(8655),a=n(1175);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},3661:(e,t,n)=>{var r=n(3040),i=n(7670),o=n(289),s=n(4509),a=n(2949);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},7217:(e,t,n)=>{var r=n(79),i=n(1420),o=n(938),s=n(3605),a=n(9817),u=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,e.exports=c},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},695:(e,t,n)=>{var r=n(8096),i=n(2428),o=n(6449),s=n(3656),a=n(361),u=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&s(e),p=!n&&!l&&!d&&u(e),f=n||l||d||p,v=f?r(e.length,String):[],h=v.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,h))||v.push(g);return v}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},7805:(e,t,n)=>{var r=n(3360),i=n(5288);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},6547:(e,t,n)=>{var r=n(3360),i=n(5288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9344:(e,t,n)=>{var r=n(3805),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},7422:(e,t,n)=>{var r=n(1769),i=n(7797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},2552:(e,t,n)=>{var r=n(1873),i=n(659),o=n(9350),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},7534:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5083:(e,t,n)=>{var r=n(1882),i=n(7296),o=n(3805),s=n(7473),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:a).test(s(e))}},4901:(e,t,n)=>{var r=n(2552),i=n(294),o=n(346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},2903:(e,t,n)=>{var r=n(3805),i=n(5527),o=n(181),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},5250:(e,t,n)=>{var r=n(7217),i=n(7805),o=n(6649),s=n(2824),a=n(3805),u=n(7241),c=n(4974);e.exports=function e(t,n,l,d,p){t!==n&&o(n,(function(o,u){if(p||(p=new r),a(o))s(t,n,u,l,e,d,p);else{var f=d?d(c(t,u),o,u+"",t,n,p):void 0;void 0===f&&(f=o),i(t,u,f)}}),u)}},2824:(e,t,n)=>{var r=n(7805),i=n(3290),o=n(1961),s=n(3007),a=n(5529),u=n(2428),c=n(6449),l=n(3693),d=n(3656),p=n(1882),f=n(3805),v=n(1331),h=n(7167),g=n(4974),y=n(9884);e.exports=function(e,t,n,b,m,w,_){var x=g(e,n),k=g(t,n),I=_.get(k);if(I)r(e,n,I);else{var S=w?w(x,k,n+"",e,t,_):void 0,E=void 0===S;if(E){var O=c(k),T=!O&&d(k),P=!O&&!T&&h(k);S=k,O||T||P?c(x)?S=x:l(x)?S=s(x):T?(E=!1,S=i(k,!0)):P?(E=!1,S=o(k,!0)):S=[]:v(k)||u(k)?(S=x,u(x)?S=y(x):f(x)&&!p(x)||(S=a(k))):E=!1}E&&(_.set(k,S),m(S,k,b,w,_),_.delete(k)),r(e,n,S)}}},9302:(e,t,n)=>{var r=n(3488),i=n(6757),o=n(2865);e.exports=function(e,t){return o(i(e,t,r),e+"")}},9570:(e,t,n)=>{var r=n(7334),i=n(3243),o=n(3488),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7556:(e,t,n)=>{var r=n(1873),i=n(4932),o=n(6449),s=n(4394),a=r?r.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},1769:(e,t,n)=>{var r=n(6449),i=n(8586),o=n(1802),s=n(3222);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:(e,t,n)=>{var r=n(6547),i=n(3360);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var c=t[a],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),s?i(n,c,l):r(n,c,l)}return n}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},999:(e,t,n)=>{var r=n(9302),i=n(6800);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}},3243:(e,t,n)=>{var r=n(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},6110:(e,t,n)=>{var r=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},659:(e,t,n)=>{var r=n(1873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2749:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5529:(e,t,n)=>{var r=n(9344),i=n(8879),o=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6800:(e,t,n)=>{var r=n(5288),i=n(4894),o=n(361),s=n(3805);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},8586:(e,t,n)=>{var r=n(6449),i=n(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,n)=>{var r,i=n(5481),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},3040:(e,t,n)=>{var r=n(1549),i=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6757:(e,t,n)=>{var r=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),u=Array(a);++s<a;)u[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(u),r(e,this,c)}}},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},2865:(e,t,n)=>{var r=n(9570),i=n(1811)(r);e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,n)=>{var r=n(79),i=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},1802:(e,t,n)=>{var r=n(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7334:e=>{e.exports=function(e){return function(){return e}}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,n)=>{var r=n(7534),i=n(346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},3693:(e,t,n)=>{var r=n(4894),i=n(346);e.exports=function(e){return i(e)&&r(e)}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(9935),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1331:(e,t,n)=>{var r=n(2552),i=n(8879),o=n(346),s=Function.prototype,a=Object.prototype,u=s.toString,c=a.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},4394:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7167:(e,t,n)=>{var r=n(4901),i=n(7301),o=n(6009),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},7241:(e,t,n)=>{var r=n(695),i=n(2903),o=n(4894);e.exports=function(e){return o(e)?r(e,!0):i(e)}},104:(e,t,n)=>{var r=n(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5364:(e,t,n)=>{var r=n(5250),i=n(999)((function(e,t,n){r(e,t,n)}));e.exports=i},9935:e=>{e.exports=function(){return!1}},9884:(e,t,n)=>{var r=n(1791),i=n(7241);e.exports=function(e){return r(e,i(e))}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},4633:(e,t,n)=>{var r=n(3738).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),s=new A(r||[]);return a(o,"_invoke",{value:P(e,n,s)}),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var h="suspendedStart",g="suspendedYield",y="executing",b="completed",m={};function w(){}function _(){}function x(){}var k={};p(k,c,(function(){return this}));var I=Object.getPrototypeOf,S=I&&I(I(U([])));S&&S!==o&&s.call(S,c)&&(k=S);var E=x.prototype=w.prototype=Object.create(k);function O(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,u){var c=v(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&s.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function P(e,n,r){var i=h;return function(o,s){if(i===y)throw Error("Generator is already running");if(i===b){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var u=j(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var c=v(e,n,r);if("normal"===c.type){if(i=r.done?b:g,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=b,r.method="throw",r.arg=c.arg)}}}function j(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=v(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function U(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(s.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=x,a(E,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:_,configurable:!0}),_.displayName=p(x,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,p(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},O(T.prototype),p(T.prototype,l,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var s=new T(f(e,t,r,i),o);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(E),p(E,d,"Generator"),p(E,c,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=U,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:U(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,n)=>{var r=n(4633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{IdentifyOperation:()=>we,LogLevel:()=>A,PluginType:()=>re,RevenueProperty:()=>_e,ServerZone:()=>de,SpecialEventType:()=>xe,Status:()=>ue,TransportType:()=>Se});var t={};function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,u,"next",e)}function u(e){o(s,r,i,a,u,"throw",e)}a(void 0)}))}}n.r(t),n.d(t,{Identify:()=>Te,Revenue:()=>Pe,Types:()=>e,add:()=>Bt,createInstance:()=>zt,extendSession:()=>$t,flush:()=>Qt,getDeviceId:()=>Kt,getSessionId:()=>Gt,getUserId:()=>Wt,groupIdentify:()=>Ht,identify:()=>Yt,init:()=>Zt,logEvent:()=>Jt,remove:()=>Xt,reset:()=>en,revenue:()=>tn,runQueuedFunctions:()=>Ct,setDeviceId:()=>nn,setGroup:()=>rn,setOptOut:()=>on,setSessionId:()=>sn,setTransport:()=>an,setUserId:()=>un,track:()=>cn});var a=n(4756),u=n.n(a),c=n(1940),l={storageKeys:{gaClientId:"ga.clientid"}};l.env={name:c.env.name},l.ga={uaId:c.env.ga_ua_id},l.web={host:c.env.web},l.backend={host:c.env.backend,account:c.env.backend+"/account"},l.amp={key:c.env.amp_key};const d=l;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(3927),h=n.n(v),g=n(5364),y=n.n(g),b=(n(8156),{});b.level=0,b.level=3,b.error=function(){if(b.level<=3){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[gptex]"].concat(n))}},b.warning=function(){if(b.level<=2){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[gptex]"].concat(n))}},b.info=function(){if(b.level<=1){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[gptex]"].concat(n))}},b.debug=function(){if(b.level<=0){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[gtpex]"].concat(n))}};const m=b;var w,_=new Uint8Array(16);function x(){if(!w&&!(w="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(_)}const k=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var I=[],S=0;S<256;++S)I.push((S+256).toString(16).substr(1));const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&k.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},O=function(e,t,n){var r=(e=e||{}).random||(e.rng||x)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return E(r)};var T=function(){var e=s(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().storage.local.get([t]);case 2:return r=e.sent,m.debug("before merge:",r[t]),m.debug("after merge:",y()(r[t],n)),e.next=7,h().storage.local.set(f({},t,y()(r[t],n)));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=s(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.debug("storageSet, key: "+t+", value: "+n),e.next=3,h().storage.local.set(f({},t,n));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=s(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.storageKeys.gaClientId,n=null,e.next=4,h().storage.local.get([t]);case 4:return r=e.sent,m.debug("storage get:",r),r[t]?(m.debug("got id from storage: ",r[t]),n=r[t]):(n=O(),m.debug("generate id from uuidv4: ",n),h().storage.local.set(f({},t,n))),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,t){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},R(e,t)};function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var A,U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)};function L(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function q(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function C(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function D(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function V(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(A||(A={}));var z=function(e){return function(){var t=U({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},F=function(e,t){var n,r;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var i=D(t.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(!(s in e))return;e=e[s]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},B=function(e,t){return function(){var n,r,i={};try{for(var o=D(t),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=F(e,a)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},$=function(e,t,n,r,i){return void 0===i&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=n(),u=a.logger,c=a.logLevel;if(c&&c<A.Debug||!c||!u)return e.apply(i,o);var l,d={type:"invoke public method",name:t,args:o,stacktrace:(l=1,void 0===l&&(l=0),((new Error).stack||"").split("\n").slice(2+l).map((function(e){return e.trim()}))),time:{start:(new Date).toISOString()},states:{}};r&&d.states&&(d.states.before=r());var p=e.apply(i,o);return p&&p.promise?p.promise.then((function(){r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=(new Date).toISOString()),u.debug(JSON.stringify(d,null,2))})):(r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=(new Date).toISOString()),u.debug(JSON.stringify(d,null,2))),p}},Q="AMP",K="".concat(Q,"_unsent"),G="https://api2.amplitude.com/2/httpapi",W=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[Q,t,e.substring(0,n)].filter(Boolean).join("_")},H=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0},Y=function(){var e,t=H();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce((function(e,t){var n=t.split("=",2),r=Z(n[0]),i=Z(n[1]);return i?(e[r]=i,e):e}),{}):{}},Z=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},J=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:X(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),X=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},ee=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},te.apply(this,arguments)},ne=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++)if(i[r]===n)return e===t;if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(!o||!s){var a=Object.keys(e).sort(),u=Object.keys(t).sort();if(!ne(a,u))return!1;var c=!0;return Object.keys(e).forEach((function(n){ne(e[n],t[n])||(c=!1)})),c}for(var l=0;l<e.length;l++)if(!ne(e[l],t[l]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var re,ie=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=te({},this.identity.userProperties),n=te(te({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(s){case"$set":for(var u=0,c=Object.entries(a);u<c.length;u++){var l=c[u],d=l[0],p=l[1];t[d]=p}break;case"$unset":for(var f=0,v=Object.keys(a);f<v.length;f++)delete t[d=v[f]];break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return te({},this.identity)},e.prototype.setIdentity=function(e){var t=te({},this.identity);this.identity=te({},e),ne(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),oe="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,se=function(){function e(){this.identityStore=new ie,this.eventBridge=new ee,this.applicationContextProvider=new J}return e.getInstance=function(t){return oe.analyticsConnectorInstances||(oe.analyticsConnectorInstances={}),oe.analyticsConnectorInstances[t]||(oe.analyticsConnectorInstances[t]=new e),oe.analyticsConnectorInstances[t]},e}(),ae=function(e){return void 0===e&&(e="$default_instance"),se.getInstance(e)};!function(e){e.BEFORE="before",e.ENRICHMENT="enrichment",e.DESTINATION="destination"}(re||(re={}));var ue,ce=function(){function e(){this.name="identity",this.type=re.BEFORE,this.identityStore=ae().identityStore}return e.prototype.execute=function(e){return q(this,void 0,void 0,(function(){var t;return C(this,(function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]}))}))},e.prototype.setup=function(e){return q(this,void 0,void 0,(function(){return C(this,(function(t){return e.instanceName&&(this.identityStore=ae(e.instanceName).identityStore),[2]}))}))},e}(),le=function(e){return{promise:e||Promise.resolve()}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(ue||(ue={}));var de,pe=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=ue.Unknown),{event:e,code:t,message:n}};!function(e){e.US="US",e.EU="EU",e.STAGING="STAGING"}(de||(de={}));var fe="Amplitude Logger ",ve=function(){function e(){this.logLevel=A.None}return e.prototype.disable=function(){this.logLevel=A.None},e.prototype.enable=function(e){void 0===e&&(e=A.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<A.Verbose||console.log("".concat(fe,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<A.Warn||console.warn("".concat(fe,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<A.Error||console.error("".concat(fe,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<A.Debug||console.log("".concat(fe,"[Debug]: ").concat(e.join(" ")))},e}(),he=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:A.Warn,loggerProvider:new ve,optOut:!1,serverUrl:G,serverZone:de.US,useBatch:!1}},ge=function(){function e(e){var t,n,r,i;this._optOut=!1;var o=he();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=null!==(r=e.optOut)&&void 0!==r?r:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var s=be(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),ye=function(e,t){return e===de.EU?t?"https://api.eu.amplitude.com/batch":"https://api.eu.amplitude.com/2/httpapi":t?"https://api2.amplitude.com/batch":G},be=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=he().serverZone),void 0===n&&(n=he().useBatch),e)return{serverUrl:e,serverZone:void 0};var r=["US","EU"].includes(t)?t:he().serverZone;return{serverZone:r,serverUrl:ye(r,n)}};function me(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body))}catch(e){}return t}var we,_e,xe,ke=function(){function e(){this.name="amplitude",this.type=re.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return q(this,void 0,void 0,(function(){var n,r=this;return C(this,(function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(K,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return n=i.sent(),this.saveEvents(),n&&n.length>0&&Promise.all(n.map((function(e){return r.execute(e)}))).catch(),[2,Promise.resolve(void 0)]}}))}))},e.prototype.execute=function(e){var t=this;return new Promise((function(n){var r={event:e,attempts:0,callback:function(e){return n(e)},timeout:0};t.addToQueue(r)}))},e.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.filter((function(t){return t.attempts<e.config.flushMaxRetries?(t.attempts+=1,!0):(e.fulfillRequest([t],500,"Event rejected due to exceeded retry count"),!1)})).forEach((function(t){e.queue=e.queue.concat(t),0!==t.timeout?setTimeout((function(){t.timeout=0,e.schedule(0)}),t.timeout):e.schedule(e.config.flushIntervalMillis)})),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout((function(){t.flush(!0).then((function(){t.queue.length>0&&t.schedule(e)}))}),e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),q(this,void 0,void 0,(function(){var t,n,r,i=this;return C(this,(function(o){switch(o.label){case 0:return t=[],n=[],this.queue.forEach((function(e){return 0===e.timeout?t.push(e):n.push(e)})),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),s=t,a=this.config.flushQueueSize,u=Math.max(a,1),r=s.reduce((function(e,t,n){var r=Math.floor(n/u);return e[r]||(e[r]=[]),e[r].push(t),e}),[]),[4,Promise.all(r.map((function(t){return i.send(t,e)})))];case 1:return o.sent(),[2]}var s,a,u}))}))},e.prototype.send=function(e,t){return void 0===t&&(t=!0),q(this,void 0,void 0,(function(){var n,r,i,o,s;return C(this,(function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map((function(e){var t=e.event;return t.extra,L(t,["extra"])})),options:{min_id_length:this.config.minIdLength}},a.label=1;case 1:return a.trys.push([1,3,,4]),r=be(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,n)];case 2:return null===(i=a.sent())?(this.fulfillRequest(e,0,"Unexpected error occurred"),[2]):t?(this.handleResponse(i,e),[3,4]):("body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(me(i))):this.fulfillRequest(e,i.statusCode,i.status),[2]);case 3:return o=a.sent(),this.config.loggerProvider.error(o),s=(u=o)instanceof Error?u.message:String(u),this.fulfillRequest(e,0,s),[3,4];case 4:return[2]}var u}))}))},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case ue.Success:this.handleSuccessResponse(e,t);break;case ue.Invalid:this.handleInvalidResponse(e,t);break;case ue.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case ue.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key"))this.fulfillRequest(t,e.statusCode,e.body.error);else{var r=V(V(V(V([],M(Object.values(e.body.eventsWithInvalidFields)),!1),M(Object.values(e.body.eventsWithMissingFields)),!1),M(Object.values(e.body.eventsWithInvalidIdLengths)),!1),M(e.body.silencedEvents),!1).flat(),i=new Set(r),o=t.filter((function(t,r){if(!i.has(r))return!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));o.length>0&&this.config.loggerProvider.warn(me(e)),this.addToQueue.apply(this,V([],M(o),!1))}},e.prototype.handlePayloadTooLargeResponse=function(e,t){1!==t.length?(this.config.loggerProvider.warn(me(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,V([],M(t),!1))):this.fulfillRequest(t,e.statusCode,e.body.error)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,r=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,s=new Set(r),a=new Set(i),u=new Set(o),c=t.filter((function(t,r){if(!(t.event.user_id&&s.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)))return u.has(r)&&(t.timeout=n.throttleTimeout),!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));c.length>0&&this.config.loggerProvider.warn(me(e)),this.addToQueue.apply(this,V([],M(c),!1))},e.prototype.handleOtherResponse=function(e){var t=this;this.addToQueue.apply(this,V([],M(e.map((function(e){return e.timeout=e.attempts*t.retryTimeout,e}))),!1))},e.prototype.fulfillRequest=function(e,t,n){this.saveEvents(),e.forEach((function(e){return e.callback(pe(e.event,t,n))}))},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map((function(e){return e.event})));this.config.storageProvider.set(this.storageKey,e)}},e}(),Ie=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Ie)};!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(we||(we={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(_e||(_e={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(xe||(xe={}));var Se,Ee=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!Oe(t,n))return!1}return!0},Oe=function(e,t){var n,r;if("string"!=typeof e)return!1;if(Array.isArray(t)){var i=!0;try{for(var o=D(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(Array.isArray(a))return!1;if("object"==typeof a)i=i&&Ee(a);else if(!["number","string"].includes(typeof a))return!1;if(!i)return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else{if(null==t)return!1;if("object"==typeof t)return Ee(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Te=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return U({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(we.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(we.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(we.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(we.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(we.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(we.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(we.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(we.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(we.UNSET,e,"-"),this},e.prototype.clearAll=function(){return this._properties={},this._properties[we.CLEAR_ALL]="-",this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var r=this._properties[e];return void 0===r&&(r={},this._properties[e]=r),r[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return void 0===this._properties[we.CLEAR_ALL]&&!this._propertySet.has(t)&&(e===we.ADD?"number"==typeof n:e===we.UNSET||e===we.REMOVE||Oe(t,n))},e}(),Pe=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return Ee(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?U({},this.properties):{};return e[_e.REVENUE_PRODUCT_ID]=this.productId,e[_e.REVENUE_QUANTITY]=this.quantity,e[_e.REVENUE_PRICE]=this.price,e[_e.REVENUE_TYPE]=this.revenueType,e[_e.REVENUE]=this.revenue,e},e}(),je=function(e,t){return U(U({},t),{event_type:xe.IDENTIFY,user_properties:e.getUserProperties()})},Re=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){return q(this,void 0,void 0,(function(){return C(this,(function(n){switch(n.label){case 0:return[4,e.setup(t,this.client)];case 1:return n.sent(),this.plugins.push(e),[2]}}))}))},e.prototype.deregister=function(e){var t;return q(this,void 0,void 0,(function(){var n,r;return C(this,(function(i){switch(i.label){case 0:return n=this.plugins.findIndex((function(t){return t.name===e})),r=this.plugins[n],this.plugins.splice(n,1),[4,null===(t=r.teardown)||void 0===t?void 0:t.call(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.reset=function(e){this.applying=!1,this.plugins.map((function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)})),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise((function(n){t.queue.push([e,n]),t.scheduleApply(0)}))},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout((function(){t.apply(t.queue.shift()).then((function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)}))}),e))},e.prototype.apply=function(e){return q(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,d,p,f,v,h,g,y,b,m;return C(this,(function(w){switch(w.label){case 0:if(!e)return[2];t=M(e,1),n=t[0],r=M(e,2),i=r[1],o=this.plugins.filter((function(e){return e.type===re.BEFORE})),w.label=1;case 1:w.trys.push([1,6,7,8]),s=D(o),a=s.next(),w.label=2;case 2:return a.done?[3,5]:[4,a.value.execute(U({},n))];case 3:if(null===(p=w.sent()))return i({event:n,code:0,message:""}),[2];n=p,w.label=4;case 4:return a=s.next(),[3,2];case 5:return[3,8];case 6:return u=w.sent(),g={error:u},[3,8];case 7:try{a&&!a.done&&(y=s.return)&&y.call(s)}finally{if(g)throw g.error}return[7];case 8:c=this.plugins.filter((function(e){return e.type===re.ENRICHMENT})),w.label=9;case 9:w.trys.push([9,14,15,16]),l=D(c),d=l.next(),w.label=10;case 10:return d.done?[3,13]:[4,d.value.execute(U({},n))];case 11:if(null===(p=w.sent()))return i({event:n,code:0,message:""}),[2];n=p,w.label=12;case 12:return d=l.next(),[3,10];case 13:return[3,16];case 14:return f=w.sent(),b={error:f},[3,16];case 15:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(b)throw b.error}return[7];case 16:return v=this.plugins.filter((function(e){return e.type===re.DESTINATION})),h=v.map((function(e){var t=U({},n);return e.execute(t).catch((function(e){return pe(t,0,String(e))}))})),Promise.all(h).then((function(e){var t=M(e,1)[0];i(t)})),[2]}}))}))},e.prototype.flush=function(){return q(this,void 0,void 0,(function(){var e,t,n,r=this;return C(this,(function(i){switch(i.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map((function(e){return r.apply(e)})))];case 1:return i.sent(),t=this.plugins.filter((function(e){return e.type===re.DESTINATION})),n=t.map((function(e){return e.flush&&e.flush()})),[4,Promise.all(n)];case 2:return i.sent(),[2]}}))}))},e}(),Ne=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Re(this),this.name=e}return e.prototype._init=function(e){return q(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),[2]}}))}))},e.prototype.runQueuedFunctions=function(e){return q(this,void 0,void 0,(function(){var t,n,r,i,o,s;return C(this,(function(a){switch(a.label){case 0:t=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,6,7,8]),n=D(t),r=n.next(),a.label=2;case 2:return r.done?[3,5]:[4,(0,r.value)()];case 3:a.sent(),a.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return i=a.sent(),o={error:i},[3,8];case 7:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}return[7];case 8:return[2]}}))}))},e.prototype.track=function(e,t,n){var r=function(e,t,n){return U(U(U({},"string"==typeof e?{event_type:e}:e),n),t&&{event_properties:t})}(e,t,n);return le(this.dispatch(r))},e.prototype.identify=function(e,t){var n=je(e,t);return le(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,r){var i=function(e,t,n,r){var i;return U(U({},r),{event_type:xe.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[e]=t,i)})}(e,t,n,r);return le(this.dispatch(i))},e.prototype.setGroup=function(e,t,n){var r=function(e,t,n){var r,i=new Te;return i.set(e,t),U(U({},n),{event_type:xe.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[e]=t,r)})}(e,t,n);return le(this.dispatch(r))},e.prototype.revenue=function(e,t){var n=function(e,t){return U(U({},t),{event_type:xe.REVENUE,event_properties:e.getEventProperties()})}(e,t);return le(this.dispatch(n))},e.prototype.add=function(e){return this.config?le(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),le())},e.prototype.remove=function(e){return this.config?le(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),le())},e.prototype.dispatchWithCallback=function(e,t){if(!this.config)return t(pe(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return q(this,void 0,void 0,(function(){var t=this;return C(this,(function(n){return this.config?[2,this.process(e)]:[2,new Promise((function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))}))]}))}))},e.prototype.process=function(e){return q(this,void 0,void 0,(function(){var t,n,r;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.config.optOut?[2,pe(e,0,"Event skipped due to optOut config")]:[4,this.timeline.push(e)];case 1:return 200===(r=i.sent()).code?this.config.loggerProvider.log(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return t=i.sent(),this.config.loggerProvider.error(t),n=String(t),[2,r=pe(e,0,n)];case 3:return[2]}}))}))},e.prototype.setOptOut=function(e){this.config?this.config.optOut=Boolean(e):this.q.push(this.setOptOut.bind(this,Boolean(e)))},e.prototype.flush=function(){return le(this.timeline.flush())},e}(),Ae="dclid",Ue="fbclid",Le="gbraid",qe="gclid",Ce="ko_click_id",De="li_fat_id",Me="msclkid",Ve="rtd_cid",ze="ttclid",Fe="twclid",Be="wbraid",$e={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Qe=function(){function e(){}return e.prototype.parse=function(){return q(this,void 0,void 0,(function(){return C(this,(function(e){return[2,U(U(U(U({},$e),this.getUtmParam()),this.getReferrer()),this.getClickIds())]}))}))},e.prototype.getUtmParam=function(){var e=Y();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=Y();return(e={})[Ae]=t[Ae],e[Ue]=t[Ue],e[Le]=t[Le],e[qe]=t[qe],e[Ce]=t[Ce],e[De]=t[De],e[Me]=t[Me],e[Ve]=t[Ve],e[ze]=t[ze],e[Fe]=t[Fe],e[Be]=t[Be],e},e}(),Ke=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},Ge=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i={},o=H(),s=void 0,a=M(t,2),u=a[0],c=a[1];u&&"init"in u?(e=u,c&&(i=c)):u&&(i=u);var l=function(){return q(void 0,void 0,void 0,(function(){var e,t,n;return C(this,(function(r){switch(r.label){case 0:return t={event_type:null!==(n=i.eventType)&&void 0!==n?n:"Page View"},e=[{}],[4,We()];case 1:return[2,(t.event_properties=U.apply(void 0,[U.apply(void 0,e.concat([r.sent()])),{page_domain:"undefined"!=typeof location&&location.hostname||"",page_location:"undefined"!=typeof location&&location.href||"",page_path:"undefined"!=typeof location&&location.pathname||"",page_title:"undefined"!=typeof document&&document.title||"",page_url:"undefined"!=typeof location&&location.href.split("?")[0]||""}]),t)]}}))}))},d=function(){return void 0===i.trackOn||"function"==typeof i.trackOn&&i.trackOn()},p="undefined"!=typeof location?location.href:null,f=function(){return q(void 0,void 0,void 0,(function(){var t,n,r,o;return C(this,(function(a){switch(a.label){case 0:return t=location.href,n=Ye(i.trackHistoryChanges,t,p||"")&&d(),p=t,n?(null==s||s.log("Tracking page view event"),null!=e?[3,1]:[3,3]):[3,4];case 1:return o=(r=e).track,[4,l()];case 2:o.apply(r,[a.sent()]),a.label=3;case 3:a.label=4;case 4:return[2]}}))}))},v=function(){f()},h={name:"page-view-tracking",type:re.ENRICHMENT,setup:function(t,n){return q(void 0,void 0,void 0,(function(){var a,c,p,h,g;return C(this,(function(y){switch(y.label){case 0:return(e=null!=e?e:n)?((s=t.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),i.trackOn=(null===(h=t.attribution)||void 0===h?void 0:h.trackPageViews)?"attribution":i.trackOn,!n&&(null===(g=t.attribution)||void 0===g?void 0:g.trackPageViews)&&(s.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),t.attribution.trackPageViews=!1),i.trackHistoryChanges&&o&&(o.addEventListener("popstate",v),r=o.history.pushState,o.history.pushState=new Proxy(o.history.pushState,{apply:function(e,t,n){var r=M(n,3),i=r[0],o=r[1],s=r[2];e.apply(t,[i,o,s]),f()}})),d()?(s.log("Tracking page view event"),p=(c=e).track,[4,l()]):[3,2]):(a=u?"Options":"undefined",t.loggerProvider.error("Argument of type '".concat(a,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:p.apply(c,[y.sent()]),y.label=2;case 2:return[2]}}))}))},execute:function(e){return q(void 0,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return"attribution"===i.trackOn&&He(e)?(null==s||s.log("Enriching campaign event to page view event with campaign parameters"),[4,l()]):[3,2];case 1:t=n.sent(),e.event_type=t.event_type,e.event_properties=U(U({},e.event_properties),t.event_properties),n.label=2;case 2:return[2,e]}}))}))},teardown:function(){return q(void 0,void 0,void 0,(function(){return C(this,(function(e){return o&&(o.removeEventListener("popstate",v),r&&(o.history.pushState=r)),[2]}))}))}};return h.__trackHistoryPageView=f,h},We=function(){return q(void 0,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return e=Ke,[4,(new Qe).parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},He=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[we.SET]||{},r=t[we.UNSET]||{},i=V(V([],M(Object.keys(n)),!1),M(Object.keys(r)),!1);return Object.keys($e).every((function(e){return i.includes(e)}))}return!1},Ye=function(e,t,n){return"pathOnly"===e?t.split("?")[0]!==n.split("?")[0]:t!==n},Ze=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")};!function(e){e.XHR="xhr",e.SendBeacon="beacon",e.Fetch="fetch"}(Se||(Se={}));var Je=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return q(this,void 0,void 0,(function(){return C(this,(function(e){return[2,!0]}))}))},e.prototype.get=function(e){return q(this,void 0,void 0,(function(){return C(this,(function(t){return[2,this.memoryStorage.get(e)]}))}))},e.prototype.getRaw=function(e){return q(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}}))}))},e.prototype.set=function(e,t){return q(this,void 0,void 0,(function(){return C(this,(function(n){return this.memoryStorage.set(e,t),[2]}))}))},e.prototype.remove=function(e){return q(this,void 0,void 0,(function(){return C(this,(function(t){return this.memoryStorage.delete(e),[2]}))}))},e.prototype.reset=function(){return q(this,void 0,void 0,(function(){return C(this,(function(e){return this.memoryStorage.clear(),[2]}))}))},e}(),Xe=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){var t,n,r,i,o,s,a,u,c,l,d,p,f,v,h,g,y,b,m,w,_,x;if("object"!=typeof e)return null;var k=e.code||0,I=this.buildStatus(k);switch(I){case ue.Success:return{status:I,statusCode:k,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(r=e.server_upload_time)&&void 0!==r?r:0}};case ue.Invalid:return{status:I,statusCode:k,body:{error:null!==(i=e.error)&&void 0!==i?i:"",missingField:null!==(o=e.missing_field)&&void 0!==o?o:"",eventsWithInvalidFields:null!==(s=e.events_with_invalid_fields)&&void 0!==s?s:{},eventsWithMissingFields:null!==(a=e.events_with_missing_fields)&&void 0!==a?a:{},eventsWithInvalidIdLengths:null!==(u=e.events_with_invalid_id_lengths)&&void 0!==u?u:{},epsThreshold:null!==(c=e.eps_threshold)&&void 0!==c?c:0,exceededDailyQuotaDevices:null!==(l=e.exceeded_daily_quota_devices)&&void 0!==l?l:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(f=e.throttled_devices)&&void 0!==f?f:{},throttledEvents:null!==(v=e.throttled_events)&&void 0!==v?v:[]}};case ue.PayloadTooLarge:return{status:I,statusCode:k,body:{error:null!==(h=e.error)&&void 0!==h?h:""}};case ue.RateLimit:return{status:I,statusCode:k,body:{error:null!==(g=e.error)&&void 0!==g?g:"",epsThreshold:null!==(y=e.eps_threshold)&&void 0!==y?y:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(m=e.throttled_users)&&void 0!==m?m:{},exceededDailyQuotaDevices:null!==(w=e.exceeded_daily_quota_devices)&&void 0!==w?w:{},exceededDailyQuotaUsers:null!==(_=e.exceeded_daily_quota_users)&&void 0!==_?_:{},throttledEvents:null!==(x=e.throttled_events)&&void 0!==x?x:[]}};case ue.Timeout:default:return{status:I,statusCode:k}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?ue.Success:429===e?ue.RateLimit:413===e?ue.PayloadTooLarge:408===e?ue.Timeout:e>=400&&e<500?ue.Invalid:e>=500?ue.Failed:ue.Unknown},e}(),et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.send=function(e,t){return q(this,void 0,void 0,(function(){var n,r;return C(this,(function(i){switch(i.label){case 0:if("undefined"==typeof fetch)throw new Error("FetchTransport is not supported");return n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,n)];case 1:return[4,i.sent().json()];case 2:return r=i.sent(),[2,this.buildResponse(r)]}}))}))},t}(Xe),tt=function(){function e(e){this.options=U({},e)}return e.prototype.isEnabled=function(){return q(this,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:if(!H())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return r.sent(),[4,t.get(n)];case 3:return[2,r.sent()===e.testValue];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return q(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:if(!(t=n.sent()))return[2,void 0];try{try{t=decodeURIComponent(atob(t))}catch(e){}return[2,JSON.parse(t)]}catch(e){return[2,void 0]}return[2]}}))}))},e.prototype.getRaw=function(e){var t;return q(this,void 0,void 0,(function(){var n,r,i;return C(this,(function(o){return n=H(),r=null!==(t=null==n?void 0:n.document.cookie.split("; "))&&void 0!==t?t:[],(i=r.find((function(t){return 0===t.indexOf(e+"=")})))?[2,i.substring(e.length+1)]:[2,void 0]}))}))},e.prototype.set=function(e,t){var n;return q(this,void 0,void 0,(function(){var r,i,o,s,a,u;return C(this,(function(c){try{r=null!==(n=this.options.expirationDays)&&void 0!==n?n:0,o=void 0,(i=null!==t?r:-1)&&((s=new Date).setTime(s.getTime()+24*i*60*60*1e3),o=s),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(a+="; expires=".concat(o.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),(u=H())&&(u.document.cookie=a)}catch(e){}return[2]}))}))},e.prototype.remove=function(e){return q(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}}))}))},e.prototype.reset=function(){return q(this,void 0,void 0,(function(){return C(this,(function(e){return[2]}))}))},e}(),nt=1e3,rt=function(){function e(e){this.loggerProvider=null==e?void 0:e.loggerProvider}return e.prototype.isEnabled=function(){return q(this,void 0,void 0,(function(){var t,n,r;return C(this,(function(i){switch(i.label){case 0:if(!H())return[2,!1];t=String(Date.now()),n=new e,r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return i.sent(),[4,n.get(r)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return q(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return(t=n.sent())?[2,JSON.parse(t)]:[2,void 0];case 2:return n.sent(),[2,void 0];case 3:return[2]}}))}))},e.prototype.getRaw=function(e){var t;return q(this,void 0,void 0,(function(){return C(this,(function(n){return[2,(null===(t=H())||void 0===t?void 0:t.localStorage.getItem(e))||void 0]}))}))},e.prototype.set=function(e,t){var n,r;return q(this,void 0,void 0,(function(){var i,o,s;return C(this,(function(a){i=Array.isArray(t)&&t.length>nt;try{o=i?JSON.stringify(t.slice(0,nt)):JSON.stringify(t),null===(n=H())||void 0===n||n.localStorage.setItem(e,o)}catch(e){}return i&&(s=t.length-nt,null===(r=this.loggerProvider)||void 0===r||r.error("Failed to save ".concat(s," events because the queue length exceeded ").concat(nt,"."))),[2]}))}))},e.prototype.remove=function(e){var t;return q(this,void 0,void 0,(function(){return C(this,(function(n){try{null===(t=H())||void 0===t||t.localStorage.removeItem(e)}catch(e){}return[2]}))}))},e.prototype.reset=function(){var e;return q(this,void 0,void 0,(function(){return C(this,(function(t){try{null===(e=H())||void 0===e||e.localStorage.clear()}catch(e){}return[2]}))}))},e}(),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return N(t,e),t.prototype.send=function(e,t){return q(this,void 0,void 0,(function(){var n=this;return C(this,(function(r){return[2,new Promise((function(r,i){"undefined"==typeof XMLHttpRequest&&i(new Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===n.state.done)try{var e=o.responseText,t=JSON.parse(e),s=n.buildResponse(t);r(s)}catch(e){i(e)}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))}))]}))}))},t}(Xe),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.send=function(e,t){return q(this,void 0,void 0,(function(){var n=this;return C(this,(function(r){return[2,new Promise((function(r,i){var o=H();if(!(null==o?void 0:o.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(t);return r(o.navigator.sendBeacon(e,JSON.stringify(t))?n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}):n.buildResponse({code:500}))}catch(e){i(e)}}))]}))}))},t}(Xe),st=function(){return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:new Je,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:18e5,trackingOptions:{deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0},transportProvider:new et}},at=function(e){function t(t,n){var r,i,o,s,a,u,c,l,d,p=this,f=st();return(p=e.call(this,U(U({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:f.transportProvider},n),{apiKey:t}))||this)._optOut=!1,p.cookieStorage=null!==(r=null==n?void 0:n.cookieStorage)&&void 0!==r?r:f.cookieStorage,p.deviceId=null==n?void 0:n.deviceId,p.lastEventId=null==n?void 0:n.lastEventId,p.lastEventTime=null==n?void 0:n.lastEventTime,p.optOut=Boolean(null==n?void 0:n.optOut),p.sessionId=null==n?void 0:n.sessionId,p.userId=null==n?void 0:n.userId,p.appVersion=null==n?void 0:n.appVersion,p.attribution=null==n?void 0:n.attribution,p.cookieExpiration=null!==(i=null==n?void 0:n.cookieExpiration)&&void 0!==i?i:f.cookieExpiration,p.cookieSameSite=null!==(o=null==n?void 0:n.cookieSameSite)&&void 0!==o?o:f.cookieSameSite,p.cookieSecure=null!==(s=null==n?void 0:n.cookieSecure)&&void 0!==s?s:f.cookieSecure,p.cookieUpgrade=null!==(a=null==n?void 0:n.cookieUpgrade)&&void 0!==a?a:f.cookieUpgrade,p.defaultTracking=null==n?void 0:n.defaultTracking,p.disableCookies=null!==(u=null==n?void 0:n.disableCookies)&&void 0!==u?u:f.disableCookies,p.defaultTracking=null==n?void 0:n.defaultTracking,p.domain=null!==(c=null==n?void 0:n.domain)&&void 0!==c?c:f.domain,p.partnerId=null==n?void 0:n.partnerId,p.sessionTimeout=null!==(l=null==n?void 0:n.sessionTimeout)&&void 0!==l?l:f.sessionTimeout,p.trackingOptions=null!==(d=null==n?void 0:n.trackingOptions)&&void 0!==d?d:f.trackingOptions,p}return N(t,e),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e,t={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};null===(e=this.cookieStorage)||void 0===e||e.set(W(this.apiKey),t)},t}(ge),ut=function(e,t){return q(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,d,p,f,v,h,g;return C(this,(function(y){switch(y.label){case 0:return n=st(),r=null!==(h=null==t?void 0:t.deviceId)&&void 0!==h?h:Ie(),i=null==t?void 0:t.lastEventId,o=null==t?void 0:t.lastEventTime,s=null==t?void 0:t.optOut,a=null==t?void 0:t.sessionId,u=null==t?void 0:t.userId,c=null==t?void 0:t.cookieStorage,l=null==t?void 0:t.domain,d=at.bind,p=[void 0,e],f=[U({},t)],v={cookieStorage:c,deviceId:r,domain:l,lastEventId:i,lastEventTime:o,optOut:s,sessionId:a},[4,dt(t)];case 1:return[2,new(d.apply(at,p.concat([U.apply(void 0,f.concat([(v.storageProvider=y.sent(),v.trackingOptions=U(U({},n.trackingOptions),null==t?void 0:t.trackingOptions),v.transportProvider=null!==(g=null==t?void 0:t.transportProvider)&&void 0!==g?g:pt(null==t?void 0:t.transport),v.userId=u,v)]))])))]}}))}))},ct=function(e,t){return void 0===t&&(t=st()),q(void 0,void 0,void 0,(function(){var n,r,i;return C(this,(function(o){switch(o.label){case 0:return n=U(U({},t),e),r=null==e?void 0:e.cookieStorage,(i=!r)?[3,2]:[4,r.isEnabled()];case 1:i=!o.sent(),o.label=2;case 2:return i?[2,lt(n)]:[2,r]}}))}))},lt=function(e){return q(void 0,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:return t=new tt({domain:e.domain,expirationDays:e.cookieExpiration,sameSite:e.cookieSameSite,secure:e.cookieSecure}),(n=e.disableCookies)?[3,2]:[4,t.isEnabled()];case 1:n=!r.sent(),r.label=2;case 2:return n?[4,(t=new rt).isEnabled()]:[3,4];case 3:r.sent()||(t=new Je),r.label=4;case 4:return[2,t]}}))}))},dt=function(e){return q(void 0,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c;return C(this,(function(l){switch(l.label){case 0:if(t=e&&Object.prototype.hasOwnProperty.call(e,"storageProvider"),n=e&&e.loggerProvider,t&&!e.storageProvider)return[3,9];l.label=1;case 1:l.trys.push([1,7,8,9]),r=D([null==e?void 0:e.storageProvider,new rt({loggerProvider:n})]),i=r.next(),l.label=2;case 2:return i.done?[3,6]:(o=i.value,(s=o)?[4,o.isEnabled()]:[3,4]);case 3:s=l.sent(),l.label=4;case 4:if(s)return[2,o];l.label=5;case 5:return i=r.next(),[3,2];case 6:return[3,9];case 7:return a=l.sent(),u={error:a},[3,9];case 8:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 9:return[2,void 0]}}))}))},pt=function(e){return e===Se.XHR?new it:e===Se.SendBeacon?new ot:st().transportProvider},ft="[Amplitude]",vt="".concat(ft," Page Viewed"),ht="".concat(ft," Form Started"),gt="".concat(ft," Form Submitted"),yt="".concat(ft," File Downloaded"),bt="session_start",mt="session_end",wt="".concat(ft," File Extension"),_t="".concat(ft," File Name"),xt="".concat(ft," Link ID"),kt="".concat(ft," Link Text"),It="".concat(ft," Link URL"),St="".concat(ft," Form ID"),Et="".concat(ft," Form Name"),Ot="".concat(ft," Form Destination"),Tt=function(e,t){return q(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,d,p;return C(this,(function(f){switch(f.label){case 0:return[4,ct(t)];case 1:return n=f.sent(),r=function(e){return"".concat(Q.toLowerCase(),"_").concat(e.substring(0,6))}(e),[4,n.getRaw(r)];case 2:return(i=f.sent())?(null!==(p=t.cookieUpgrade)&&void 0!==p?p:st().cookieUpgrade)?[4,n.remove(r)]:[3,4]:[2,{optOut:!1}];case 3:f.sent(),f.label=4;case 4:return o=M(i.split("."),6),s=o[0],a=o[1],u=o[2],c=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:jt(a),sessionId:Pt(c),lastEventId:Pt(d),lastEventTime:Pt(l),optOut:Boolean(u)}]}}))}))},Pt=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},jt=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},Rt=n(6480),Nt=n.n(Rt),At=function(){var e,t,n,r;if("undefined"==typeof navigator)return"";var i=navigator.userLanguage;return null!==(r=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:i)&&void 0!==r?r:""},Ut=function(){function e(){this.name="context",this.type=re.BEFORE,this.library="amplitude-ts/".concat("1.13.4"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent),this.uaResult=new(Nt())(this.userAgent).getResult()}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return q(this,void 0,void 0,(function(){var r,i,o,s,a,u,c;return C(this,(function(l){return r=(new Date).getTime(),i=this.uaResult.browser.name,o=this.uaResult.browser.version,s=this.uaResult.device.model||this.uaResult.os.name,a=this.uaResult.device.vendor,u=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,c=null!==(n=e.event_id)&&void 0!==n?n:u+1,this.config.lastEventId=c,e.time||(this.config.lastEventTime=r),[2,U(U(U(U(U(U(U(U(U(U(U(U({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.osName&&{os_name:i}),this.config.trackingOptions.osVersion&&{os_version:o}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:a}),this.config.trackingOptions.deviceModel&&{device_model:s}),this.config.trackingOptions.language&&{language:At()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:Ie(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:c,library:this.library,user_agent:this.userAgent})]}))}))},e}(),Lt={page_domain:"".concat(ft," Page Domain"),page_location:"".concat(ft," Page Location"),page_path:"".concat(ft," Page Path"),page_title:"".concat(ft," Page Title"),page_url:"".concat(ft," Page URL")},qt=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:re.ENRICHMENT,setup:function(t,r){return q(void 0,void 0,void 0,(function(){var i;return C(this,(function(o){return r?("undefined"==typeof document||(i=function(e){var t=!1;n(e,"change",(function(){var n;t||r.track(ht,((n={})[St]=e.id,n[Et]=e.name,n[Ot]=e.action,n)),t=!0})),n(e,"submit",(function(){var n,i;t||r.track(ht,((n={})[St]=e.id,n[Et]=e.name,n[Ot]=e.action,n)),r.track(gt,((i={})[St]=e.id,i[Et]=e.name,i[Ot]=e.action,i)),t=!1}))},Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])}))}))},execute:function(e){return q(void 0,void 0,void 0,(function(){return C(this,(function(t){return[2,e]}))}))},teardown:function(){return q(void 0,void 0,void 0,(function(){return C(this,(function(n){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)})),t=[],[2]}))}))}}},Ct=function(e,t){Dt(e,t)},Dt=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.args,s=r.resolve,a=e&&e[i];if("function"==typeof a){var u=a.apply(e,o);"function"==typeof s&&s(null==u?void 0:u.promise)}}return e},Mt=function(e){return e&&void 0!==e._q},Vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.init=function(e,t,n){return void 0===e&&(e=""),le(this._init(U(U({},n),{userId:t,apiKey:e})))},t.prototype._init=function(t){var n,r,i,o,s,a,u,c,l,d,p,f,v,h,g,y,b,m,w,_;return q(this,void 0,void 0,(function(){var x,k,I,S,E,O,T,P,j,R,N,A,D,V,z,F,B,$,K=this;return C(this,(function(G){switch(G.label){case 0:return this.initializing?[2]:(this.initializing=!0,x=t,t.disableCookies?(k="",[3,5]):[3,1]);case 1:return null===(n=t.domain)||void 0===n?[3,2]:(I=n,[3,4]);case 2:return[4,q(void 0,void 0,void 0,(function(){var e,t,n,r,i,o,s;return C(this,(function(a){switch(a.label){case 0:return[4,(new tt).isEnabled()];case 1:if(!a.sent()||"undefined"==typeof location)return[2,""];for(e=location.hostname,t=e.split("."),n=[],r="AMP_TLDTEST",i=t.length-2;i>=0;--i)n.push(t.slice(i).join("."));i=0,a.label=2;case 2:return i<n.length?(o=n[i],[4,(s=new tt({domain:"."+o})).set(r,1)]):[3,7];case 3:return a.sent(),[4,s.get(r)];case 4:return a.sent()?[4,s.remove(r)]:[3,6];case 5:return a.sent(),[2,"."+o];case 6:return i++,[3,2];case 7:return[2,""]}}))}))];case 3:I=G.sent(),G.label=4;case 4:k=I,G.label=5;case 5:return x.domain=k,[4,Tt(t.apiKey,t)];case 6:return S=G.sent(),[4,ct(t)];case 7:return[4,(E=G.sent()).get(W(t.apiKey))];case 8:return O=G.sent(),T=Y(),P=null!==(o=null!==(i=null!==(r=t.deviceId)&&void 0!==r?r:T.deviceId)&&void 0!==i?i:null==O?void 0:O.deviceId)&&void 0!==o?o:S.deviceId,j=null!==(s=null==O?void 0:O.sessionId)&&void 0!==s?s:S.sessionId,R=null!==(u=null!==(a=t.optOut)&&void 0!==a?a:null==O?void 0:O.optOut)&&void 0!==u?u:S.optOut,N=null!==(c=null==O?void 0:O.lastEventId)&&void 0!==c?c:S.lastEventId,A=null!==(l=null==O?void 0:O.lastEventTime)&&void 0!==l?l:S.lastEventTime,D=null!==(p=null!==(d=t.userId)&&void 0!==d?d:null==O?void 0:O.userId)&&void 0!==p?p:S.userId,this.previousSessionDeviceId=null!==(f=null==O?void 0:O.deviceId)&&void 0!==f?f:S.deviceId,this.previousSessionUserId=null!==(v=null==O?void 0:O.userId)&&void 0!==v?v:S.userId,[4,ut(t.apiKey,U(U({},t),{deviceId:P,sessionId:j,optOut:R,lastEventId:N,lastEventTime:A,userId:D,cookieStorage:E}))];case 9:return V=G.sent(),[4,e.prototype._init.call(this,V)];case 10:return G.sent(),z=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId(null!==(g=null!==(h=t.sessionId)&&void 0!==h?h:this.config.sessionId)&&void 0!==g?g:Date.now()),z=!0),(F=ae(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new ke).promise];case 11:return G.sent(),[4,this.add(new Ut).promise];case 12:return G.sent(),[4,this.add(new ce).promise];case 13:return G.sent(),("boolean"==typeof(J=this.config.defaultTracking)?J:null==J?void 0:J.fileDownloads)?[4,this.add((Z=[],{name:"@amplitude/plugin-file-download-tracking-browser",type:re.ENRICHMENT,setup:function(e,t){return q(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(i){return t?("undefined"==typeof document||(n=function(e){var n;try{n=new URL(e.href,window.location.href)}catch(e){return}var i,o,s,a=r.exec(n.href),u=null==a?void 0:a[1];u&&(o="click",s=function(){var r;u&&t.track(yt,((r={})[wt]=u,r[_t]=n.pathname,r[xt]=e.id,r[kt]=e.text,r[It]=e.href,r))},(i=e).addEventListener(o,s),Z.push({element:i,type:o,handler:s}))},r=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(n),"undefined"!=typeof MutationObserver&&(H=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"A"===e.nodeName&&n(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(n)}))}))}))).observe(document.body,{subtree:!0,childList:!0})),[2]):(e.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])}))}))},execute:function(e){return q(void 0,void 0,void 0,(function(){return C(this,(function(t){return[2,e]}))}))},teardown:function(){return q(void 0,void 0,void 0,(function(){return C(this,(function(e){return null==H||H.disconnect(),Z.forEach((function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)})),Z=[],[2]}))}))}})).promise]:[3,15];case 14:G.sent(),G.label=15;case 15:return function(e){return"boolean"==typeof e?e:!!(null==e?void 0:e.formInteractions)}(this.config.defaultTracking)?[4,this.add(qt()).promise]:[3,17];case 16:G.sent(),G.label=17;case 17:return(null===(y=this.config.attribution)||void 0===y?void 0:y.disabled)?[3,19]:((B=function(){for(var e,t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={},s=M(r,2),a=s[0],u=s[1];a&&"init"in a?(t=a,u&&(o=u)):a&&(o=a);var c=null!==(e=o.excludeReferrers)&&void 0!==e?e:[];"undefined"!=typeof location&&c.unshift(location.hostname),o=U(U({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},o),{excludeReferrers:c});var l={name:"web-attribution",type:re.BEFORE,setup:function(e,n){var r;return q(this,void 0,void 0,(function(){var i,s,u,c,l,d,p,f;return C(this,(function(v){switch(v.label){case 0:return(t=null!=t?t:n)?o.disabled?(e.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(e.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),n||(null===(r=e.attribution)||void 0===r?void 0:r.disabled)||(e.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),e.attribution={disabled:!0}),s=e.cookieStorage,h=e.apiKey,void 0===(g="MKTG")&&(g=""),void 0===y&&(y=10),u=[Q,g,h.substring(0,y)].filter(Boolean).join("_"),[4,Promise.all([(new Qe).parse(),s.get(u)])]):(i=a?"Options":"undefined",e.loggerProvider.error("Argument of type '".concat(i,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return c=M.apply(void 0,[v.sent(),2]),l=c[0],d=c[1],(null!=(p=this.__pluginEnabledOverride)?p:function(e,t,n){e.referrer;var r,i=e.referring_domain,o=L(e,["referrer","referring_domain"]),s=t||{},a=(s.referrer,s.referring_domain),u=L(s,["referrer","referring_domain"]);if(e.referring_domain&&(null===(r=n.excludeReferrers)||void 0===r?void 0:r.includes(e.referring_domain)))return!1;var c=JSON.stringify(o)!==JSON.stringify(u),l=Ze(i||"")!==Ze(a||"");return!t||c||l}(l,d,o))&&(o.resetSessionOnNewCampaign&&(t.setSessionId(Date.now()),e.loggerProvider.log("Created a new session for new campaign.")),e.loggerProvider.log("Tracking attribution."),f=function(e,t){var n=U(U({},$e),e),r=Object.entries(n).reduce((function(e,n){var r,i=M(n,2),o=i[0],s=i[1];return e.setOnce("initial_".concat(o),null!==(r=null!=s?s:t.initialEmptyValue)&&void 0!==r?r:"EMPTY"),s?e.set(o,s):e.unset(o)}),new Te);return je(r)}(l,o),t.track(f),s.set(u,l)),[2]}var h,g,y}))}))},execute:function(e){return q(n,void 0,void 0,(function(){return C(this,(function(t){return[2,e]}))}))},__pluginEnabledOverride:void 0};return l}({excludeReferrers:null===(b=this.config.attribution)||void 0===b?void 0:b.excludeReferrers,initialEmptyValue:null===(m=this.config.attribution)||void 0===m?void 0:m.initialEmptyValue,resetSessionOnNewCampaign:null===(w=this.config.attribution)||void 0===w?void 0:w.resetSessionOnNewCampaign})).__pluginEnabledOverride=!(!z&&!(null===(_=this.config.attribution)||void 0===_?void 0:_.trackNewCampaigns))&&void 0,[4,this.add(B).promise]);case 18:G.sent(),G.label=19;case 19:return $=function(e){var t,n,r=(null===(t=e.attribution)||void 0===t?void 0:t.trackPageViews)?"attribution":function(){return!1},i=void 0,o="Page View";return("boolean"==typeof(n=e.defaultTracking)?n:!!(!0===(null==n?void 0:n.pageViews)||(null==n?void 0:n.pageViews)&&"object"==typeof n.pageViews))&&(r=void 0,o=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(o=e.defaultTracking.pageViews.eventType))),{trackOn:r,trackHistoryChanges:i,eventType:o}}(this.config),$.eventType=$.eventType||vt,[4,this.add(Ge($)).promise];case 20:return G.sent(),[4,this.add({name:"@amplitude/plugin-default-page-view-event-enrichment-browser",type:re.ENRICHMENT,setup:function(){return q(void 0,void 0,void 0,(function(){return C(this,(function(e){return[2,void 0]}))}))},execute:function(e){return q(void 0,void 0,void 0,(function(){return C(this,(function(t){return e.event_type===vt&&e.event_properties&&(e.event_properties=Object.entries(e.event_properties).reduce((function(e,t){var n=M(t,2),r=n[0],i=n[1],o=Lt[r];return o?e[o]=i:e[r]=i,e}),{})),[2,e]}))}))}}).promise];case 21:return G.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return G.sent(),F.eventBridge.setEventReceiver((function(e){K.track(e.eventType,e.eventProperties)})),[2]}var H,Z,J}))}))},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){this.config?e===this.config.userId&&void 0!==e||(this.config.userId=e,function(e,t){ae(t).identityStore.editIdentity().setUserId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setUserId.bind(this,e))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){this.config?(this.config.deviceId=e,function(e,t){ae(t).identityStore.editIdentity().setDeviceId(e).commit()}(e,this.config.instanceName)):this.q.push(this.setDeviceId.bind(this,e))},t.prototype.setOptOut=function(t){!function(e,t){ae(t).identityStore.editIdentity().setOptOut(e).commit()}(t,this.config.instanceName),e.prototype.setOptOut.call(this,t)},t.prototype.reset=function(){this.setDeviceId(Ie()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t;if(this.config){if(e!==this.config.sessionId){var n,r=this.getSessionId(),i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,("boolean"==typeof(n=this.config.defaultTracking)?n:null==n?void 0:n.sessions)&&(r&&i&&this.track(mt,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:r,time:i+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(bt,void 0,{event_id:++o,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}}else this.q.push(this.setSessionId.bind(this,e))},t.prototype.extendSession=function(){this.config?this.config.lastEventTime=Date.now():this.q.push(this.extendSession.bind(this))},t.prototype.setTransport=function(e){this.config?this.config.transportProvider=pt(e):this.q.push(this.setTransport.bind(this,e))},t.prototype.identify=function(t,n){if(Mt(t)){var r=t._q;t._q=[],t=Dt(new Te,r)}return(null==n?void 0:n.user_id)&&this.setUserId(n.user_id),(null==n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,r,i){if(Mt(r)){var o=r._q;r._q=[],r=Dt(new Te,o)}return e.prototype.groupIdentify.call(this,t,n,r,i)},t.prototype.revenue=function(t,n){if(Mt(t)){var r=t._q;t._q=[],t=Dt(new Pe,r)}return e.prototype.revenue.call(this,t,n)},t.prototype.process=function(t){return q(this,void 0,void 0,(function(){var n,r,i;return C(this,(function(o){return n=Date.now(),r=this.config.lastEventTime||Date.now(),i=n-r,t.event_type!==bt&&t.event_type!==mt&&(!t.session_id||t.session_id===this.getSessionId())&&i>this.config.sessionTimeout&&this.setSessionId(n),[2,e.prototype.process.call(this,t)]}))}))},t}(Ne),zt=function(){var e=new Vt;return{init:$(e.init.bind(e),"init",z(e),B(e,["config"])),add:$(e.add.bind(e),"add",z(e),B(e,["config.apiKey","timeline.plugins"])),remove:$(e.remove.bind(e),"remove",z(e),B(e,["config.apiKey","timeline.plugins"])),track:$(e.track.bind(e),"track",z(e),B(e,["config.apiKey","timeline.queue.length"])),logEvent:$(e.logEvent.bind(e),"logEvent",z(e),B(e,["config.apiKey","timeline.queue.length"])),identify:$(e.identify.bind(e),"identify",z(e),B(e,["config.apiKey","timeline.queue.length"])),groupIdentify:$(e.groupIdentify.bind(e),"groupIdentify",z(e),B(e,["config.apiKey","timeline.queue.length"])),setGroup:$(e.setGroup.bind(e),"setGroup",z(e),B(e,["config.apiKey","timeline.queue.length"])),revenue:$(e.revenue.bind(e),"revenue",z(e),B(e,["config.apiKey","timeline.queue.length"])),flush:$(e.flush.bind(e),"flush",z(e),B(e,["config.apiKey","timeline.queue.length"])),getUserId:$(e.getUserId.bind(e),"getUserId",z(e),B(e,["config","config.userId"])),setUserId:$(e.setUserId.bind(e),"setUserId",z(e),B(e,["config","config.userId"])),getDeviceId:$(e.getDeviceId.bind(e),"getDeviceId",z(e),B(e,["config","config.deviceId"])),setDeviceId:$(e.setDeviceId.bind(e),"setDeviceId",z(e),B(e,["config","config.deviceId"])),reset:$(e.reset.bind(e),"reset",z(e),B(e,["config","config.userId","config.deviceId"])),getSessionId:$(e.getSessionId.bind(e),"getSessionId",z(e),B(e,["config"])),setSessionId:$(e.setSessionId.bind(e),"setSessionId",z(e),B(e,["config"])),extendSession:$(e.extendSession.bind(e),"extendSession",z(e),B(e,["config"])),setOptOut:$(e.setOptOut.bind(e),"setOptOut",z(e),B(e,["config"])),setTransport:$(e.setTransport.bind(e),"setTransport",z(e),B(e,["config"]))}};const Ft=zt();var Bt=Ft.add,$t=Ft.extendSession,Qt=Ft.flush,Kt=Ft.getDeviceId,Gt=Ft.getSessionId,Wt=Ft.getUserId,Ht=Ft.groupIdentify,Yt=Ft.identify,Zt=Ft.init,Jt=Ft.logEvent,Xt=Ft.remove,en=Ft.reset,tn=Ft.revenue,nn=Ft.setDeviceId,rn=Ft.setGroup,on=Ft.setOptOut,sn=Ft.setSessionId,an=Ft.setTransport,un=Ft.setUserId,cn=Ft.track;m.debug("background.js run, date: ",Date()),s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=d.amp.key,e.t2=void 0,e.next=5,j();case 5:e.t3=e.sent,e.t4={deviceId:e.t3},e.t0.init.call(e.t0,e.t1,e.t2,e.t4);case 8:case"end":return e.stop()}}),e)})))();var ln=function(){var e=s(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.debug("background.js - chrome.runtime.onInstalled fired, event:",t),m.debug("version pre: "+t.previousVersion),m.debug("version now: "+chrome.runtime.getManifest().version),m.debug("cfg: ",d),e.next=6,dn(d,t.reason);case 6:e.t0=t.reason,e.next="install"===e.t0?9:"update"===e.t0?12:"chrome_update"===e.t0?15:18;break;case 9:return e.next=11,pn();case 11:case 14:case 17:return e.abrupt("break",20);case 12:return e.next=14,fn();case 15:return e.next=17,vn();case 18:return e.next=20,hn();case 20:return e.next=22,gn(t.reason,t.previousVersion,chrome.runtime.getManifest().version);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=function(){var e=s(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("cfg",t);case 2:chrome.runtime.setUninstallURL("https://docs.google.com/forms/d/e/1FAIpQLSf--k6Nbx7HXv8oeNstaAYY_AO0YYYAkAPsrUYyWLdTuXtTlw/viewform"),chrome.storage.session.setAccessLevel({accessLevel:"TRUSTED_AND_UNTRUSTED_CONTEXTS"});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pn=function(){var e=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.tabs.create({url:"https://chat.openai.com/chat"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vn=function(){var e=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hn=function(){var e=s(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=s(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cn("Background OnInstall",{reason:t,prever:n,nowver:r});case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),yn=function(){var e=s(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.debug("in handleRuntimeOnMessageExternal, req:",t),m.debug("in handleRuntimeOnMessageExternal, sender:",n),cn("Background Runtime MessageExternal",{status:"begin",cmd:t.cmd,req:t}),i=null,"from_web_account_update"!==t.cmd){e.next=16;break}if(!t.account_info){e.next=11;break}return e.next=8,P("account_info",t.account_info);case 8:i={errcode:0,errmsg:"save account_info succ"},e.next=13;break;case 11:m.error("req.account_info invalid"),i={errcode:-1,errmsg:"account_info invalid"};case 13:r(i),e.next=19;break;case 16:m.error("wrong req.msg"),r(i={errcode:-1,errmsg:"wrong req.msg"});case 19:m.debug("rsp:",i),cn("Background Runtime MessageExternal",{status:"end",cmd:t.cmd,rsp:i});case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();chrome.runtime.onInstalled.addListener(ln),chrome.storage.onChanged.addListener((function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=i(r[n],2),s=o[0],a=o[1],u=a.oldValue,c=a.newValue;m.debug('"'.concat(s,'" in "').concat(t,'" changed from "').concat(u,'" to "').concat(c,'".')),cn("Background Storage Change",{namespace:t,key:s,oldValue:u,newValue:c})}})),chrome.runtime.onMessage.addListener((function(e,t,n){m.debug("in handleRuntimeOnMessage, req:",e),m.debug("in handleRuntimeOnMessage, sender:",t),cn("Background Runtime Message",{status:"begin",cmd:e.cmd,req:e});var r=null;"create_exportimg_page"===e.cmd?(chrome.tabs.create({url:"exportimg.html"}),n({errcode:0,errmsg:"create exportimg page success"})):(m.error("wrong req.msg"),n(r={errcode:-1,errmsg:"wrong req.msg"})),m.debug("rsp:",r)})),chrome.runtime.onMessageExternal.addListener(yn)})()})();