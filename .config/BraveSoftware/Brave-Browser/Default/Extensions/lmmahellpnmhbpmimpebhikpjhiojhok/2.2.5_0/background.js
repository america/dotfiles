(()=>{var e={7054:(e,n,t)=>{"use strict";t.d(n,{A:()=>qn});var r=Object.keys,o=Array.isArray,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:t.g;function s(e,n){return"object"!=typeof n||r(n).forEach((function(t){e[t]=n[t]})),e}var a=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,n){return u.call(e,n)}function l(e,n){"function"==typeof n&&(n=n(a(e))),r(n).forEach((function(t){h(e,t,n[t])}))}var f=Object.defineProperty;function h(e,n,t,r){f(e,n,s(t&&c(t,"get")&&"function"==typeof t.get?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function d(e){return{from:function(n){return e.prototype=Object.create(n.prototype),h(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;function v(e,n){var t;return p(e,n)||(t=a(e))&&v(t,n)}var g=[].slice;function m(e,n,t){return g.call(e,n,t)}function y(e,n){return n(e)}function w(e){if(!e)throw new Error("Assertion Failed")}function b(e){i.setImmediate?setImmediate(e):setTimeout(e,0)}function k(e,n){return e.reduce((function(e,t,r){var o=n(t,r);return o&&(e[o[0]]=o[1]),e}),{})}function _(e,n){return function(){try{e.apply(this,arguments)}catch(e){n(e)}}}function x(e,n,t){try{e.apply(null,t)}catch(e){n&&n(e)}}function j(e,n){if(c(e,n))return e[n];if(!n)return e;if("string"!=typeof n){for(var t=[],r=0,o=n.length;r<o;++r){var i=j(e,n[r]);t.push(i)}return t}var s=n.indexOf(".");if(-1!==s){var a=e[n.substr(0,s)];return void 0===a?void 0:j(a,n.substr(s+1))}}function P(e,n,t){if(e&&void 0!==n&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof n&&"length"in n){w("string"!=typeof t&&"length"in t);for(var r=0,o=n.length;r<o;++r)P(e,n[r],t[r])}else{var i=n.indexOf(".");if(-1!==i){var s=n.substr(0,i),a=n.substr(i+1);if(""===a)void 0===t?delete e[s]:e[s]=t;else{var u=e[s];u||(u=e[s]={}),P(u,a,t)}}else void 0===t?delete e[n]:e[n]=t}}function A(e){var n={};for(var t in e)c(e,t)&&(n[t]=e[t]);return n}var S=[].concat;function E(e){return S.apply([],e)}var O="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(E([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(n){return n+e+"Array"}))})))).filter((function(e){return i[e]})).map((function(e){return i[e]}));function C(e){if(!e||"object"!=typeof e)return e;var n;if(o(e)){n=[];for(var t=0,r=e.length;t<r;++t)n.push(C(e[t]))}else if(O.indexOf(e.constructor)>=0)n=e;else for(var i in n=e.constructor?Object.create(e.constructor.prototype):{},e)c(e,i)&&(n[i]=C(e[i]));return n}function D(e,n,t,o){return t=t||{},o=o||"",r(e).forEach((function(r){if(c(n,r)){var i=e[r],s=n[r];"object"==typeof i&&"object"==typeof s&&i&&s&&""+i.constructor==""+s.constructor?D(i,s,t,o+r+"."):i!==s&&(t[o+r]=n[r])}else t[o+r]=void 0})),r(n).forEach((function(r){c(e,r)||(t[o+r]=n[r])})),t}var I="undefined"!=typeof Symbol&&Symbol.iterator,T=I?function(e){var n;return null!=e&&(n=e[I])&&n.apply(e)}:function(){return null},K={};function F(e){var n,t,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===K&&"string"==typeof e)return[e];if(i=T(e)){for(t=[];!(r=i.next()).done;)t.push(r.value);return t}if(null==e)return[e];if("number"==typeof(n=e.length)){for(t=new Array(n);n--;)t[n]=e[n];return t}return[e]}for(n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return t}var B="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function M(e,n){B=e,N=n}var N=function(){return!0},R=!new Error("").stack;function q(){if(R)try{throw q.arguments,new Error}catch(e){return e}return new Error}function W(e,n){var t=e.stack;return t?(n=n||0,0===t.indexOf(e.name)&&(n+=(e.name+e.message).split("\n").length),t.split("\n").slice(n).filter(N).map((function(e){return"\n"+e})).join("")):""}var L=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],z=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(L),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function V(e,n){this._e=q(),this.name=e,this.message=n}function H(e,n,t,r){this._e=q(),this.failures=n,this.failedKeys=r,this.successCount=t}function Q(e,n){this._e=q(),this.name="BulkError",this.failures=n,this.message=function(e,n){return e+". Errors: "+n.map((function(e){return e.toString()})).filter((function(e,n,t){return t.indexOf(e)===n})).join("\n")}(e,n)}d(V).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+W(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(H).from(V),d(Q).from(V);var G=z.reduce((function(e,n){return e[n]=n+"Error",e}),{}),J=V,$=z.reduce((function(e,n){var t=n+"Error";function r(e,r){this._e=q(),this.name=t,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=U[n]||t,this.inner=null)}return d(r).from(J),e[n]=r,e}),{});$.Syntax=SyntaxError,$.Type=TypeError,$.Range=RangeError;var Y=L.reduce((function(e,n){return e[n+"Error"]=$[n],e}),{});var X=z.reduce((function(e,n){return-1===["Syntax","Type","Range"].indexOf(n)&&(e[n+"Error"]=$[n]),e}),{});function Z(){}function ee(e){return e}function ne(e,n){return null==e||e===ee?n:function(t){return n(e(t))}}function te(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function re(e,n){return e===Z?n:function(){var t=e.apply(this,arguments);void 0!==t&&(arguments[0]=t);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0!==i?i:t}}function oe(e,n){return e===Z?n:function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?te(t,this.onsuccess):t),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function ie(e,n){return e===Z?n:function(t){var r=e.apply(this,arguments);s(t,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?te(o,this.onsuccess):o),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0===r?void 0===a?void 0:a:s(r,a)}}function se(e,n){return e===Z?n:function(){return!1!==n.apply(this,arguments)&&e.apply(this,arguments)}}function ae(e,n){return e===Z?n:function(){var t=e.apply(this,arguments);if(t&&"function"==typeof t.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return t.then((function(){return n.apply(r,i)}))}return n.apply(this,arguments)}}X.ModifyError=H,X.DexieError=V,X.BulkError=Q;var ue={},ce=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(n){var e=i.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),le=ce[0],fe=ce[1],he=ce[2],de=fe&&fe.then,pe=le&&le.constructor,ve=ce[3],ge=!!he,me=!1,ye=he?function(){he.then(We)}:i.setImmediate?setImmediate.bind(null,We):i.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){We(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(We,0)},we=function(e,n){Ee.push([e,n]),ke&&(ye(),ke=!1)},be=!0,ke=!0,_e=[],xe=[],je=null,Pe=ee,Ae={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:hn,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{hn(e[0],e[1])}catch(e){}}))}},Se=Ae,Ee=[],Oe=0,Ce=[];function De(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Z,this._lib=!1;var n=this._PSD=Se;if(B&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ue)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Fe(this,this._value))}this._state=null,this._value=null,++n.ref,Ke(this,e)}var Ie={get:function(){var e=Se,n=Ye;function t(t,r){var o=this,i=!e.global&&(e!==Se||n!==Ye);i&&nn();var s=new De((function(n,s){Me(o,new Te(cn(t,e,i),cn(r,e,i),n,s,e))}));return B&&qe(s,this),s}return t.prototype=ue,t},set:function(e){h(this,"then",e&&e.prototype===ue?Ie:{get:function(){return e},set:Ie.set})}};function Te(e,n,t,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.resolve=t,this.reject=r,this.psd=o}function Ke(e,n){try{n((function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var t=e._lib&&Le();n&&"function"==typeof n.then?Ke(e,(function(e,t){n instanceof De?n._then(e,t):n.then(e,t)})):(e._state=!0,e._value=n,Be(e)),t&&ze()}}),Fe.bind(null,e))}catch(n){Fe(e,n)}}function Fe(e,n){if(xe.push(n),null===e._state){var t=e._lib&&Le();n=Pe(n),e._state=!1,e._value=n,B&&null!==n&&"object"==typeof n&&!n._promise&&x((function(){var t=v(n,"stack");n._promise=e,h(n,"stack",{get:function(){return me?t&&(t.get?t.get.apply(n):t.value):e.stack}})})),function(e){_e.some((function(n){return n._value===e._value}))||_e.push(e)}(e),Be(e),t&&ze()}}function Be(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t)Me(e,n[t]);var o=e._PSD;--o.ref||o.finalize(),0===Oe&&(++Oe,we((function(){0==--Oe&&Ue()}),[]))}function Me(e,n){if(null!==e._state){var t=e._state?n.onFulfilled:n.onRejected;if(null===t)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++Oe,we(Ne,[t,e,n])}else e._listeners.push(n)}function Ne(e,n,t){try{je=n;var r,o=n._value;n._state?r=e(o):(xe.length&&(xe=[]),r=e(o),-1===xe.indexOf(o)&&function(e){var n=_e.length;for(;n;)if(_e[--n]._value===e._value)return void _e.splice(n,1)}(n)),t.resolve(r)}catch(e){t.reject(e)}finally{je=null,0==--Oe&&Ue(),--t.psd.ref||t.psd.finalize()}}function Re(e,n,t){if(n.length===t)return n;var r="";if(!1===e._state){var o,i,s=e._value;null!=s?(o=s.name||"Error",i=s.message||s,r=W(s,0)):(o=s,i=""),n.push(o+(i?": "+i:"")+r)}return B&&((r=W(e._stackHolder,2))&&-1===n.indexOf(r)&&n.push(r),e._prev&&Re(e._prev,n,t)),n}function qe(e,n){var t=n?n._numPrev+1:0;t<100&&(e._prev=n,e._numPrev=t)}function We(){Le()&&ze()}function Le(){var e=be;return be=!1,ke=!1,e}function ze(){var e,n,t;do{for(;Ee.length>0;)for(e=Ee,Ee=[],t=e.length,n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}}while(Ee.length>0);be=!0,ke=!0}function Ue(){var e=_e;_e=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var n=Ce.slice(0),t=n.length;t;)n[--t]()}function Ve(e){return new De(ue,!1,e)}function He(e,n){var t=Se;return function(){var r=Le(),o=Se;try{return sn(t,!0),e.apply(this,arguments)}catch(e){n&&n(e)}finally{sn(o,!1),r&&ze()}}}l(De.prototype,{then:Ie,_then:function(e,n){Me(this,new Te(null,null,e,n,Se))},catch:function(e){if(1===arguments.length)return this.then(null,e);var n=arguments[0],t=arguments[1];return"function"==typeof n?this.then(null,(function(e){return e instanceof n?t(e):Ve(e)})):this.then(null,(function(e){return e&&e.name===n?t(e):Ve(e)}))},finally:function(e){return this.then((function(n){return e(),n}),(function(n){return e(),Ve(n)}))},stack:{get:function(){if(this._stack)return this._stack;try{me=!0;var e=Re(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{me=!1}}},timeout:function(e,n){var t=this;return e<1/0?new De((function(r,o){var i=setTimeout((function(){return o(new $.Timeout(n))}),e);t.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(De.prototype,Symbol.toStringTag,"Promise"),Ae.env=an(),l(De,{all:function(){var e=F.apply(null,arguments).map(tn);return new De((function(n,t){0===e.length&&n([]);var r=e.length;e.forEach((function(o,i){return De.resolve(o).then((function(t){e[i]=t,--r||n(e)}),t)}))}))},resolve:function(e){if(e instanceof De)return e;if(e&&"function"==typeof e.then)return new De((function(n,t){e.then(n,t)}));var n=new De(ue,!0,e);return qe(n,je),n},reject:Ve,race:function(){var e=F.apply(null,arguments).map(tn);return new De((function(n,t){e.map((function(e){return De.resolve(e).then(n,t)}))}))},PSD:{get:function(){return Se},set:function(e){return Se=e}},newPSD:Ze,usePSD:un,scheduler:{get:function(){return we},set:function(e){we=e}},rejectionMapper:{get:function(){return Pe},set:function(e){Pe=e}},follow:function(e,n){return new De((function(t,r){return Ze((function(n,t){var r=Se;r.unhandleds=[],r.onunhandled=t,r.finalize=te((function(){var e=this;!function(e){function n(){e(),Ce.splice(Ce.indexOf(n),1)}Ce.push(n),++Oe,we((function(){0==--Oe&&Ue()}),[])}((function(){0===e.unhandleds.length?n():t(e.unhandleds[0])}))}),r.finalize),e()}),n,t,r)}))}});var Qe={awaits:0,echoes:0,id:0},Ge=0,Je=[],$e=0,Ye=0,Xe=0;function Ze(e,n,t,r){var o=Se,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Xe;var a=Ae.env;i.env=ge?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,resolve:De.resolve,reject:De.reject,nthen:ln(a.nthen,i),gthen:ln(a.gthen,i)}:{},n&&s(i,n),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=un(i,e,t,r);return 0===i.ref&&i.finalize(),u}function en(){return Qe.id||(Qe.id=++Ge),++Qe.awaits,Qe.echoes+=7,Qe.id}function nn(e){!Qe.awaits||e&&e!==Qe.id||(0==--Qe.awaits&&(Qe.id=0),Qe.echoes=7*Qe.awaits)}function tn(e){return Qe.echoes&&e&&e.constructor===pe?(en(),e.then((function(e){return nn(),e}),(function(e){return nn(),dn(e)}))):e}function rn(e){++Ye,Qe.echoes&&0!=--Qe.echoes||(Qe.echoes=Qe.id=0),Je.push(Se),sn(e,!0)}function on(){var e=Je[Je.length-1];Je.pop(),sn(e,!1)}function sn(e,n){var t,r=Se;if((n?!Qe.echoes||$e++&&e===Se:!$e||--$e&&e===Se)||(t=n?rn.bind(null,e):on,de.call(le,t)),e!==Se&&(Se=e,r===Ae&&(Ae.env=an()),ge)){var o=Ae.env.Promise,s=e.env;fe.then=s.nthen,o.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(i,"Promise",s.PromiseProp),o.all=s.all,o.race=s.race,o.resolve=s.resolve,o.reject=s.reject)}}function an(){var e=i.Promise;return ge?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:fe.then,gthen:e.prototype.then}:{}}function un(e,n,t,r,o){var i=Se;try{return sn(e,!0),n(t,r,o)}finally{sn(i,!1)}}function cn(e,n,t){return"function"!=typeof e?e:function(){var r=Se;t&&en(),sn(n,!0);try{return e.apply(this,arguments)}finally{sn(r,!1)}}}function ln(e,n){return function(t,r){return e.call(this,cn(t,n,!1),cn(r,n,!1))}}var fn="unhandledrejection";function hn(e,n){var t;try{t=n.onuncatched(e)}catch(e){}if(!1!==t)try{var r,o={promise:n,reason:e};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(fn,!0,!0),s(r,o)):i.CustomEvent&&s(r=new CustomEvent(fn,{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var dn=De.reject;function pn(e){var n={},t=function(t,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return n[t].subscribe.apply(null,i),e}if("string"==typeof t)return n[t]};t.addEventType=a;for(var i=1,s=arguments.length;i<s;++i)a(arguments[i]);return t;function a(e,i,s){if("object"!=typeof e){var u;i||(i=se),s||(s=Z);var c={subscribers:[],fire:s,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=i(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter((function(n){return n!==e})),c.fire=c.subscribers.reduce(i,s)}};return n[e]=t[e]=c,c}r(u=e).forEach((function(e){var n=u[e];if(o(n))a(e,u[e][0],u[e][1]);else{if("asap"!==n)throw new $.InvalidArgument("Invalid event config");var t=a(e,ee,(function(){for(var e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];t.subscribers.forEach((function(e){b((function(){e.apply(null,n)}))}))}))}}))}}var vn,gn="{version}",mn=String.fromCharCode(65535),yn=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return mn}}(),wn=-1/0,bn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",kn="String expected.",_n=[],xn="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),jn=xn,Pn=xn,An=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function Sn(e,n){var t,a,u,f,d,p=Sn.dependencies,v=s({addons:Sn.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},n),g=v.addons,b=v.autoOpen,S=v.indexedDB,O=v.IDBKeyRange,I=this._dbSchema={},T=[],M=[],N={},R=null,L=null,z=!1,U=null,V=!1,G="readonly",J="readwrite",Y=this,X=new De((function(e){t=e})),te=new De((function(e,n){a=n})),se=!0,ue=!!Rn(S);function ce(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function le(e,n,t){var o=Y._createTransaction(J,M,I);o.create(n),o._completion.catch(t);var i=o._reject.bind(o);Ze((function(){Se.trans=o,0===e?(r(I).forEach((function(e){fe(n,e,I[e].primKey,I[e].indexes)})),De.follow((function(){return Y.on.populate.fire(o)})).catch(i)):function(e,n,t){var o=[],i=T.filter((function(n){return n._cfg.version===e}))[0];if(!i)throw new $.Upgrade("Dexie specification of currently installed DB version is missing");I=Y._dbSchema=i._cfg.dbschema;var s=!1,a=T.filter((function(n){return n._cfg.version>e}));function u(){return o.length?De.resolve(o.shift()(n.idbtrans)).then(u):De.resolve()}return a.forEach((function(e){o.push((function(){var r=I,o=e._cfg.dbschema;Be(r,t),Be(o,t),I=Y._dbSchema=o;var i=function(e,n){var t={del:[],add:[],change:[]};for(var r in e)n[r]||t.del.push(r);for(r in n){var o=e[r],i=n[r];if(o){var s={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)s.recreate=!0,t.change.push(s);else{var a=o.idxByName,u=i.idxByName;for(var c in a)u[c]||s.del.push(c);for(c in u){var l=a[c],f=u[c];l?l.src!==f.src&&s.change.push(f):s.add.push(f)}(s.del.length>0||s.add.length>0||s.change.length>0)&&t.change.push(s)}}else t.add.push([r,i])}return t}(r,o);if(i.add.forEach((function(e){fe(t,e[0],e[1].primKey,e[1].indexes)})),i.change.forEach((function(e){if(e.recreate)throw new $.Upgrade("Not yet support for changing primary key");var n=t.objectStore(e.name);e.add.forEach((function(e){he(n,e)})),e.change.forEach((function(e){n.deleteIndex(e.name),he(n,e)})),e.del.forEach((function(e){n.deleteIndex(e)}))})),e._cfg.contentUpgrade)return s=!0,De.follow((function(){e._cfg.contentUpgrade(n)}))})),o.push((function(n){s&&jn||function(e,n){for(var t=0;t<n.db.objectStoreNames.length;++t){var r=n.db.objectStoreNames[t];null==e[r]&&n.db.deleteObjectStore(r)}}(e._cfg.dbschema,n)}))})),u().then((function(){!function(e,n){r(e).forEach((function(t){n.db.objectStoreNames.contains(t)||fe(n,t,e[t].primKey,e[t].indexes)}))}(I,t)}))}(e,o,n).catch(i)}))}function fe(e,n,t,r){var o=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach((function(e){he(o,e)})),o}function he(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function de(e,n,t){if(V||Se.letThrough){var r=Y._createTransaction(e,n,I);try{r.create()}catch(e){return dn(e)}return r._promise(e,(function(e,n){return Ze((function(){return Se.trans=r,t(e,n,r)}))})).then((function(e){return r._completion.then((function(){return e}))}))}if(!z){if(!b)return dn(new $.DatabaseClosed);Y.open().catch(Z)}return X.then((function(){return de(e,n,t)}))}function ge(e,n,t){var r=arguments.length;if(r<2)throw new $.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return t=o.pop(),[e,E(o),t]}function me(e,n,t){this.name=e,this.schema=n,this._tx=t,this.hook=N[e]?N[e].hook:pn(null,{creating:[re,Z],reading:[ne,ee],updating:[ie,Z],deleting:[oe,Z]})}function ye(e,n,t){return(t?Tn:Dn)((function(t){e.push(t),n&&n()}))}function we(e,n,t,r,o){return new De((function(i,s){var a=t.length,u=a-1;if(0===a)return i();if(r){var c,l=Tn(s),f=Cn(null);x((function(){for(var r=0;r<a;++r){c={onsuccess:null,onerror:null};var s=t[r];o.call(c,s[0],s[1],n);var h=e.delete(s[0]);h._hookCtx=c,h.onerror=l,h.onsuccess=r===u?Cn(i):f}}),(function(e){throw c.onerror&&c.onerror(e),e}))}else for(var h=0;h<a;++h){var d=e.delete(t[h]);d.onerror=Dn(s),h===u&&(d.onsuccess=He((function(){return i()})))}}))}function be(e,n,t,r){var o=this;this.db=Y,this.mode=e,this.storeNames=n,this.idbtrans=null,this.on=pn(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De((function(e,n){o._resolve=e,o._reject=n})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var n=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):n&&o.idbtrans&&o.idbtrans.abort(),dn(e)}))}function ke(e,n,t){this._ctx={table:e,index:":id"===n?null:n,or:t}}function _e(e,n){var t=null,r=null;if(n)try{t=n()}catch(e){r=e}var o=e._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:t,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function xe(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function je(e,n){return e._cfg.version-n._cfg.version}function Pe(e,n,t){n.forEach((function(n){var r=t[n];e.forEach((function(e){n in e||(e===be.prototype||e instanceof be?h(e,n,{get:function(){return this.table(n)}}):e[n]=new me(n,r))}))}))}function Ae(e,n,t,r,o,i){var s=He(i?function(e,n,r){return t(i(e),n,r)}:t,o);e.onerror||(e.onerror=Dn(o)),e.onsuccess=_(n?function(){var t=e.result;if(t){var i=function(){t.continue()};n(t,(function(e){i=e}),r,o)&&s(t.value,t,(function(e){i=e})),i()}else r()}:function(){var n=e.result;if(n){var t=function(){n.continue()};s(n.value,n,(function(e){t=e})),t()}else r()},o)}function Ee(e,n){return S.cmp(e,n)}function Oe(e,n){return Ee(e,n)>0?e:n}function Ce(e,n){return S.cmp(e,n)}function Ie(e,n){return S.cmp(n,e)}function Te(e,n){return e<n?-1:e===n?0:1}function Ke(e,n){return e>n?-1:e===n?0:1}function Fe(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}function Be(e,n){for(var t=n.db.objectStoreNames,r=0;r<t.length;++r){var o=t[r],s=n.objectStore(o);u="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var c=s.indexNames[a],l=s.index(c).keyPath,f="string"==typeof l?l:"["+m(l).join("+")+"]";if(e[o]){var h=e[o].idxByName[f];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u=!1)}function Me(e){Y.on("blocked").fire(e),_n.filter((function(e){return e.name===Y.name&&e!==Y&&!e._vcFired})).map((function(n){return n.on("versionchange").fire(e)}))}this.version=function(e){if(R||z)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=T.filter((function(n){return n._cfg.version===e}))[0];return n||(n=new ce(e),T.push(n),T.sort(je),se=!1,n)},s(ce.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;var n={};T.forEach((function(e){s(n,e._cfg.storesSource)}));var t=this._cfg.dbschema={};return this._parseStoresSpec(n,t),I=Y._dbSchema=t,[N,Y,be.prototype].forEach((function(e){for(var n in e)e[n]instanceof me&&delete e[n]})),Pe([N,Y,be.prototype,this._cfg.tables],r(t),t),M=r(t),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,n){r(e).forEach((function(t){if(null!==e[t]){var r={},i=function(e){var n=[];return e.split(",").forEach((function(e){var t=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(t)?t.match(/^\[(.*)\]$/)[1].split("+"):t;n.push(new Bn(t,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),/\./.test(e)))})),n}(e[t]),s=i.shift();if(s.multi)throw new $.Schema("Primary key cannot be multi-valued");s.keyPath&&P(r,s.keyPath,s.auto?0:s.keyPath),i.forEach((function(e){if(e.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string");P(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),n[t]=new Mn(t,s,i,r)}}))}}),this._allTables=N,this._createTransaction=function(e,n,t,r){return new be(e,n,t,r)},this._whenReady=function(e){return V||Se.letThrough?e():new De((function(e,n){if(!z){if(!b)return void n(new $.DatabaseClosed);Y.open().catch(Z)}X.then(e,n)})).then(e)},this.verno=0,this.open=function(){if(z||R)return X.then((function(){return L?dn(L):Y}));B&&(te._stackHolder=q()),z=!0,L=null,V=!1;var n=t,o=null;return De.race([te,new De((function(n,t){if(!S)throw new $.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=se?S.open(e):S.open(e,Math.round(10*Y.verno));if(!i)throw new $.MissingAPI("IndexedDB API not available");i.onerror=Dn(t),i.onblocked=He(Me),i.onupgradeneeded=He((function(n){if(o=i.transaction,se&&!Y._allowEmptyDB){i.onerror=Kn,o.abort(),i.result.close();var r=S.deleteDatabase(e);r.onsuccess=r.onerror=He((function(){t(new $.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{o.onerror=Dn(t),le((n.oldVersion>Math.pow(2,62)?0:n.oldVersion)/10,o,t)}}),t),i.onsuccess=He((function(){if(o=null,R=i.result,_n.push(Y),se)!function(){if(Y.verno=R.version/10,Y._dbSchema=I={},0===(M=m(R.objectStoreNames,0)).length)return;var e=R.transaction(Nn(M),"readonly");M.forEach((function(n){for(var t=e.objectStore(n),r=t.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf("."),i=new Bn(r,r||"",!1,!1,!!t.autoIncrement,r&&"string"!=typeof r,o),s=[],a=0;a<t.indexNames.length;++a){var u=t.index(t.indexNames[a]);o=(r=u.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Bn(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!=typeof r,o);s.push(c)}I[n]=new Mn(n,i,s,{})})),Pe([N],r(I),I)}();else if(R.objectStoreNames.length>0)try{Be(I,R.transaction(Nn(R.objectStoreNames),G))}catch(e){}R.onversionchange=He((function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)})),ue||"__dbnames"===e||vn.dbnames.put({name:e}).catch(Z),n()}),t)}))]).then((function(){return U=[],De.resolve(Sn.vip(Y.on.ready.fire)).then((function e(){if(U.length>0){var n=U.reduce(ae,Z);return U=[],De.resolve(Sn.vip(n)).then(e)}}))})).finally((function(){U=null})).then((function(){return z=!1,Y})).catch((function(e){try{o&&o.abort()}catch(e){}return z=!1,Y.close(),dn(L=e)})).finally((function(){V=!0,n()}))},this.close=function(){var e=_n.indexOf(Y);if(e>=0&&_n.splice(e,1),R){try{R.close()}catch(e){}R=null}b=!1,L=new $.DatabaseClosed,z&&a(L),X=new De((function(e){t=e})),te=new De((function(e,n){a=n}))},this.delete=function(){var n=arguments.length>0;return new De((function(t,r){if(n)throw new $.InvalidArgument("Arguments not allowed in db.delete()");function o(){Y.close();var n=S.deleteDatabase(e);n.onsuccess=He((function(){ue||vn.dbnames.delete(e).catch(Z),t()})),n.onerror=Dn(r),n.onblocked=Me}z?X.then(o):o()}))},this.backendDB=function(){return R},this.isOpen=function(){return null!==R},this.hasBeenClosed=function(){return L&&L instanceof $.DatabaseClosed},this.hasFailed=function(){return null!==L},this.dynamicallyOpened=function(){return se},this.name=e,l(this,{tables:{get:function(){return r(N).map((function(e){return N[e]}))}}}),this.on=pn(this,"populate","blocked","versionchange",{ready:[ae,Z]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(function(e){return function(n,t){Sn.vip((function(){V?(L||De.resolve().then(n),t&&e(n)):U?(U.push(n),t&&e(n)):(e(n),t||e((function e(){Y.on.ready.unsubscribe(n),Y.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=ge.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,n,t){var r=Se.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var i=n.map((function(e){var n=e instanceof me?e.name:e;if("string"!=typeof n)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return n}));if("r"==e||e==G)e=G;else{if("rw"!=e&&e!=J)throw new $.InvalidArgument("Invalid transaction mode: "+e);e=J}if(r){if(r.mode===G&&e===J){if(!o)throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new $.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(n,t){t(e)})):dn(e)}return r?r._promise(e,s,"lock"):Se.trans?un(Se.transless,(function(){return Y._whenReady(s)})):Y._whenReady(s);function s(){return De.resolve().then((function(){var n,o=Se.transless||Se,s=Y._createTransaction(e,i,I,r),a={trans:s,transless:o};r?s.idbtrans=r.idbtrans:s.create(),t.constructor===ve&&en();var u=De.follow((function(){if(n=t.call(s,s))if(n.constructor===pe){var e=nn.bind(null,null);n.then(e,e)}else"function"==typeof n.next&&"function"==typeof n.throw&&(n=Fn(n))}),a);return(n&&"function"==typeof n.then?De.resolve(n).then((function(e){return s.active?e:dn(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return n}))).then((function(e){return r&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),dn(e)}))}))}},this.table=function(e){if(!c(N,e))throw new $.InvalidTable("Table "+e+" does not exist");return N[e]},l(me.prototype,{_trans:function(e,n,t){var r=this._tx||Se.trans;return r&&r.db===Y?r===Se.trans?r._promise(e,n,t):Ze((function(){return r._promise(e,n,t)}),{trans:r,transless:Se.transless||Se}):de(e,[this.name],n)},_idbstore:function(e,n,t){var r=this.name;return this._trans(e,(function(e,t,o){if(-1===o.storeNames.indexOf(r))throw new $.NotFound("Table"+r+" not part of transaction");return n(e,t,o.idbtrans.objectStore(r),o)}),t)},get:function(e,n){if(e&&e.constructor===Object)return this.where(e).first(n);var t=this;return this._idbstore(G,(function(n,r,o){var i=o.get(e);i.onerror=Dn(r),i.onsuccess=He((function(){n(t.hook.reading.fire(i.result))}),r)})).then(n)},where:function(e){if("string"==typeof e)return new ke(this,e);if(o(e))return new ke(this,"["+e.join("+")+"]");var n=r(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);var t=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&n.every((function(n){return e.keyPath.indexOf(n)>=0}))&&e.keyPath.every((function(e){return n.indexOf(e)>=0}))}))[0];if(t&&yn!==mn)return this.where(t.name).equals(t.keyPath.map((function(n){return e[n]})));t||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+n.join("+")+"]");var i=this.schema.idxByName,s=n.reduce((function(n,t){return[n[0]||i[t],n[0]||!i[t]?Fe(n[1],(function(n){return""+j(n,t)==""+e[t]})):n[1]]}),[null,null]),a=s[0];return a?this.where(a.name).equals(e[a.keyPath]).filter(s[1]):t?this.filter(s[1]):this.where(n).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new _e(new ke(this,o(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new _e(new ke(this))},mapToClass:function(e,n){this.schema.mappedClass=e;var t=Object.create(e.prototype);n&&On(t,n),this.schema.instanceTemplate=t;var r=function(n){if(!n)return n;var t=Object.create(e.prototype);for(var r in n)if(c(n,r))try{t[r]=n[r]}catch(e){}return t};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(Sn.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Z?this._idbstore(J,(function(n,t,r,o){n(we(r,o,e,!1,Z))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,n){var t=this;return this._idbstore(J,(function(r,o,i){if(!i.keyPath&&!t.schema.primKey.auto&&!n)throw new $.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&n)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var s,a,u=function(e){0===c.length?r(e):o(new Q(t.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=e.length,f=t;if(t.hook.creating.fire===Z&&t.hook.updating.fire===Z){a=ye(c);for(var h=0,d=e.length;h<d;++h)(s=n?i.put(e[h],n[h]):i.put(e[h])).onerror=a;s.onerror=ye(c,u),s.onsuccess=In(u)}else{var p=n||i.keyPath&&e.map((function(e){return j(e,i.keyPath)})),v=p&&k(p,(function(n,t){return null!=n&&[n,e[t]]})),g=p?f.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=v[this.primKey],v[this.primKey]=null})).catch(H,(function(e){c=e.failures})).then((function(){for(var t=[],r=n&&[],o=p.length-1;o>=0;--o){var i=p[o];(null==i||v[i])&&(t.push(e[o]),n&&r.push(i),null!=i&&(v[i]=null))}return t.reverse(),n&&r.reverse(),f.bulkAdd(t,r)})).then((function(e){var n=p[p.length-1];return null!=n?n:e})):f.bulkAdd(e);g.then(u).catch(Q,(function(e){c=c.concat(e.failures),u()})).catch(o)}}),"locked")},bulkAdd:function(e,n){var t=this,r=this.hook.creating.fire;return this._idbstore(J,(function(o,i,s,a){if(!s.keyPath&&!t.schema.primKey.auto&&!n)throw new $.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&n)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return o();function u(e){0===h.length?o(e):i(new Q(t.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var c,l,f,h=[],d=e.length;if(r!==Z){var p,v=s.keyPath;l=ye(h,null,!0),f=Cn(null),x((function(){for(var t=0,o=e.length;t<o;++t){p={onerror:null,onsuccess:null};var i=n&&n[t],u=e[t],h=n?i:v?j(u,v):void 0,d=r.call(p,h,u,a);null==h&&null!=d&&(v?P(u=C(u),v,d):i=d),(c=null!=i?s.add(u,i):s.add(u))._hookCtx=p,t<o-1&&(c.onerror=l,p.onsuccess&&(c.onsuccess=f))}}),(function(e){throw p.onerror&&p.onerror(e),e})),c.onerror=ye(h,u,!0),c.onsuccess=Cn(u)}else{l=ye(h);for(var g=0,m=e.length;g<m;++g)(c=n?s.add(e[g],n[g]):s.add(e[g])).onerror=l;c.onerror=ye(h,u),c.onsuccess=In(u)}}))},add:function(e,n){var t=this.hook.creating.fire;return this._idbstore(J,(function(r,o,i,s){var a={onsuccess:null,onerror:null};if(t!==Z){var u=null!=n?n:i.keyPath?j(e,i.keyPath):void 0,c=t.call(a,u,e,s);null==u&&null!=c&&(i.keyPath?P(e,i.keyPath,c):n=c)}try{var l=null!=n?i.add(e,n):i.add(e);l._hookCtx=a,l.onerror=Tn(o),l.onsuccess=Cn((function(n){var t=i.keyPath;t&&P(e,t,n),r(n)}))}catch(e){throw a.onerror&&a.onerror(e),e}}))},put:function(e,n){var t=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==Z||o!==Z){var i=this.schema.primKey.keyPath,s=void 0!==n?n:i&&j(e,i);return null==s?this.add(e):(e=C(e),this._trans(J,(function(){return t.where(":id").equals(s).modify((function(){this.value=e})).then((function(r){return 0===r?t.add(e,n):s}))}),"locked"))}return this._idbstore(J,(function(t,r,o){var i=void 0!==n?o.put(e,n):o.put(e);i.onerror=Dn(r),i.onsuccess=He((function(n){var r=o.keyPath;r&&P(e,r,n.target.result),t(i.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(J,(function(n,t,r){var o=r.delete(e);o.onerror=Dn(t),o.onsuccess=He((function(){n(o.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(J,(function(e,n,t){var r=t.clear();r.onerror=Dn(n),r.onsuccess=He((function(){e(r.result)}))}))},update:function(e,n){if("object"!=typeof n||o(n))throw new $.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||o(e))return this.where(":id").equals(e).modify(n);r(n).forEach((function(t){P(e,t,n[t])}));var t=j(e,this.schema.primKey.keyPath);return void 0===t?dn(new $.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(t).modify(n)}}),l(be.prototype,{_lock:function(){return w(!Se.global),++this._reculock,1!==this._reculock||Se.global||(Se.lockOwnerFor=this),this},_unlock:function(){if(w(!Se.global),0==--this._reculock)for(Se.global||(Se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{un(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Se.lockOwnerFor!==this},create:function(e){var n=this;if(!this.mode)return this;if(w(!this.idbtrans),!e&&!R)switch(L&&L.name){case"DatabaseClosedError":throw new $.DatabaseClosed(L);case"MissingAPIError":throw new $.MissingAPI(L.message,L);default:throw new $.OpenFailed(L)}if(!this.active)throw new $.TransactionInactive;return w(null===this._completion._state),(e=this.idbtrans=e||R.transaction(Nn(this.storeNames),this.mode)).onerror=He((function(t){Kn(t),n._reject(e.error)})),e.onabort=He((function(t){Kn(t),n.active&&n._reject(new $.Abort(e.error)),n.active=!1,n.on("abort").fire(t)})),e.oncomplete=He((function(){n.active=!1,n._resolve()})),this},_promise:function(e,n,t){var r=this;if(e===J&&this.mode!==J)return dn(new $.ReadOnly("Transaction is readonly"));if(!this.active)return dn(new $.TransactionInactive);if(this._locked())return new De((function(o,i){r._blockedFuncs.push([function(){r._promise(e,n,t).then(o,i)},Se])}));if(t)return Ze((function(){var e=new De((function(e,t){r._lock();var o=n(e,t,r);o&&o.then&&o.then(e,t)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new De((function(e,t){var o=n(e,t,r);o&&o.then&&o.then(e,t)}));return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var n=this._root();if(e=De.resolve(e),n._waitingFor)n._waitingFor=n._waitingFor.then((function(){return e}));else{n._waitingFor=e,n._waitingQueue=[];var t=n.idbtrans.objectStore(n.storeNames[0]);!function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}()}var r=n._waitingFor;return new De((function(t,o){e.then((function(e){return n._waitingQueue.push(He(t.bind(null,e)))}),(function(e){return n._waitingQueue.push(He(o.bind(null,e)))})).finally((function(){n._waitingFor===r&&(n._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new $.Abort),this.active=!1},tables:{get:(f="Transaction.tables",d=function(){return N},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+W(q(),1)),d.apply(this,arguments)})},table:function(e){return new me(e,Y.table(e).schema,this)}}),l(ke.prototype,(function(){function e(e,n,t){var r=e instanceof ke?new _e(e):e;return r._ctx.error=t?new t(n):new TypeError(n),r}function n(e){return new _e(e,(function(){return O.only("")})).limit(0)}function t(e,n,t,r,o,i){for(var s=Math.min(e.length,r.length),a=-1,u=0;u<s;++u){var c=n[u];if(c!==r[u])return o(e[u],t[u])<0?e.substr(0,u)+t[u]+t.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+t.substr(u+1):a>=0?e.substr(0,a)+n[a]+t.substr(a+1):null;o(e[u],c)<0&&(a=u)}return s<r.length&&"next"===i?e+t.substr(e.length):s<e.length&&"prev"===i?e.substr(0,t.length):a<0?null:e.substr(0,a)+r[a]+t.substr(a+1)}function r(n,r,o,i){var s,a,u,c,l,f,h,d=o.length;if(!o.every((function(e){return"string"==typeof e})))return e(n,kn);function p(e){s=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),u="next"===e?Te:Ke;var n=o.map((function(e){return{lower:a(e),upper:s(e)}})).sort((function(e,n){return u(e.lower,n.lower)}));c=n.map((function(e){return e.upper})),l=n.map((function(e){return e.lower})),f=e,h="next"===e?"":i}p("next");var v=new _e(n,(function(){return O.bound(c[0],l[d-1]+i)}));v._ondirectionchange=function(e){p(e)};var g=0;return v._addAlgorithm((function(e,n,o){var i=e.key;if("string"!=typeof i)return!1;var s=a(i);if(r(s,l,g))return!0;for(var p=null,v=g;v<d;++v){var m=t(i,s,c[v],l[v],u,f);null===m&&null===p?g=v+1:(null===p||u(p,m)>0)&&(p=m)}return n(null!==p?function(){e.continue(p+h)}:o),!1})),v}return{between:function(t,r,o,i){o=!1!==o,i=!0===i;try{return Ee(t,r)>0||0===Ee(t,r)&&(o||i)&&(!o||!i)?n(this):new _e(this,(function(){return O.bound(t,r,!o,!i)}))}catch(n){return e(this,bn)}},equals:function(e){return new _e(this,(function(){return O.only(e)}))},above:function(e){return new _e(this,(function(){return O.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new _e(this,(function(){return O.lowerBound(e)}))},below:function(e){return new _e(this,(function(){return O.upperBound(e,!0)}))},belowOrEqual:function(e){return new _e(this,(function(){return O.upperBound(e)}))},startsWith:function(n){return"string"!=typeof n?e(this,kn):this.between(n,n+mn,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,n){return 0===e.indexOf(n[0])}),[e],mn)},equalsIgnoreCase:function(e){return r(this,(function(e,n){return e===n[0]}),[e],"")},anyOfIgnoreCase:function(){var e=F.apply(K,arguments);return 0===e.length?n(this):r(this,(function(e,n){return-1!==n.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=F.apply(K,arguments);return 0===e.length?n(this):r(this,(function(e,n){return n.some((function(n){return 0===e.indexOf(n)}))}),e,mn)},anyOf:function(){var t=F.apply(K,arguments),r=Ce;try{t.sort(r)}catch(n){return e(this,bn)}if(0===t.length)return n(this);var o=new _e(this,(function(){return O.bound(t[0],t[t.length-1])}));o._ondirectionchange=function(e){r="next"===e?Ce:Ie,t.sort(r)};var i=0;return o._addAlgorithm((function(e,n,o){for(var s=e.key;r(s,t[i])>0;)if(++i===t.length)return n(o),!1;return 0===r(s,t[i])||(n((function(){e.continue(t[i])})),!1)})),o},notEqual:function(e){return this.inAnyRange([[wn,e],[e,yn]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var n=F.apply(K,arguments);if(0===n.length)return new _e(this);try{n.sort(Ce)}catch(n){return e(this,bn)}var t=n.reduce((function(e,n){return e?e.concat([[e[e.length-1][1],n]]):[[wn,n]]}),null);return t.push([n[n.length-1],yn]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(t,r){if(0===t.length)return n(this);if(!t.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Ce(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument);var o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers;var s,a=Ce;function u(e,n){return a(e[0],n[0])}try{s=t.reduce((function(e,n){for(var t=0,r=e.length;t<r;++t){var o=e[t];if(Ee(n[0],o[1])<0&&Ee(n[1],o[0])>0){o[0]=Ee(i=o[0],s=n[0])<0?i:s,o[1]=Oe(o[1],n[1]);break}}var i,s;return t===r&&e.push(n),e}),[]),s.sort(u)}catch(n){return e(this,bn)}var c=0,l=i?function(e){return Ce(e,s[c][1])>0}:function(e){return Ce(e,s[c][1])>=0},f=o?function(e){return Ie(e,s[c][0])>0}:function(e){return Ie(e,s[c][0])>=0};var h=l,d=new _e(this,(function(){return O.bound(s[0][0],s[s.length-1][1],!o,!i)}));return d._ondirectionchange=function(e){"next"===e?(h=l,a=Ce):(h=f,a=Ie),s.sort(u)},d._addAlgorithm((function(e,n,t){for(var r=e.key;h(r);)if(++c===s.length)return n(t),!1;return!!function(e){return!l(e)&&!f(e)}(r)||(0===Ee(r,s[c][1])||0===Ee(r,s[c][0])||n((function(){a===Ce?e.continue(s[c][0]):e.continue(s[c][1])})),!1)})),d},startsWithAnyOf:function(){var t=F.apply(K,arguments);return t.every((function(e){return"string"==typeof e}))?0===t.length?n(this):this.inAnyRange(t.map((function(e){return[e,e+mn]}))):e(this,"startsWithAnyOf() only works with strings")}}})),l(_e.prototype,(function(){function e(e,n){e.filter=Fe(e.filter,n)}function n(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return Fe(r(),n())}:n,e.justLimit=t&&!r}function t(e,n){if(e.isPrimKey)return n;var t=e.table.schema.idxByName[e.index];if(!t)throw new $.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return n.index(t.name)}function o(e,n){var r=t(e,n);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function i(e,n,t,r,i){var s=e.replayFilter?Fe(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},u=0;function l(){2==++u&&t()}function f(e,t,o){if(!s||s(t,o,l,r)){var i=t.primaryKey,u=""+i;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(i)),c(a,u)||(a[u]=!0,n(e,t,o))}}e.or._iterate(f,l,r,i),Ae(o(e,i),e.algorithm,f,l,r,!e.keysOnly&&e.valueMapper)}():Ae(o(e,i),Fe(e.algorithm,s),n,t,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,n){var t=this._ctx;return t.error?t.table._trans(null,dn.bind(null,t.error)):t.table._idbstore(G,e).then(n)},_write:function(e){var n=this._ctx;return n.error?n.table._trans(null,dn.bind(null,n.error)):n.table._idbstore(J,e,"locked")},_addAlgorithm:function(e){var n=this._ctx;n.algorithm=Fe(n.algorithm,e)},_iterate:function(e,n,t,r){return i(this._ctx,e,n,t,r)},clone:function(e){var n=Object.create(this.constructor.prototype),t=Object.create(this._ctx);return e&&s(t,e),n._ctx=t,n},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var n=this._ctx;return this._read((function(t,r,o){i(n,e,t,r,o)}))},count:function(e){var n=this._ctx;if(xe(n,!0))return this._read((function(e,r,o){var i=t(n,o),s=n.range?i.count(n.range):i.count();s.onerror=Dn(r),s.onsuccess=function(t){e(Math.min(t.target.result,n.limit))}}),e);var r=0;return this._read((function(e,t,o){i(n,(function(){return++r,!1}),(function(){e(r)}),t,o)}),e)},sortBy:function(e,n){var t=e.split(".").reverse(),r=t[0],o=t.length-1;function i(e,n){return n?i(e[t[n]],n-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,n){var t=i(e,o),r=i(n,o);return t<r?-s:t>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(n)},toArray:function(e){var n=this._ctx;return this._read((function(e,r,o){if(u&&"next"===n.dir&&xe(n,!0)&&n.limit>0){var s=n.table.hook.reading.fire,a=t(n,o),c=n.limit<1/0?a.getAll(n.range,n.limit):a.getAll(n.range);c.onerror=Dn(r),c.onsuccess=In(s===ee?e:function(n){try{e(n.map(s))}catch(e){r(e)}})}else{var l=[];i(n,(function(e){l.push(e)}),(function(){e(l)}),r,o)}}),e)},offset:function(e){var t=this._ctx;return e<=0||(t.offset+=e,xe(t)?n(t,(function(){var n=e;return function(e,t){return 0===n||(1===n?(--n,!1):(t((function(){e.advance(n),n=0})),!1))}})):n(t,(function(){var n=e;return function(){return--n<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),n(this._ctx,(function(){var n=e;return function(e,t,r){return--n<=0&&t(r),n>=0}}),!0),this},until:function(n,t){return e(this._ctx,(function(e,r,o){return!n(e.value)||(r(o),t)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(n){return e(this._ctx,(function(e){return n(e.value)})),function(e,n){e.isMatch=Fe(e.isMatch,n)}(this._ctx,n),this},and:function(e){return this.filter(e)},or:function(e){return new ke(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each((function(n,t){e(t.key,t)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each((function(n,t){e(t.primaryKey,t)}))},keys:function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var t=[];return this.each((function(e,n){t.push(n.key)})).then((function(){return t})).then(e)},primaryKeys:function(e){var n=this._ctx;if(u&&"next"===n.dir&&xe(n,!0)&&n.limit>0)return this._read((function(e,r,o){var i=t(n,o),s=n.limit<1/0?i.getAllKeys(n.range,n.limit):i.getAllKeys(n.range);s.onerror=Dn(r),s.onsuccess=In(e)})).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each((function(e,n){r.push(n.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var n=this._ctx,t=n.index&&n.table.schema.idxByName[n.index];if(!t||!t.multi)return this;var r={};return e(this._ctx,(function(e){var n=e.primaryKey.toString(),t=c(r,n);return r[n]=!0,!t})),this},modify:function(e){var n=this,t=this._ctx.table.hook,o=t.updating.fire,i=t.deleting.fire;return this._write((function(t,a,u,l){var f;if("function"==typeof e)f=o===Z&&i===Z?e:function(n){var t=C(n);if(!1===e.call(this,n,this))return!1;if(c(this,"value")){var s=D(t,this.value),a=o.call(this,s,this.primKey,t,l);a&&(n=this.value,r(a).forEach((function(e){P(n,e,a[e])})))}else i.call(this,this.primKey,n,l)};else if(o===Z){var h=r(e),d=h.length;f=function(n){for(var t=!1,r=0;r<d;++r){var o=h[r],i=e[o];j(n,o)!==i&&(P(n,o,i),t=!0)}return t}}else{var p=e;e=A(p),f=function(n){var t=!1,i=o.call(this,e,this.primKey,C(n),l);return i&&s(e,i),r(e).forEach((function(r){var o=e[r];j(n,r)!==o&&(P(n,r,o),t=!0)})),i&&(e=A(p)),t}}var v=0,g=0,m=!1,y=[],w=[],b=null;function k(e){return e&&(y.push(e),w.push(b)),a(new H("Error modifying one or more objects",y,g,w))}function _(){m&&g+y.length===v&&(y.length>0?k():t(g))}n.clone().raw()._iterate((function(e,n){b=n.primaryKey;var t={primKey:n.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return y.push(e),w.push(t.primKey),_(),!0}if(!1!==f.call(t,e,t)){var o=!c(t,"value");++v,x((function(){var e=o?n.delete():n.update(t.value);e._hookCtx=t,e.onerror=Tn(r),e.onsuccess=Cn((function(){++g,_()}))}),r)}else t.onsuccess&&t.onsuccess(t.value)}),(function(){m=!0,_()}),k,u)}))},delete:function(){var e=this,n=this._ctx,t=n.range,r=n.table.hook.deleting.fire,o=r!==Z;if(!o&&xe(n)&&(n.isPrimKey&&!Pn||!t))return this._write((function(e,n,r){var o=Dn(n),i=t?r.count(t):r.count();i.onerror=o,i.onsuccess=function(){var s=i.result;x((function(){var n=t?r.delete(t):r.clear();n.onerror=o,n.onsuccess=function(){return e(s)}}),(function(e){return n(e)}))}}));var i=o?2e3:1e4;return this._write((function(t,s,a,u){var c=0,l=e.clone({keysOnly:!n.isMatch&&!o}).distinct().limit(i).raw(),f=[],h=function(){return l.each(o?function(e,n){f.push([n.primaryKey,n.value])}:function(e,n){f.push(n.primaryKey)}).then((function(){return o?f.sort((function(e,n){return Ce(e[0],n[0])})):f.sort(Ce),we(a,u,f,o,r)})).then((function(){var e=f.length;return c+=e,f=[],e<i?c:h()}))};t(h())}))}}})),s(this,{Collection:_e,Table:me,Transaction:be,Version:ce,WhereClause:ke}),Y.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()})),Y.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)})),g.forEach((function(e){e(Y)}))}function En(e){if("function"==typeof e)return new e;if(o(e))return[En(e[0])];if(e&&"object"==typeof e){var n={};return On(n,e),n}return e}function On(e,n){return r(n).forEach((function(t){var r=En(n[t]);e[t]=r})),e}function Cn(e){return He((function(n){var t=n.target,r=t._hookCtx,o=r.value||t.result,i=r&&r.onsuccess;i&&i(o),e&&e(o)}),e)}function Dn(e){return He((function(n){return Kn(n),e(n.target.error),!1}))}function In(e){return He((function(n){e(n.target.result)}))}function Tn(e){return He((function(n){var t=n.target,r=t.error,o=t._hookCtx,i=o&&o.onerror;return i&&i(r),Kn(n),e(r),!1}))}function Kn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Fn(e){var n=function(n){return e.next(n)},t=i(n),r=i((function(n){return e.throw(n)}));function i(e){return function(n){var i=e(n),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(t,r):o(s)?De.all(s).then(t,r):t(s)}}return i(n)()}function Bn(e,n,t,r,o,i,s){this.name=e,this.keyPath=n,this.unique=t,this.multi=r,this.auto=o,this.compound=i,this.dotted=s;var a="string"==typeof n?n:n&&"["+[].join.call(n,"+")+"]";this.src=(t?"&":"")+(r?"*":"")+(o?"++":"")+a}function Mn(e,n,t,r){this.name=e,this.primKey=n||new Bn,this.indexes=t||[new Bn],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=k(t,(function(e){return[e.name,e]}))}function Nn(e){return 1===e.length?e[0]:e}function Rn(e){var n=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return n&&n.bind(e)}M(B,An),l(Sn,X),l(Sn,{delete:function(e){var n=new Sn(e),t=n.delete();return t.onblocked=function(e){return n.on("blocked",e),this},t},exists:function(e){return new Sn(e).open().then((function(e){return e.close(),!0})).catch(Sn.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var n=Rn(Sn.dependencies.indexedDB);return n?new De((function(e,t){var r=n();r.onsuccess=function(n){e(m(n.target.result,0))},r.onerror=Dn(t)})).then(e):vn.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&s(this,e)}},applyStructure:On,ignoreTransaction:function(e){return Se.trans?un(Se.transless,e):e()},vip:function(e){return Ze((function(){return Se.letThrough=!0,e()}))},async:function(e){return function(){try{var n=Fn(e.apply(this,arguments));return n&&"function"==typeof n.then?n:De.resolve(n)}catch(e){return dn(e)}}},spawn:function(e,n,t){try{var r=Fn(e.apply(t,n||[]));return r&&"function"==typeof r.then?r:De.resolve(r)}catch(e){return dn(e)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(e,n){var t=De.resolve("function"==typeof e?Sn.ignoreTransaction(e):e).timeout(n||6e4);return Se.trans?Se.trans.waitFor(t):t},Promise:De,debug:{get:function(){return B},set:function(e){M(e,"dexie"===e?function(){return!0}:An)}},derive:d,extend:s,props:l,override:y,Events:pn,getByKeyPath:j,setByKeyPath:P,delByKeyPath:function(e,n){"string"==typeof n?P(e,n,void 0):"length"in n&&[].map.call(n,(function(n){P(e,n,void 0)}))},shallowClone:A,deepClone:C,getObjectDiff:D,asap:b,maxKey:yn,minKey:wn,addons:[],connections:_n,MultiModifyError:$.Modify,errnames:G,IndexSpec:Bn,TableSchema:Mn,dependencies:function(){try{return{indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:gn,version:gn.split(".").map((function(e){return parseInt(e)})).reduce((function(e,n,t){return e+n/Math.pow(10,2*t)})),default:Sn,Dexie:Sn}),De.rejectionMapper=function(e,n){if(!e||e instanceof V||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var t=new Y[e.name](n||e.message,e);return"stack"in e&&h(t,"stack",{get:function(){return this.inner.stack}}),t},(vn=new Sn("__dbnames")).version(1).stores({dbnames:"name"}),function(){var e="Dexie.DatabaseNames";try{void 0!==typeof localStorage&&void 0!==i.document&&(JSON.parse(localStorage.getItem(e)||"[]").forEach((function(e){return vn.dbnames.put({name:e}).catch(Z)})),localStorage.removeItem(e))}catch(e){}}();const qn=Sn},7276:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>O});const r={targetCharacters:{39:!0,45:!0,48:!0,49:!0,50:!0,51:!0,52:!0,53:!0,54:!0,55:!0,56:!0,57:!0,65:!0,66:!0,67:!0,68:!0,69:!0,70:!0,71:!0,72:!0,73:!0,74:!0,75:!0,76:!0,77:!0,78:!0,79:!0,80:!0,81:!0,82:!0,83:!0,84:!0,85:!0,86:!0,87:!0,88:!0,89:!0,90:!0,95:!0,97:!0,98:!0,99:!0,100:!0,101:!0,102:!0,103:!0,104:!0,105:!0,106:!0,107:!0,108:!0,109:!0,110:!0,111:!0,112:!0,113:!0,114:!0,115:!0,116:!0,117:!0,118:!0,119:!0,120:!0,121:!0,122:!0,8209:!0},quoteCharacters:{34:!0,39:!0}};const o=class{constructor(){this.array=[],this.set=new Set,this.filter=null}push(e){(null===this.filter||this.filter(e))&&(this.set.has(e)||(this.array.push(e),this.set.add(e)))}merge(e){for(let n=0;n<e.length;n++)this.push(e[n])}toArray(){return this.array}},i=e=>{const n=new o,t=a[e];t&&n.push(t);const r=u[e];r&&n.push(r);const i=O.tryToReplaceTrailingStrings(e,s);return n.merge(i),n.toArray()},s=[[{search:"nned",new:"n"},{search:"tted",new:"t"},{search:"dded",new:"d"},{search:"gged",new:"g"},{search:"pped",new:"p"},{search:"mmed",new:"m"},{search:"bbed",new:"b"},{search:"rred",new:"r"},{search:"zzed",new:"z"},{search:"ied",new:"y"}],[{search:"nning",new:"n"},{search:"tting",new:"t"},{search:"dding",new:"d"},{search:"gging",new:"g"},{search:"pping",new:"p"},{search:"mming",new:"m"},{search:"bbing",new:"b"},{search:"rring",new:"r"},{search:"lling",new:"l"},{search:"zzing",new:"z"},{search:"ing",new:""}],[{search:"ying",new:"ie"},{search:"ing",new:"e"}],[{search:"ed",new:""}],[{search:"ed",new:"e"}],[{search:"ies",new:"y"}],[{search:"ier",new:"y"}],[{search:"ves",new:"fe"}],[{search:"ves",new:"f"}],[{search:"zzes",new:"z"}],[{search:"es",new:""}],[{search:"s",new:""}],[{search:"men",new:"man"}],[{search:"ae",new:"a"}],[{search:"li",new:"us"}],[{search:"ia",new:"ium"}],[{search:"gi",new:"gus"}],[{search:"ses",new:"sis"}]],a={abode:"abide",alit:"alight",arcked:"arc",arisen:"arise",arose:"arise",ate:"eat",awoke:"awake",bade:"bid",beaten:"beat",became:"become",been:"be",began:"begin",begot:"beget",begotten:"beget",begun:"begin",beheld:"behold",bent:"bend",bereft:"bereave",besought:"beseech",bespoke:"bespeak",bethought:"bethink",betook:"betake",bidden:"bid",bit:"bit",bitten:"bite",bled:"bleed",blent:"blend",blest:"bless",blew:"blow",blown:"blow",bode:"bide",bore:"bear",borne:"bear",bought:"buy",bound:"bind",bred:"breed",broke:"break",broken:"break",brought:"bring",built:"build",burnt:"burn",came:"come",caught:"catch",chose:"choose",chosen:"choose",clave:"cleave",cleft:"cleave",clove:"cleave",cloven:"cleave",clung:"cling",could:"con",crept:"creep",crew:"crow",cried:"cry",dealt:"deal",did:"do",does:"do",done:"do",dove:"dive",drank:"drink",drawn:"draw",dreamt:"dream",drew:"draw",dried:"dry",driven:"drive",drove:"drive",drunk:"drink",dug:"dig",durst:"dare",dwelt:"dwell",eaten:"eat",fallen:"fall",fed:"feed",fell:"fall",felt:"feel",fled:"flee",flew:"fly",flied:"fly",flown:"fly",flung:"fling",forbad:"forbid",forbade:"forbid",forbidden:"forbid",forbore:"forbear",forborne:"forbear",foregone:"forego",foretold:"foretell",forgave:"forgive",forgiven:"forgive",forgot:"forget",forgotten:"forget",forwent:"forgo",fought:"fight",found:"find",fried:"fry",froze:"freeze",frozen:"freeze",gave:"give",gilt:"gild",girt:"gird",given:"give",goes:"go",gone:"go",got:"get",gotten:"get",graven:"graver",grew:"grow",ground:"grind",grown:"grow",had:"have",heard:"hear",held:"hold",hewn:"hew",hid:"hide",hove:"heave",hung:"hang",inlaid:"inlay",kept:"keep",knelt:"kneel",knew:"know",known:"know",laden:"lade",laid:"lay",lain:"lie",lay:"lie",leant:"lean",leapt:"leap",learnt:"learn",left:"leave",lent:"lend",lit:"light",lost:"lose",made:"make",meant:"mean",menservants:"manservant",met:"meet",methought:"methinks",might:"may",misled:"mislead",mistaken:"mistake",mistook:"mistake",misunderstood:"misunderstand",mown:"mow",outdid:"outdo",outdone:"outdo",outgone:"outgo",outgrew:"outgrow",outgrown:"outgrow",outran:"outrun",outrode:"outride",outsold:"outsell",outwent:"outgo",overate:"ocereat",overbore:"overbear",overborne:"overbear",overcame:"overcome",overdone:"overdo",overdrew:"overdraw",overflew:"overfly",overflown:"overfly",overhung:"overhang",overran:"overrun",overshot:"overshoot",overtaken:"overtake",overtook:"overtake",paid:"pay",partaken:"partake",partook:"partake",pent:"pen",pled:"plead",prepaid:"prepay",proven:"prove",ran:"run",rang:"ring",read:"read",remade:"remake",rent:"rent",ridden:"ride",risen:"rise",rode:"ride",rose:"rise",rove:"reeve",rung:"ring",sang:"sing",sank:"sink",sat:"sit",saw:"see",sawn:"saw",seen:"see",sent:"send",sewn:"sew",shaken:"shake",shaven:"shave",shod:"shoe",shone:"shine",shook:"shake",shorn:"shear",shot:"shoot",should:"shall",shown:"show",shrank:"shrink",shriven:"shrive",shrove:"shrive",shrunk:"shrink",shrunken:"shrink",slain:"slay",slept:"sleep",slew:"slay",slid:"slide",slung:"sling",slunk:"slink",smelt:"smell",smitten:"smite",smote:"smite",snuck:"sneak",sold:"sell",sought:"seek",sown:"sow",spake:"speak",spat:"spit",sped:"speed",spelt:"spell",spent:"spend",spilt:"spill",spoilt:"spoil",spoke:"speak",spoken:"speak",sprang:"spring",sprung:"spring",spun:"spin",stank:"stink",stole:"steal",stolen:"steal",stood:"stand",stove:"stave",strewn:"strew",stricken:"strike",stridden:"stride",striven:"strive",strode:"stride",strove:"strive",struck:"strike",strung:"string",stuck:"stick",stung:"sting",stunk:"stink",sung:"sing",sunk:"sink",sunken:"sink",swam:"swim",swept:"sweep",swollen:"swell",swore:"swear",sworn:"swear",swum:"swim",swung:"swing",taken:"take",taught:"teach",thought:"think",threw:"throw",throve:"thrive",thrown:"throw",told:"tell",took:"take",tore:"tear",torn:"tear",tried:"try",trod:"tread",trodden:"tread",unbent:"unbend",unbound:"unbind",unclad:"unclothe",undergone:"undergo",undershot:"undershoot",understood:"understand",undertook:"undertake",underwent:"undergo",undone:"undo",unsaid:"unsay",unstrung:"unstring",unwound:"unwind",upheld:"uphold",ups:"up",upping:"up",upped:"up",wend:"go",went:"go",wept:"weep",whipt:"whip",wist:"wit",withdrawn:"withdraw",withdrew:"withdraw",woke:"wake",woken:"wake",won:"win",wore:"wear",worn:"wear",would:"will",wound:"wind",wove:"weave",woven:"weave",wrapt:"wrap",writ:"write",written:"write",wrote:"write",wrought:"work",wrung:"wring"},u={abaci:"abacus",addenda:"addendum",alumni:"alumnus",apices:"apex",appendices:"appendix",automata:"automaton",axes:"axis",beaux:"beau",beeves:"beef",bronchi:"bronchus",bureaux:"bureau",busses:"bus",cacti:"cactus",calves:"calf",calyces:"calyx",cantharides:"cantharis",cherubim:"cherub",children:"child",cola:"colon",corpora:"corpus",criteria:"criterion",dicta:"dictum",elves:"elf",errata:"erratum",feet:"foot",flagella:"flagellum",foci:"focus",fora:"forum",frusta:"frustum",fungi:"fungus",geese:"goose",genera:"genus",genii:"genie",halfpence:"halfpenny",halves:"half",hooves:"hoof",indices:"index",jinn:"jinni",knives:"knife",leaves:"leaf",lei:"leu",lice:"louse",lives:"life",loaves:"loaf",loci:"locus",maria:"mare",matrices:"matrix",maxima:"maximum",memoranda:"memorandum",men:"man",mesdames:"madame",mesdemoiselles:"mademoiselle",messieurs:"monsieur",mice:"mouse",micra:"micron",minima:"minimum",nimbi:"nimbus",nuclei:"nucleus",octopi:"octopus",ova:"ovum",oxen:"ox",pease:"pea",pelves:"pelvis",pence:"penny",phenomena:"phenomenon",pix:"pic",plena:"plenum",quanta:"quantum",radii:"radius",sancta:"sanctum",selves:"self",sera:"serum",seraphim:"seraph",sheaves:"sheaf",shelves:"shelf",sox:"sock",spectra:"spectrum",staves:"staff",stomata:"stoma",strata:"stratum",strati:"stratus",syllabi:"syllabus",tableaux:"tableau",teeth:"tooth",termini:"terminus",testes:"testis",thieves:"thief",tympana:"tympanum",ultimata:"ultimatum",vortices:"vortex",wharves:"wharf",wives:"wife",wolves:"wolf",women:"woman",yourselves:"yourself",Messeigneurs:"Monseigneur"},c={3:[[0,1,0],[0,-1,0]],4:[[0,0,1,0],[0,1,0,0],[0,1,0,1],[0,2,0],[0,-1,0,0],[0,0,-1,0],[0,-2,0]],5:[[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,1],[0,0,2,0],[0,1,0,0,0],[0,1,0,0,1],[0,1,0,1,0],[0,2,0,0],[0,2,0,1],[0,3,0],[0,-1,0,0,0],[0,-3,0]],6:[[0,0,0,0,1,0],[0,0,0,1,0,0],[0,0,0,1,0,1],[0,0,0,2,0],[0,0,1,0,0,0],[0,0,1,0,0,1],[0,0,1,0,1,0],[0,0,2,0,0],[0,0,2,0,1],[0,0,3,0],[0,1,0,0,0,0],[0,1,0,0,0,1],[0,1,0,0,1,0],[0,1,0,1,0,0],[0,1,0,2,0],[0,2,0,0,0],[0,2,0,0,1],[0,2,0,1,0],[0,3,0,0],[0,3,0,1],[0,-1,0,0,0,0],[0,-4,0]],7:[[0,0,0,0,0,1,0],[0,0,0,0,1,0,0],[0,0,0,0,1,0,1],[0,0,0,0,2,0],[0,0,0,1,0,0,0],[0,0,0,1,0,0,1],[0,0,0,1,0,1,0],[0,0,0,2,0,0],[0,0,0,2,0,1],[0,0,0,3,0],[0,0,1,0,0,0,0],[0,0,1,0,0,0,1],[0,0,1,0,0,1,0],[0,0,1,0,1,0,0],[0,0,1,0,2,0],[0,0,2,0,0,0],[0,0,2,0,0,1],[0,0,2,0,1,0],[0,0,3,0,0],[0,0,3,0,1],[0,1,0,0,0,0,0],[0,1,0,0,0,0,1],[0,1,0,0,0,1,0],[0,1,0,0,1,0,0],[0,1,0,0,2,0],[0,1,0,1,0,0,0],[0,1,0,2,0,0],[0,1,0,3,0],[0,2,0,0,0,0],[0,2,0,0,0,1],[0,2,0,0,1,0],[0,2,0,1,0,0],[0,2,0,2,0],[0,3,0,0,0],[0,3,0,0,1],[0,3,0,1,0],[0,-1,0,0,0,0,0]],8:[[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,1],[0,0,0,0,0,2,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,1],[0,0,0,0,1,0,1,0],[0,0,0,0,2,0,0],[0,0,0,0,2,0,1],[0,0,0,0,3,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,1],[0,0,0,1,0,0,1,0],[0,0,0,1,0,1,0,0],[0,0,0,1,0,2,0],[0,0,0,2,0,0,0],[0,0,0,2,0,0,1],[0,0,0,2,0,1,0],[0,0,0,3,0,0],[0,0,0,3,0,1],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,1],[0,0,1,0,0,0,1,0],[0,0,1,0,0,1,0,0],[0,0,1,0,0,2,0],[0,0,1,0,1,0,0,0],[0,0,1,0,2,0,0],[0,0,1,0,3,0],[0,0,2,0,0,0,0],[0,0,2,0,0,0,1],[0,0,2,0,0,1,0],[0,0,2,0,1,0,0],[0,0,2,0,2,0],[0,0,3,0,0,0],[0,0,3,0,0,1],[0,0,3,0,1,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,1,0,0,0,1,0,0],[0,1,0,0,0,2,0],[0,1,0,0,1,0,0,0],[0,1,0,0,2,0,0],[0,1,0,0,3,0],[0,1,0,1,0,0,0,0],[0,1,0,2,0,0,0],[0,1,0,3,0,0],[0,2,0,0,0,0,0],[0,2,0,0,0,0,1],[0,2,0,0,0,1,0],[0,2,0,0,1,0,0],[0,2,0,0,2,0],[0,2,0,1,0,0,0],[0,2,0,2,0,0],[0,2,0,3,0],[0,3,0,0,0,0],[0,3,0,0,0,1],[0,3,0,0,1,0],[0,3,0,1,0,0],[0,3,0,2,0],[0,-1,0,0,0,0,0,0]],9:[[0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0,1],[0,0,0,0,0,0,2,0],[0,0,0,0,0,1,0,0,0],[0,0,0,0,0,1,0,0,1],[0,0,0,0,0,1,0,1,0],[0,0,0,0,0,2,0,0],[0,0,0,0,0,2,0,1],[0,0,0,0,0,3,0],[0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,1],[0,0,0,0,1,0,0,1,0],[0,0,0,0,1,0,1,0,0],[0,0,0,0,1,0,2,0],[0,0,0,0,2,0,0,0],[0,0,0,0,2,0,0,1],[0,0,0,0,2,0,1,0],[0,0,0,0,3,0,0],[0,0,0,0,3,0,1],[0,0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0,1],[0,0,0,1,0,0,0,1,0],[0,0,0,1,0,0,1,0,0],[0,0,0,1,0,0,2,0],[0,0,0,1,0,1,0,0,0],[0,0,0,1,0,2,0,0],[0,0,0,1,0,3,0],[0,0,0,2,0,0,0,0],[0,0,0,2,0,0,0,1],[0,0,0,2,0,0,1,0],[0,0,0,2,0,1,0,0],[0,0,0,2,0,2,0],[0,0,0,3,0,0,0],[0,0,0,3,0,0,1],[0,0,0,3,0,1,0],[0,0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,1],[0,0,1,0,0,0,0,1,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,2,0],[0,0,1,0,0,1,0,0,0],[0,0,1,0,0,2,0,0],[0,0,1,0,0,3,0],[0,0,1,0,1,0,0,0,0],[0,0,1,0,2,0,0,0],[0,0,1,0,3,0,0],[0,0,2,0,0,0,0,0],[0,0,2,0,0,0,0,1],[0,0,2,0,0,0,1,0],[0,0,2,0,0,1,0,0],[0,0,2,0,0,2,0],[0,0,2,0,1,0,0,0],[0,0,2,0,2,0,0],[0,0,2,0,3,0],[0,0,3,0,0,0,0],[0,0,3,0,0,0,1],[0,0,3,0,0,1,0],[0,0,3,0,1,0,0],[0,0,3,0,2,0],[0,1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,1],[0,1,0,0,0,0,0,1,0],[0,1,0,0,0,0,1,0,0],[0,1,0,0,0,0,2,0],[0,1,0,0,0,1,0,0,0],[0,1,0,0,0,2,0,0],[0,1,0,0,0,3,0],[0,1,0,0,1,0,0,0,0],[0,1,0,0,2,0,0,0],[0,1,0,0,3,0,0],[0,1,0,1,0,0,0,0,0],[0,1,0,2,0,0,0,0],[0,1,0,3,0,0,0],[0,2,0,0,0,0,0,0],[0,2,0,0,0,0,0,1],[0,2,0,0,0,0,1,0],[0,2,0,0,0,1,0,0],[0,2,0,0,0,2,0],[0,2,0,0,1,0,0,0],[0,2,0,0,2,0,0],[0,2,0,0,3,0],[0,2,0,1,0,0,0,0],[0,2,0,2,0,0,0],[0,2,0,3,0,0],[0,3,0,0,0,0,0],[0,3,0,0,0,0,1],[0,3,0,0,0,1,0],[0,3,0,0,1,0,0],[0,3,0,0,2,0],[0,3,0,1,0,0,0],[0,3,0,2,0,0],[0,3,0,3,0],[0,-1,0,0,0,0,0,0,0]],10:[[0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,2,0,0],[0,0,0,0,0,0,2,0,1],[0,0,0,0,0,0,3,0],[0,0,0,0,0,1,0,2,0],[0,0,0,0,0,2,0,0,0],[0,0,0,0,0,2,0,0,1],[0,0,0,0,0,2,0,1,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,3,0,1],[0,0,0,0,1,0,0,2,0],[0,0,0,0,1,0,2,0,0],[0,0,0,0,1,0,3,0],[0,0,0,0,2,0,0,0,0],[0,0,0,0,2,0,0,0,1],[0,0,0,0,2,0,0,1,0],[0,0,0,0,2,0,1,0,0],[0,0,0,0,2,0,2,0],[0,0,0,0,3,0,0,0],[0,0,0,0,3,0,0,1],[0,0,0,0,3,0,1,0],[0,0,0,1,0,0,0,2,0],[0,0,0,1,0,0,2,0,0],[0,0,0,1,0,0,3,0],[0,0,0,1,0,2,0,0,0],[0,0,0,1,0,3,0,0],[0,0,0,2,0,0,0,0,0],[0,0,0,2,0,0,0,0,1],[0,0,0,2,0,0,0,1,0],[0,0,0,2,0,0,1,0,0],[0,0,0,2,0,0,2,0],[0,0,0,2,0,1,0,0,0],[0,0,0,2,0,2,0,0],[0,0,0,2,0,3,0],[0,0,0,3,0,0,0,0],[0,0,0,3,0,0,0,1],[0,0,0,3,0,0,1,0],[0,0,0,3,0,1,0,0],[0,0,0,3,0,2,0],[0,0,1,0,0,0,0,2,0],[0,0,1,0,0,0,2,0,0],[0,0,1,0,0,0,3,0],[0,0,1,0,0,2,0,0,0],[0,0,1,0,0,3,0,0],[0,0,1,0,2,0,0,0,0],[0,0,1,0,3,0,0,0],[0,0,2,0,0,0,0,0,0],[0,0,2,0,0,0,0,0,1],[0,0,2,0,0,0,0,1,0],[0,0,2,0,0,0,1,0,0],[0,0,2,0,0,0,2,0],[0,0,2,0,0,1,0,0,0],[0,0,2,0,0,2,0,0],[0,0,2,0,0,3,0],[0,0,2,0,1,0,0,0,0],[0,0,2,0,2,0,0,0],[0,0,2,0,3,0,0],[0,0,3,0,0,0,0,0],[0,0,3,0,0,0,0,1],[0,0,3,0,0,0,1,0],[0,0,3,0,0,1,0,0],[0,0,3,0,0,2,0],[0,0,3,0,1,0,0,0],[0,0,3,0,2,0,0],[0,0,3,0,3,0],[0,1,0,0,0,0,0,2,0],[0,1,0,0,0,0,2,0,0],[0,1,0,0,0,0,3,0],[0,1,0,0,0,2,0,0,0],[0,1,0,0,0,3,0,0],[0,1,0,0,2,0,0,0,0],[0,1,0,0,3,0,0,0],[0,1,0,2,0,0,0,0,0],[0,1,0,3,0,0,0,0],[0,2,0,0,0,0,0,0,0],[0,2,0,0,0,0,0,0,1],[0,2,0,0,0,0,0,1,0],[0,2,0,0,0,0,1,0,0],[0,2,0,0,0,0,2,0],[0,2,0,0,0,1,0,0,0],[0,2,0,0,0,2,0,0],[0,2,0,0,0,3,0],[0,2,0,0,1,0,0,0,0],[0,2,0,0,2,0,0,0],[0,2,0,0,3,0,0],[0,2,0,1,0,0,0,0,0],[0,2,0,2,0,0,0,0],[0,2,0,3,0,0,0],[0,3,0,0,0,0,0,0],[0,3,0,0,0,0,0,1],[0,3,0,0,0,0,1,0],[0,3,0,0,0,1,0,0],[0,3,0,0,0,2,0],[0,3,0,0,1,0,0,0],[0,3,0,0,2,0,0],[0,3,0,0,3,0],[0,3,0,1,0,0,0,0],[0,3,0,2,0,0,0],[0,3,0,3,0,0],[0,-1,0,0,0,0,0,0,0,0]]},l=(e,n)=>{const t=[];let r=0;const o=[];for(let i=0;i<n.length;i++){const s=n[i];0===s?(t.push(e[r]),r+=1):s>0?(o.push(t.length),t.push(null),r+=s):r+=-s}if(1===o.length)t[o[0]]="~";else{let e=65;for(let n=0;n<o.length;n++){t[o[n]]=String.fromCharCode(e),e+=1}}return t},f=e=>{const n=c[e.length];if(!n)return[];const t=[];for(let r=0;r<n.length;r++){const o=n[r],i=l(e,o);t.push(i)}return t},h=(e,n)=>{let t=null;const r=n[e];if(r)t=r;else{const r=e.charCodeAt(0);r>=65&&r<=90&&(e.endsWith("'s")||e.endsWith("s'"))&&(t=n["'s"])}return t},d="one's",p="someone",v="someone's",g="oneself",m=[{my:d,your:d,his:d,her:d,its:d,our:d,their:d,"'s":d,"one's":d,"someone's":v,myself:g,yourself:g,himself:g,herself:g,ourselves:g,themselves:g,him:p,them:p,us:p},{my:v,your:v,his:v,her:v,its:v,our:v,their:v,"'s":v,"one's":d,"someone's":v,myself:g,yourself:g,himself:g,herself:g,ourselves:g,themselves:g,him:p,them:p,us:p},{my:v,your:v,his:v,her:p,its:v,our:v,their:v,"'s":v,"one's":d,"someone's":v,myself:g,yourself:g,himself:g,herself:g,ourselves:g,themselves:g,him:p,them:p,us:p}],y=e=>{let n=[],t=!1;for(let r=0;r<m.length;r++){const o=Object.assign([],e);for(let e=0;e<o.length;e++){const n=h(o[e],m[r]);n&&(o[e]=n,t=!0)}t&&n.push(o)}return n},w={centre:"center",colour:"color"},b=e=>{let n=!1;const t=[];for(let r=0;r<e.length;r++){const o=e[r],i=w[o];i?(n=!0,t.push(i)):t.push(o)}return n?t:null},k={createLookupWords:(e,n=!1,t=!1)=>{const r=k.dealWithHyphens(e),i=r.toLowerCase(),s=i===r,a=s?[r]:[r,i],u=new o;t&&u.merge(r);const c=_(a);for(let e=0;e<c.length;e++)u.merge(x(c[e],s));const l=c[0]&&c[0][0];return l&&u.merge(E(l)),n&&u.merge(u.toArray().map((e=>e.toUpperCase()))),u.toArray().filter((e=>e.length>=2||e===l))}},_=e=>{const n=[];for(let t=0;t<e.length;t++){const r=e[t],o=k.splitIntoWords(r);n.push(o);const i=b(o);i&&n.push(i)}return n},x=(e,n)=>{const t=[],r=P(e,!n,1);t.push(...r);const o=e.length>=2?y(e):[];for(let e=0;e<o.length;e++){const r=o[e];if(r){const e=P(r,!n,2);t.push(...e)}}return t},j=//g;k.dealWithHyphens=e=>{const n=e.replace(j,"-");let t="",o=0;for(;;){if(o>=n.length){t+=n.substring(o);break}const e=n.indexOf("-",o);if(-1===e||e===n.length-1){t+=n.substring(o);break}let i=!1;t+=n.substring(o,e);for(let s=e+1;s<n.length;s++){const a=n.charCodeAt(s);if(r.targetCharacters[a]){s===e+1&&(t+="-"),o=s,i=!0;break}}i||(o=n.length)}return t};const P=(e,n,t=1)=>{const r=k.linkWords(e,t);if(t<=1){const t=k.parseFirstWord(e[0],n);r.push(...t)}const o=[];for(let e=0;e<r.length;e++){const n=k.tryToReplaceTrailingStrings(r[e],A);o.push(...n)}return r.push(...o),r};k.splitIntoWords=e=>{const n=[];let t=null,o=0;for(;;){const i=e.charCodeAt(o);if(r.targetCharacters[i])null===t&&(t=o);else if(null!==t){const r=e.substring(t,o);n.push(r),t=null}if(o+=1,o>=e.length){if(null!==t){const r=e.substring(t);n.push(r)}break}}return n},k.splitString=e=>{const n=[];let t=0,r=0,o=!0;for(;!(r>=e.length);){const i=e.charCodeAt(r),s=i>=65&&i<=90;let a=null;if(35===i||45===i||46===i||95===i?(a=e.substring(t,r),t=r+1):s&&!o?(a=e.substring(t,r),t=r):o=s,a){n.push(a);const e=a.toLowerCase();e!==a&&n.push(e)}r+=1}if(t>0){const r=e.substring(t);n.push(r);const o=r.toLowerCase();o!==r&&n.push(o)}return n};const A=[[{search:"'s",new:""},{search:"s",new:""}],[{search:"er",new:""}],[{search:"iest",new:"y"}],[{search:"est",new:""}]];k.parseFirstWord=(e,n,t=3)=>{if(!e)return[];const r=new o;r.filer=e=>e.length>=t;const s=e.toLowerCase(),a=n||s===e?[e]:[e,s];for(let n=0;n<a.length;n++){const t=a[n];n>=1&&r.push(t),r.merge(k.tryToReplaceTrailingStrings(t,A));const o=k.splitString(t);o.length>=2&&r.push(o.join(" ")),r.merge(o);const s=o.map(i);for(let e=0;e<s.length;e++)r.merge(s[e]);if(o.length>=2){const n=o[o.length-1],t=e.charCodeAt(e.length-n.length-1);45!==t&&8209!==t||r.push("-"+n)}}return r.toArray()},k.replaceTrailingCharacters=(e,n,t)=>{let r=null;return e.endsWith(n)&&(r=e.substring(e,e.length-n.length)+t),r},k.tryToReplaceTrailingStrings=(e,n,t=3)=>{let r=[];for(let o=0;o<n.length;o++){const i=n[o];for(let n=0;n<i.length;n++){const o=i[n];let s=k.replaceTrailingCharacters(e,o.search,o.new);if(s&&s.length>=t){r.push(s);break}}}return r},k.linkWords=(e,n=1)=>{let t=[];if(0===e.length)return t;const r=e[0],o=[r].concat(i(r)),s=[];for(let r=0;r<o.length;r++){const i=[].concat(e);i[0]=o[r];const a=[],u=[];for(let e=0;e<i.length;e++){let t=i[e];a.push(t),e>=n-1&&(u.push(a.join(" ")),s.push([].concat(a)))}t.push(...u.reverse())}for(let e=0;e<s.length;e++){const n=f(s[e]).map((e=>e.join(" ")));t.push(...n)}return t};const S=["-",""," "],E=e=>{const n=e.split("-");if(n.length<=1)return[];const t=new o,r=n[0],s=n.join("");t.push(s),t.push(s.toLowerCase());const a=i(r);for(let e=0;e<a.length;e++){n[0]=a[e];for(let e=0;e<S.length;e++){const r=S[e],o=n.join(r);t.push(o),t.push(o.toLowerCase())}}return t.toArray()},O=k}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r](i,i.exports,t),i.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const r=t(7054).A,o=t(7276);let i=new r("dexiedict");async function s(e){let n=await async function(e){let n=await fetch(e).then((e=>e.json())),t=[];for(let e in n)t.push({word:e,description:n[e]});return t}(e);return i.ejdict.bulkAdd(n).then((function(e){console.log("Last word was: "+e)})).catch(r.BulkError,(function(e){console.error(e)}))}i.version(1).stores({ejdict:"word"});const a=e=>new Promise((n=>setTimeout(n,e)));i.ejdict.count().then((async e=>{if(console.log(`Number of words: ${e}`),e<46820){const e=chrome.runtime.getURL("initial_dict1.json"),n=chrome.runtime.getURL("initial_dict2.json");await a(5e3),console.log("Dict1 starts to add words"),await s(e),console.log("Dict1 finishes to add words"),await a(5e3),console.log("Dict2 starts to add words"),await s(n),console.log("Dict2 finishes to add words")}})),chrome.runtime.onMessageExternal.addListener(((e,n,t)=>{if(e.englishWord){let n=e.englishWord;const r=o.default.createLookupWords(n);let s=[];r.forEach((e=>{s.push(function(e){return new Promise(((n,t)=>{i.ejdict.get({word:e},(t=>{const r=t?t.description:null;n({japaneseDescription:r,englishWord:e})}))}))}(e))})),Promise.all(s).then((e=>{const n=e.filter((e=>e.japaneseDescription));t({englishJapaneseDictArray:n})}))}return!0})),chrome.runtime.onInstalled.addListener((function(e){"install"===e.reason&&chrome.tabs.create({url:"https://sites.google.com/view/niko-hulu-license/"})})),chrome.runtime.onMessageExternal.addListener(((e,n,t)=>(e.favoritePhrases&&chrome.storage.local.set({favoritePhrases:e.favoritePhrases},(()=>{const e="Finished favoritePhrases to the backup.";console.log(e),t({message:e})})),e.getFavoritePhrases&&chrome.storage.local.get("favoritePhrases",(e=>{if(e.favoritePhrases)console.log("favoritePhrases exist to restore"),t({favoritePhrases:e.favoritePhrases});else{const e="favoritePhrases doesn't exist to restore";console.log(e),t({message:e})}})),!0)))})();